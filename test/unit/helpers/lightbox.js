window.c6.kStartTime = new Date().getTime();(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
"use strict";!function(e){var r=e.babelHelpers={};r.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&r.defaults(e,t)},r.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},r.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r.createDecoratedClass=function(){function e(e,r,t){for(var n=0;n<r.length;n++){var o=r[n],i=o.decorators,a=o.key;if(delete o.key,delete o.decorators,o.enumerable=o.enumerable||!1,o.configurable=!0,("value"in o||o.initializer)&&(o.writable=!0),i){for(var u=0;u<i.length;u++){var l=i[u];if("function"!=typeof l)throw new TypeError("The decorator for method "+o.key+" is of the invalid type "+typeof l);o=l(e,a,o)||o}if(void 0!==o.initializer){t[a]=o;continue}}Object.defineProperty(e,a,o)}}return function(r,t,n,o,i){return t&&e(r.prototype,t,o),n&&e(r,n,i),r}}(),r.createDecoratedObject=function(e){for(var r={},t=0;t<e.length;t++){var n=e[t],o=n.decorators,i=n.key;if(delete n.key,delete n.decorators,n.enumerable=!0,n.configurable=!0,n.writable=!0,o)for(var a=0;a<o.length;a++){var u=o[a];if("function"!=typeof u)throw new TypeError("The decorator for method "+n.key+" is of the invalid type "+typeof u);n=u(r,i,n)||n}n.initializer&&(n.value=n.initializer.call(r)),Object.defineProperty(r,i,n)}return r},r.defineDecoratedPropertyDescriptor=function(e,r,t){var n=t[r];if(n){var o={};for(var i in n)o[i]=n[i];o.value=o.initializer.call(e),Object.defineProperty(e,r,o)}},r.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},r.taggedTemplateLiteralLoose=function(e,r){return e.raw=r,e},r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},r.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},r.slicedToArray=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return t}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.slicedToArrayLoose=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var t,n=[],o=e[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!r||n.length!==r););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r.hasOwn=Object.prototype.hasOwnProperty,r.slice=Array.prototype.slice,r.bind=Function.prototype.bind,r.defineProperty=function(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0})},r.asyncToGenerator=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(n,a){try{var u=r[n](a),l=u.value}catch(f){return void t(f)}u.done?e(l):Promise.resolve(l).then(o,i)}var o=n.bind(null,"next"),i=n.bind(null,"throw");o()})}},r.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r},r.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},r._typeof=function(e){return e&&e.constructor===Symbol?"symbol":typeof e},r._extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.get=function(e,r,t){for(var n=!0;n;){u=f=l=void 0,n=!1;var o=e,i=r,a=t,u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(a)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;e=f,r=i,t=a,n=!0}},r.set=function t(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);null!==a&&t(a,r,n,o)}else if("value"in i&&i.writable)i.value=n;else{var u=i.set;void 0!==u&&u.call(o,n)}return n},r.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.temporalUndefined={},r.temporalAssertDefined=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return!0},r.selfGlobal="undefined"==typeof e?self:e,r.defaultProps=function(e,r){if(e)for(var t in e)"undefined"==typeof r[t]&&(r[t]=e[t]);return r},r._instanceof=function(e,r){return null!=r&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},r.interopRequire=function(e){return e&&e.__esModule?e["default"]:e}}("undefined"==typeof global?self:global);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
(function (process){
/* Sticking a nasty old </script> in this comment... Here's one more for good measure... </script>. </link> is okay, though. */
"use strict";function getQueue(e,n){var r=_(e).queueHash[n];if(!r)throw new Error("Unknown queue: ["+n+"].");return r}function executeNext(){nextRuns.length<1||(runner=null,Runner.run(function(){for(var e=void 0;e=nextRuns.shift();){var n=e[0],r=e[1];n.apply(void 0,babelHelpers.toConsumableArray(r))}}))}function schedule(e){var n=e.queue,r=e.context,t=e.fn,u=e.args,s=e.once;if(!runner)throw new Error("Cannot schedule task because there is no open runner instance.");s?runner.scheduleOnce(n,r,t,u):runner.schedule(n,r,t,u)}exports.__esModule=!0;var _privateParts=require("private-parts"),_utilsJs=require("./utils.js"),_globalJs=require("./global.js"),_globalJs2=babelHelpers.interopRequireDefault(_globalJs),_=_privateParts.createKey(),runner=null,Queue=function(){function e(){babelHelpers.classCallCheck(this,e),this.runner=null,_(this).items=[]}return e.prototype.add=function(e,n){var r=void 0===arguments[2]?[]:arguments[2];_(this).items.push({context:e,fn:n,args:r,once:!1})},e.prototype.addOnce=function(e,n){for(var r=void 0===arguments[2]?[]:arguments[2],t=_(this),u=t.items,s=u.length;s--;){var a=u[s];if(a.once&&a.fn===n&&a.context===e)return void(a.args=r)}u.push({context:e,fn:n,args:r,once:!0})},babelHelpers.createClass(e,[{key:"hasWork",get:function(){return _(this).items.length>0}}]),e}(),AsyncQueue=function(e){function n(){babelHelpers.classCallCheck(this,n),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(n,e),n.prototype.flush=function(e){var n=_(this).items;_(this).items=[],runner=this.runner,_utilsJs.allSettled(_utilsJs.map(n,function(e){var n=e.context,r=e.fn,t=e.args;return"string"==typeof r&&(r=n[r]),r.call.apply(r,[n].concat(babelHelpers.toConsumableArray(t)))})).then(function(n){var r=_utilsJs.find(n,function(e){var n=e.state;return"rejected"===n});r?process.nextTick(function(){throw r.reason}):e()}),runner=null},n}(Queue),RAFQueue=function(e){function n(){babelHelpers.classCallCheck(this,n),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(n,e),n.prototype.flush=function(n){var r=this;_globalJs2["default"].requestAnimationFrame(function(){return e.prototype.flush.call(r,n)})},n}(AsyncQueue),BeforeRenderQueue=function(e){function n(){babelHelpers.classCallCheck(this,n),e.call(this),this.name="beforeRender"}return babelHelpers.inherits(n,e),n}(AsyncQueue),RenderQueue=function(e){function n(){babelHelpers.classCallCheck(this,n),e.call(this),this.name="render"}return babelHelpers.inherits(n,e),n}(RAFQueue),AfterRenderQueue=function(e){function n(){babelHelpers.classCallCheck(this,n),e.call(this),this.name="afterRender"}return babelHelpers.inherits(n,e),n}(AsyncQueue),Runner=function(){function e(n){babelHelpers.classCallCheck(this,e);var r=_(this);r.queues=n,r.queueHash={};for(var t=n,u=Array.isArray(t),s=0,t=u?t:t[Symbol.iterator]();;){var a;if(u){if(s>=t.length)break;a=t[s++]}else{if(s=t.next(),s.done)break;a=s.value}var l=a;l.runner=this,r.queueHash[l.name]=l}}return e.prototype.schedule=function(e,n,r,t){getQueue(this,e).add(n,r,t)},e.prototype.scheduleOnce=function(e,n,r,t){getQueue(this,e).addOnce(n,r,t)},e.prototype.flush=function(){for(var e=this,n=void 0===arguments[0]?_utilsJs.noop:arguments[0],r=_(this).queues,t=Array.isArray(r),u=0,r=t?r:r[Symbol.iterator]();;){var s;if(t){if(u>=r.length)break;s=r[u++]}else{if(u=r.next(),u.done)break;s=u.value}var a=s;if(a.hasWork)return void a.flush(function(){return e.flush(n)})}n()},e}(),nextRuns=[];Runner.queues=[BeforeRenderQueue,RenderQueue,AfterRenderQueue],Runner.run=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;n>t;t++)r[t-1]=arguments[t];var u=void 0;if(runner)throw runner=null,new Error("Cannot call Runner.run() because a flush is already in progress.");runner=new this(_utilsJs.map(this.queues,function(e){return new e}));try{u=e.apply(void 0,r),runner.flush(executeNext)}catch(s){throw s}finally{runner=null}return u},Runner.schedule=function(e,n,r,t){return schedule({queue:e,context:n,fn:r,args:t,once:!1})},Runner.scheduleOnce=function(e,n,r,t){return schedule({queue:e,context:n,fn:r,args:t,once:!0})},Runner.runNext=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;n>t;t++)r[t-1]=arguments[t];return runner?void nextRuns.push([e,r]):this.run.apply(this,[e].concat(r))},exports["default"]=Runner,module.exports=exports["default"];
}).call(this,require('_process'))

},{"./global.js":11,"./utils.js":13,"_process":183,"private-parts":187}],3:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _RunnerJs=require("./Runner.js"),_RunnerJs2=babelHelpers.interopRequireDefault(_RunnerJs),ES6Promise=Promise,RunnerPromise=function(e){function r(){babelHelpers.classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(r,e),r.prototype.then=function(r,n){return e.prototype.then.call(this,r&&function(e){return _RunnerJs2["default"].run(r,e)},n&&function(e){return _RunnerJs2["default"].run(n,e)})},r}(ES6Promise);exports["default"]=RunnerPromise,module.exports=exports["default"];
},{"./Runner.js":2}],4:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _privateParts=require("private-parts"),_=_privateParts.createKey(),Animator=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).listeners={}}return e.prototype.on=function(e,t){var r=_(this).listeners;(r[e]||(r[e]=[])).push(t)},e.prototype.remove=function(e,t){var r=_(this).listeners;r[e]=r[e].filter(function(e){return e!==t})},e.prototype.trigger=function(e,t){var r=_(this).listeners[e]||[];return r.length<1?Promise.resolve():new Promise(function(e){var n=[];r.forEach(function(r,i){function s(){n[i]=!0,n.indexOf(!1)<0&&e()}n[i]=!1,r(t,s)})})},e}();exports["default"]=new Animator,module.exports=exports["default"];
},{"private-parts":187}],5:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _MixableJs=require("./Mixable.js"),_MixableJs2=babelHelpers.interopRequireDefault(_MixableJs),Controller=function(e){function t(){babelHelpers.classCallCheck(this,t),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(t,e),t.prototype.addView=function(e){var t=this;return e.on("action",function(r,l,o){if("controller"===r){if("function"!=typeof t[l])throw new TypeError("Controller tried to respond to action ["+l+"] from View ["+e.id+"] but"+(" it does not implement "+l+"()."));t[l].apply(t,babelHelpers.toConsumableArray(o))}})},t}(_MixableJs2["default"]);exports["default"]=Controller,module.exports=exports["default"];
},{"./Mixable.js":6}],6:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utilsJs=require("../utils.js"),Mixable=function t(){var s=this,r=arguments;babelHelpers.classCallCheck(this,t),_utilsJs.forEach(this.constructor.mixins,function(t){return t.call.apply(t,[s].concat(babelHelpers.slice.call(r)))})};Mixable.mixins=[],Mixable.mixin=function(){for(var t=this,s=arguments.length,r=Array(s),e=0;s>e;e++)r[e]=arguments[e];this.mixins=this.mixins.concat(r),_utilsJs.forEach(r,function(s){var r=function(r){var e=t.prototype[r],i=s.prototype[r];t.prototype[r]=e?function(){for(var t=arguments.length,s=Array(t),r=0;t>r;r++)s[r]=arguments[r];var a="super"in this,n=this["super"],l=void 0;return this["super"]=e,l=i.call.apply(i,[this].concat(s)),a?this["super"]=n:delete this["super"],l}:i};for(var e in s.prototype)r(e)})},exports["default"]=Mixable,module.exports=exports["default"];
},{"../utils.js":13}],7:[function(require,module,exports){
"use strict";function makeConditionallyPresentDirective(t,e){return function(i){var r=i.getAttribute(t);i.insertAdjacentHTML("beforebegin","<!-- "+t+'="'+r+'" -->');var n=i.previousSibling;return function(t){var s=e?!t(r):t(r);s&&!i.parentNode?n.parentNode.insertBefore(i,n.nextSibling):!s&&i.parentNode&&i.parentNode.removeChild(i)}}}exports.__esModule=!0;var _RunnerJs=require("../Runner.js"),_RunnerJs2=babelHelpers.interopRequireDefault(_RunnerJs),_ViewJs=require("./View.js"),_ViewJs2=babelHelpers.interopRequireDefault(_ViewJs),_twobitsJs=require("twobits.js"),_twobitsJs2=babelHelpers.interopRequireDefault(_twobitsJs),_utilsJs=require("../utils.js"),_privateParts=require("private-parts"),_=_privateParts.createKey();_twobitsJs2["default"].directive("[data-if]",makeConditionallyPresentDirective("data-if",!1)),_twobitsJs2["default"].directive("[data-unless]",makeConditionallyPresentDirective("data-unless",!0)),_twobitsJs2["default"].directive("[data-class]",function(t){var e=t.className.split(/\s+/),i=_utilsJs.map(t.getAttribute("data-class").split(/\s+/),function(t){return t.split(":")}),r=t.className;return function(n){var s=_utilsJs.map(i,function(t){var e=t[0],i=t[1],r=t[2],s=n(e),a=!!i||!!r;return a?s?i:r||"":s}),a=_utilsJs.filter(e.concat(s),function(t){return!!t}).join(" ");a!==r&&(t.className=r=a)}}),_twobitsJs2["default"].directive("[data-attributes]",function(t){var e=_utilsJs.map(t.getAttribute("data-attributes").split(/\s+/),function(t){return t.split(":")}),i=_utilsJs.reduce(e,function(t,e){var i=e[0];return t[i]=null,t},{});return function(r){_utilsJs.forEach(e,function(e){var n=e[0],s=e[1],a=r(s);i[n]!==a&&(a===!1?t.removeAttribute(n):t.setAttribute(n,a===!0?"":a),i[n]=a)})}}),_twobitsJs2["default"].directive("[data-view]",function(t,e){if(t===e.element)return _utilsJs.noop;var i=e.children,r=e.instantiates,n=t.getAttribute("data-view").split(":"),s=n[0],a=n[1],u=r[a];if(!u)throw new Error("Unknown class ("+a+"). Make sure your class is in the 'instantiates' object.");var o=new u(t);return o.parent=e,o.target=t.getAttribute("data-target"),o.action=t.getAttribute("data-action"),o.on("action",function(t,i,r){if("view"!==t)return e.emit("action",t,i,r);if("function"!=typeof e[i])throw new TypeError("TemplateView ["+e.id+"] tried to respond to action ["+i+"] from View "+("["+o.id+"] but it does not implement "+i+"()."));e[i].apply(e,babelHelpers.toConsumableArray(r))}),o.create(),e[s]=o,i.push(o),_utilsJs.noop});var TemplateView=function(t){function e(i){babelHelpers.classCallCheck(this,e),t.call(this,i),this.children=[],this.instantiates={},_(this).compile=null,_(this).data={}}return babelHelpers.inherits(e,t),e.prototype.update=function(t){_(this).compile||this.create(),_(this).data=_utilsJs.extend(_(this).data,t),_RunnerJs2["default"].scheduleOnce("render",null,_(this).compile,[_(this).data])},e.prototype.didCreateElement=function(){var e=this;t.prototype.didCreateElement.call(this);var i=Array.prototype.slice.call(this.element.childNodes),r=_utilsJs.map(i,function(t){return _twobitsJs2["default"].parse(t,e)});_(this).compile=function(t){return _utilsJs.forEach(r,function(e){return e(t)})}},e.prototype.didInsertElement=function(){t.prototype.didInsertElement.call(this),_utilsJs.forEach(this.children,function(t){return t.didInsertElement()})},e}(_ViewJs2["default"]);exports["default"]=TemplateView,module.exports=exports["default"];
},{"../Runner.js":2,"../utils.js":13,"./View.js":8,"private-parts":187,"twobits.js":189}],8:[function(require,module,exports){
"use strict";function syncClassesWithElement(){this.element&&(this.element.className=this.classes.join(" "))}function syncAttributesWithElement(){for(var e=_(this),t=e.attributeSets,s=e.attributeRemovals,i=void 0;void 0!==(i=t.pop());)i&&this.element.setAttribute(i[0],i[1]);for(;void 0!==(i=s.pop());)i&&this.element.removeAttribute(i)}exports.__esModule=!0;var _events=require("events"),_MixableJs=require("./Mixable.js"),_MixableJs2=babelHelpers.interopRequireDefault(_MixableJs),_event_delegatorJs=require("../event_delegator.js"),_event_delegatorJs2=babelHelpers.interopRequireDefault(_event_delegatorJs),_RunnerJs=require("../Runner.js"),_RunnerJs2=babelHelpers.interopRequireDefault(_RunnerJs),_privateParts=require("private-parts"),_utilsJs=require("../utils.js"),counter=0,views=new WeakMap;exports.views=views;var _=_privateParts.createKey({queueSetAttribute:function(e,t){for(var s=this.attributeSets.length;s--;){var i=this.attributeSets[s];if(i&&i[0]===e)return i[1]=t}var n=this.attributeRemovals.indexOf(e);n>-1&&(this.attributeRemovals[n]=null),this.attributeSets.push([e,t])},queueRemoveAttribute:function(e){for(var t=this.attributeSets.length;t--;)if(this.attributeSets[t][0]===e){this.attributeSets[t]=null;break}this.attributeRemovals.indexOf(e)>-1||this.attributeRemovals.push(e)}}),View=function(e){function t(s){var i=this;if(babelHelpers.classCallCheck(this,t),e.call(this),this.setMaxListeners(50),s&&views.get(s)){var n=views.get(s);throw new Error("Cannot create View because the provided "+("element already belongs to [View:"+n.id+"]."))}_(this).attributeSets=[],_(this).attributeRemovals=[],_(this).parent=null,_(this).handleParentDestroyed=function(){return i.parent=null},_(this).handleParentInserted=function(){return i.didInsertElement()},_(this).handleParentRemoved=function(){return i.willRemoveElement()},this.tag=s?s.tagName.toLowerCase():void 0,this.id=s&&s.id||"c6-view-"+ ++counter,this.template=s?s.innerHTML:"",this.element=s||null,this.classes=s&&s.className?s.className.split(" "):[],this.classes.push("c6-view"),this.attributes={},_utilsJs.forEach(s&&s.attributes||[],function(e){i.attributes[e.name]=e.value}),this.inserted=!1,this.target=null,this.action=null}return babelHelpers.inherits(t,e),t.prototype.create=function(){if(!this.tag)throw new Error("Cannot create element for [View:"+this.id+"] because 'tag' is undefined.");var e=this.element||document.createElement(this.tag);e.id=this.id,e.className=this.classes.join(" ");for(var t in this.attributes){var s=this.attributes[t];e.setAttribute(t,s===!0?"":s)}return this.template!==e.innerHTML&&(e.innerHTML=this.template),this.element=e,this.didCreateElement(),document.body.contains(e)&&this.didInsertElement(),e},t.prototype.appendTo=function(e){var t=this,s=this.element||this.create(),i=e.element||e.create();this.parent=e,_RunnerJs2["default"].schedule("render",null,function(){i.appendChild(s),!t.inserted&&e.inserted&&t.didInsertElement()})},t.prototype.insertInto=function(e){var t=this,s=void 0===arguments[1]?null:arguments[1],i=this.element||this.create(),n=e.element||e.create(),r=s&&s.element;this.parent=e,_RunnerJs2["default"].schedule("render",null,function(){n.insertBefore(i,r),!t.inserted&&e.inserted&&t.didInsertElement()})},t.prototype.append=function(e){e.appendTo(this)},t.prototype.insert=function(e,t){e.insertInto(this,t)},t.prototype.remove=function(){var e=this.element,t=this.inserted;e&&(t&&this.willRemoveElement(),e.parentNode&&_RunnerJs2["default"].schedule("render",e.parentNode,"removeChild",[e]))},t.prototype.destroy=function(){this.element&&(this.remove(),this.willDestroyElement(),this.element=null)},t.prototype.addClass=function(e){var t=this.classes.indexOf(e);t>-1||(this.classes.push(e),_RunnerJs2["default"].scheduleOnce("render",this,syncClassesWithElement))},t.prototype.removeClass=function(e){var t=this.classes.indexOf(e);0>t||(this.classes.splice(t,1),_RunnerJs2["default"].scheduleOnce("render",this,syncClassesWithElement))},t.prototype.setAttribute=function(e,t){this.attributes[e]!==t&&(this.attributes[e]=t,this.element&&(t===!1?_(this).queueRemoveAttribute(e):_(this).queueSetAttribute(e,t===!0?"":t),_RunnerJs2["default"].scheduleOnce("render",this,syncAttributesWithElement)))},t.prototype.sendAction=function(){for(var e=arguments.length,t=Array(e),s=0;e>s;s++)t[s]=arguments[s];var i=this.target,n=this.action;i&&n&&this.emit("action",i,n,t)},t.prototype.reflow=function(){this.element&&this.element.offsetHeight},t.prototype.didCreateElement=function(){var e=this;views.set(this.element,this),_event_delegatorJs2["default"].addListeners(this,_utilsJs.filter(_event_delegatorJs2["default"].events,function(t){return t in e}))},t.prototype.didInsertElement=function(){this.inserted=!0,this.emit("inserted")},t.prototype.willRemoveElement=function(){this.inserted=!1,this.emit("removed"),this.parent=null},t.prototype.willDestroyElement=function(){this.emit("destroyed"),views["delete"](this.element),_event_delegatorJs2["default"].removeListeners(this),this.removeAllListeners()},babelHelpers.createClass(t,[{key:"parent",get:function(){return _(this).parent},set:function(e){var t=_(this),s=t.parent,i=t.handleParentDestroyed,n=t.handleParentInserted,r=t.handleParentRemoved;s&&(s.removeListener("destroyed",i),s.removeListener("inserted",n),s.removeListener("removed",r)),_(this).parent=e,e&&(e.once("destroyed",i),e.on("inserted",n),e.on("removed",r))}}]),t}(_MixableJs2["default"]);View.mixin(_events.EventEmitter),exports["default"]=View;
},{"../Runner.js":2,"../event_delegator.js":9,"../utils.js":13,"./Mixable.js":6,"events":182,"private-parts":187}],9:[function(require,module,exports){
"use strict";function forEachAncestor(e,t){e&&(t(e),forEachAncestor(e.parentNode,t))}exports.__esModule=!0;var _coreViewJs=require("./core/View.js"),_utilsJs=require("./utils.js"),_RunnerJs=require("./Runner.js"),_RunnerJs2=babelHelpers.interopRequireDefault(_RunnerJs),_privateParts=require("private-parts"),body=document.body,_=_privateParts.createKey({addListener:function(e){var t=this.handlers,r=this.listenerCount;if(e in r||(r[e]=0),r[e]++,!t[e]){var n=this.createHandler(e);t[e]=n,body.addEventListener(e.toLowerCase(),n,!1)}},removeListener:function(e){var t=this.handlers,r=this.listenerCount;--r[e]<1&&(body.removeEventListener(e.toLowerCase(),t[e],!1),t[e]=null)},createHandler:function(e){return function(t){_RunnerJs2["default"].run(function(){var r=t.target;forEachAncestor(r,function(r){var n=_coreViewJs.views.get(r);n&&n[e]&&n[e](t)})})}}}),EventDelegator=function(){function e(){babelHelpers.classCallCheck(this,e),this.events=["touchStart","touchMove","touchEnd","touchCancel","keyDown","keyUp","keyPress","mouseDown","mouseUp","contextMenu","click","doubleClick","mouseMove","mouseEnter","mouseLeave","focusIn","focusOut","submit","change","dragStart","drag","dragEnter","dragLeave","dragOver","drop","dragEnd"],_(this).handlers={},_(this).listenerCount={},_(this).events=new WeakMap}return e.prototype.addListeners=function(e,t){var r=this;_(this).events.set(e,t.slice()),_utilsJs.forEach(t,function(e){return _(r).addListener(e)})},e.prototype.removeListeners=function(e){var t=this,r=_(this),n=r.events,s=n.get(e);n["delete"](e),_utilsJs.forEach(s,function(e){return _(t).removeListener(e)})},e}();exports["default"]=new EventDelegator,module.exports=exports["default"];
},{"./Runner.js":2,"./core/View.js":8,"./utils.js":13,"private-parts":187}],10:[function(require,module,exports){
"use strict";function checkStatus(e){var t=e.status;if(t>=400&&600>t)throw e;return e}function fetch(e,t,r){var s=void 0===arguments[3]?{}:arguments[3];return e.fetch(r,_utilsJs.extend(s,{method:t,body:JSON.stringify(s.body)}))}exports.__esModule=!0;var _globalJs=require("./global.js"),_globalJs2=babelHelpers.interopRequireDefault(_globalJs),_RunnerPromiseJs=require("./RunnerPromise.js"),_RunnerPromiseJs2=babelHelpers.interopRequireDefault(_RunnerPromiseJs),_utilsJs=require("./utils.js"),Fetcher=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.prototype.fetch=function(e,t){return _RunnerPromiseJs2["default"].resolve(_globalJs2["default"].fetch(e,t).then(checkStatus))},e.prototype.get=function(e,t){return fetch(this,"GET",e,t)},e.prototype.put=function(e,t){return fetch(this,"PUT",e,t)},e.prototype.post=function(e,t){return fetch(this,"POST",e,t)},e.prototype["delete"]=function(e,t){return fetch(this,"DELETE",e,t)},e}();exports["default"]=new Fetcher,module.exports=exports["default"];
},{"./RunnerPromise.js":3,"./global.js":11,"./utils.js":13}],11:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0,exports["default"]=global,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],12:[function(require,module,exports){
(function (process){
"use strict";exports.__esModule=!0;var _RunnerPromiseJs=require("./RunnerPromise.js"),_RunnerPromiseJs2=babelHelpers.interopRequireDefault(_RunnerPromiseJs),_RunnerJs=require("./Runner.js"),_RunnerJs2=babelHelpers.interopRequireDefault(_RunnerJs),_globalJs=require("./global.js"),_globalJs2=babelHelpers.interopRequireDefault(_globalJs),_privateParts=require("private-parts"),_utilsJs=require("./utils.js"),pending=new WeakMap,_=_privateParts.createKey({flush:function(){var e=this;_RunnerJs2["default"].run(function(){for(var r=void 0;r=e.queue.shift();)r()}),this.flushScheduled=!1}}),Timer=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).flushScheduled=!1,_(this).queue=[]}return e.prototype.wait=function(e){var r=_utilsJs.defer(_RunnerPromiseJs2["default"]),t=_globalJs2["default"].setTimeout(r.fulfill,e);return pending.set(r.promise,{resolve:r.reject,id:t,clearMethod:"clearTimeout"}),r.promise},e.prototype.interval=function(e,r){var t=this,s=_utilsJs.defer(_RunnerPromiseJs2["default"]),n=function(){return t.cancel(s.promise)},u=_globalJs2["default"].setInterval(function(){return _RunnerJs2["default"].run(e,n)},r);return pending.set(s.promise,{resolve:s.fulfill,id:u,clearMethod:"clearInterval"}),s.promise},e.prototype.cancel=function(e){var r=pending.get(e);if(!r)throw new Error("Unknown promise passed to timer.cancel(). The promise must be one created by wait() or interval().");return r.resolve(),_globalJs2["default"][r.clearMethod](r.id),e},e.prototype.nextTick=function(e){var r=_(this);r.queue.push(e),r.flushScheduled||(process.nextTick(function(){return r.flush()}),r.flushScheduled=!0)},e}();exports["default"]=new Timer,module.exports=exports["default"];
}).call(this,require('_process'))

},{"./Runner.js":2,"./RunnerPromise.js":3,"./global.js":11,"./utils.js":13,"_process":183,"private-parts":187}],13:[function(require,module,exports){
"use strict";function noop(){}function allSettled(e){return new Promise(function(r){function t(){++u===o&&r(n)}var n=[],o=e.length,u=0;return 0===o?r(n):void e.forEach(function(e,r){Promise.resolve(e).then(function(e){n[r]={state:"fulfilled",value:e},t()},function(e){n[r]={state:"rejected",reason:e},t()})})})}function defer(e){var r=void 0,t=void 0,n=new e(function(e,n){r=e,t=n});return{promise:n,fulfill:r,reject:t}}function map(e,r){for(var t=[],n=e.length,o=0;n>o;o++)t[o]=r(e[o],o);return t}function filter(e,r){for(var t=[],n=e.length,o=0;n>o;o++)r(e[o],o)&&t.push(e[o]);return t}function forEach(e,r){for(var t=e.length,n=0;t>n;n++)r(e[n],n)}function reduce(e,r,t){for(var n=t,o=e.length,u=0;o>u;u++)n=r(n,e[u],u);return n}function find(e,r){for(var t=e.length,n=0;t>n;n++)if(r(e[n],n))return e[n];return null}function extend(){return reduce(arguments,function(e,r){return reduce(Object.keys(r||{}),function(e,t){return e[t]=r[t],e},e),e},{})}exports.__esModule=!0,exports.noop=noop,exports.allSettled=allSettled,exports.defer=defer,exports.map=map,exports.filter=filter,exports.forEach=forEach,exports.reduce=reduce,exports.find=find,exports.extend=extend;
},{}],14:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreControllerJs=require("../../lib/core/Controller.js"),_libCoreControllerJs2=babelHelpers.interopRequireDefault(_libCoreControllerJs),_srcServicesBrowserJs=require("../../src/services/browser.js"),_srcServicesBrowserJs2=babelHelpers.interopRequireDefault(_srcServicesBrowserJs),_srcServicesCode_loaderJs=require("../../src/services/code_loader.js"),_srcServicesCode_loaderJs2=babelHelpers.interopRequireDefault(_srcServicesCode_loaderJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_viewsApplicationViewJs=require("../views/ApplicationView.js"),_viewsApplicationViewJs2=babelHelpers.interopRequireDefault(_viewsApplicationViewJs),ApplicationController=function(e){function r(s){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.appView=new _viewsApplicationViewJs2["default"](s),this.appView.create(),_srcServicesBrowserJs2["default"].test("mouse").then(function(e){e&&_srcServicesCode_loaderJs2["default"].loadStyles("css/"+_environmentJs2["default"].mode+"--hover.css")})}return babelHelpers.inherits(r,e),r}(_libCoreControllerJs2["default"]);exports["default"]=ApplicationController,module.exports=exports["default"];
},{"../../lib/core/Controller.js":5,"../../src/services/browser.js":97,"../../src/services/code_loader.js":99,"../environment.js":44,"../views/ApplicationView.js":116}],15:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),ArticleCardController=function(e){function r(){var t=this;babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.isRendered=!1;var l=function(){t.isRendered||t.renderArticle()};this.model.on("prepare",l),this.model.on("activate",l)}return babelHelpers.inherits(r,e),r.prototype.renderArticle=function(){this.isRendered=!0,this.view.update({src:this.model.data.src})},r}(_CardControllerJs2["default"]);exports["default"]=ArticleCardController,module.exports=exports["default"];
},{"./CardController.js":18}],16:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ModuleControllerJs=require("./ModuleController.js"),_ModuleControllerJs2=babelHelpers.interopRequireDefault(_ModuleControllerJs),_viewsBallotViewJs=require("../views/BallotView.js"),_viewsBallotViewJs2=babelHelpers.interopRequireDefault(_viewsBallotViewJs),BallotController=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsBallotViewJs2["default"])}return babelHelpers.inherits(t,e),t.prototype.updateView=function(){return this.view.update({prompt:this.model.prompt,choices:this.model.choices})},t.prototype.activate=function(){return this.updateView(),e.prototype.activate.call(this)},t.prototype.vote=function(e){this.model.cast(parseInt(e.attributes["data-vote"],10)),this.emit("voted")},t}(_ModuleControllerJs2["default"]);exports["default"]=BallotController,module.exports=exports["default"];
},{"../views/BallotView.js":119,"./ModuleController.js":25}],17:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ModuleControllerJs=require("./ModuleController.js"),_ModuleControllerJs2=babelHelpers.interopRequireDefault(_ModuleControllerJs),_libUtilsJs=require("../../lib/utils.js"),BallotResultsController=function(e){function t(){var l=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.model.on("hasResults",function(){return l.updateView()})}return babelHelpers.inherits(t,e),t.prototype.updateView=function(){var e=this.model,t=e.choices,l=e.results;return this.view.update({results:_libUtilsJs.map(t,function(e,t){return{choice:e,result:null===l[t]?"50%":""+Math.round(100*l[t])+"%"}})})},t.prototype.activate=function(){return this.updateView(),e.prototype.activate.call(this)},t}(_ModuleControllerJs2["default"]);exports["default"]=BallotResultsController,module.exports=exports["default"];
},{"../../lib/utils.js":13,"./ModuleController.js":25}],18:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreControllerJs=require("../../lib/core/Controller.js"),_libCoreControllerJs2=babelHelpers.interopRequireDefault(_libCoreControllerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),CardController=function(e){function t(r,l){var i=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.model=r,this.view=null,_(this).deck=l,r.on("activate",function(){return i.view.show()}),r.on("deactivate",function(){return i.view.hide()})}return babelHelpers.inherits(t,e),t.prototype.render=function(){this.view.update({title:this.model.title,note:this.model.note,thumbs:_libUtilsJs.extend(this.model.thumbs)}),this.view.hide(),_(this).deck.append(this.view)},t}(_libCoreControllerJs2["default"]);exports["default"]=CardController,module.exports=exports["default"];
},{"../../lib/core/Controller.js":5,"../../lib/utils.js":13,"private-parts":187}],19:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),_DisplayAdControllerJs=require("./DisplayAdController.js"),_DisplayAdControllerJs2=babelHelpers.interopRequireDefault(_DisplayAdControllerJs),_viewsDisplayAdCardViewJs=require("../views/DisplayAdCardView.js"),_viewsDisplayAdCardViewJs2=babelHelpers.interopRequireDefault(_viewsDisplayAdCardViewJs),DisplayAdCardController=function(e){function l(){var r=this;babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=new _viewsDisplayAdCardViewJs2["default"],this.DisplayAdCtrl=new _DisplayAdControllerJs2["default"](this.model.displayAd),this.model.on("prepare",function(){return r.DisplayAdCtrl.activate()}),this.model.on("activate",function(){return r.DisplayAdCtrl.activate()}),this.model.on("deactivate",function(){return r.DisplayAdCtrl.deactivate()})}return babelHelpers.inherits(l,e),l.prototype.render=function(){e.prototype.render.call(this);var l=this.model,r=l.sponsor,s=l.links.Website,t=l.socialLinks;this.DisplayAdCtrl.renderInto(this.view.displayAdOutlet),this.view.update({sponsor:r,website:s,links:t,hasLinks:!!t.length||!!s})},l}(_CardControllerJs2["default"]);exports["default"]=DisplayAdCardController,module.exports=exports["default"];
},{"../views/DisplayAdCardView.js":124,"./CardController.js":18,"./DisplayAdController.js":20}],20:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ModuleControllerJs=require("./ModuleController.js"),_ModuleControllerJs2=babelHelpers.interopRequireDefault(_ModuleControllerJs),_viewsDisplayAdViewJs=require("../views/DisplayAdView.js"),_viewsDisplayAdViewJs2=babelHelpers.interopRequireDefault(_viewsDisplayAdViewJs),_servicesAdtechJs=require("../services/adtech.js"),_servicesAdtechJs2=babelHelpers.interopRequireDefault(_servicesAdtechJs),DisplayAdController=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=new _viewsDisplayAdViewJs2["default"]}return babelHelpers.inherits(t,e),t.prototype.activate=function(){if(this.active)return e.prototype.activate.call(this);var t=this.view,l=this.model;return t.adContainer||this.view.create(),_servicesAdtechJs2["default"].load({placement:l.placement,adContainerId:t.adContainer.id}),e.prototype.activate.call(this)},t}(_ModuleControllerJs2["default"]);exports["default"]=DisplayAdController,module.exports=exports["default"];
},{"../services/adtech.js":96,"../views/DisplayAdView.js":126,"./ModuleController.js":25}],21:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),_viewsImage_embedsFlickrEmbedViewJs=require("../views/image_embeds/FlickrEmbedView.js"),_viewsImage_embedsFlickrEmbedViewJs2=babelHelpers.interopRequireDefault(_viewsImage_embedsFlickrEmbedViewJs),_viewsImage_embedsGettyEmbedViewJs=require("../views/image_embeds/GettyEmbedView.js"),_viewsImage_embedsGettyEmbedViewJs2=babelHelpers.interopRequireDefault(_viewsImage_embedsGettyEmbedViewJs),_viewsImage_embedsWebEmbedViewJs=require("../views/image_embeds/WebEmbedView.js"),_viewsImage_embedsWebEmbedViewJs2=babelHelpers.interopRequireDefault(_viewsImage_embedsWebEmbedViewJs),ImageCardController=function(e){function i(){var s=this;babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.isRendered=!1;var r=function(){s.isRendered||s.renderImage()};this.model.on("prepare",r),this.model.on("activate",r)}return babelHelpers.inherits(i,e),i.prototype.appendEmbedView=function(e){this.view.playerOutlet||this.view.create(),this.view.playerOutlet.append(e);var i=this.model.data;e.update({src:i.src,width:i.width,height:i.height,imageid:i.imageid})},i.prototype.renderImage=function(){switch(this.isRendered=!0,this.model.data.service){case"flickr":var e=new _viewsImage_embedsFlickrEmbedViewJs2["default"];this.appendEmbedView(e);break;case"getty":var i=new _viewsImage_embedsGettyEmbedViewJs2["default"];this.appendEmbedView(i);break;case"web":var s=new _viewsImage_embedsWebEmbedViewJs2["default"];this.appendEmbedView(s)}this.view.update({href:this.model.data.href,source:this.model.data.source,showSource:"web"!==this.model.data.service})},i}(_CardControllerJs2["default"]);exports["default"]=ImageCardController,module.exports=exports["default"];
},{"../views/image_embeds/FlickrEmbedView.js":163,"../views/image_embeds/GettyEmbedView.js":165,"../views/image_embeds/WebEmbedView.js":167,"./CardController.js":18}],22:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),_privateParts=require("private-parts"),Private=function(){function e(t){babelHelpers.classCallCheck(this,e),this.__public__=t}return e.prototype.doRender=function(){this.__public__.isRendered||this.__public__.renderInstagram()},e}(),_=_privateParts.createKey(function(e){return new Private(e)}),InstagramCardController=function(e){function t(){var r=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.isRendered=!1,this.model.on("prepare",function(){return r.prepare()}),this.model.on("activate",function(){return r.activate()}),this.model.on("deactivate",function(){return r.deactivate()}),global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(t,e),t.prototype.prepare=function(){_(this).doRender()},t.prototype.activate=function(){_(this).doRender()},t.prototype.deactivate=function(){},t.prototype.formatNumWithSuffix=function(e){var t=parseInt(e),r=t.toString().length,o=Math.floor((r-1)/3),i=Math.pow(10,3*o-1);t=Math.round(t/i)*i,r=t.toString().length,o=Math.floor((r-1)/3),i=Math.pow(10,3*o);var a=["k","m","b"];return 0===o?e.toString():o>a.length?">1t":t/i+a[o-1]},t.prototype.formatDate=function(e){var t=Date.now()-e,r=Math.floor(t/1e3),o=Math.floor(t/60/1e3),i=Math.floor(t/60/60/1e3),a=Math.floor(t/24/60/60/1e3),s=Math.floor(t/7/24/60/60/1e3),n=Math.floor(t/30/24/60/60/1e3),l=Math.floor(t/365/24/60/60/1e3);return l>0?l+" year"+(l>1?"s":""):n>0?n+" month"+(n>1?"s":""):s>0?s+" week"+(s>1?"s":""):a>0?a+" day"+(a>1?"s":""):i>0?i+" hour"+(i>1?"s":""):o>0?o+" minute"+(o>1?"s":""):r>0?r+" second"+(r>1?"s":""):"just now"},t.prototype.formatNumWithCommas=function(e){for(var t=e.toString(),r=/(\d+)(\d{3})/;r.test(t);)t=t.replace(r,"$1,$2");return t},t.prototype.renderInstagram=function(){var e=this.model,t=this.model.data;this.isRendered=!0,this.view.captionView||this.view.create(),this.view.captionView.update({caption:t.caption}),this.view.update({userHref:t.user.href,userFollow:t.user.follow,userPicture:t.user.picture,userUsername:t.user.username,userFullname:t.user.fullname,userBio:t.user.bio,userWebsite:t.user.website,userPosts:this.formatNumWithSuffix(t.user.posts),userFollowers:this.formatNumWithSuffix(t.user.followers),userFollowing:this.formatNumWithSuffix(t.user.following),mediaSrc:t.src,href:t.href,likes:this.formatNumWithSuffix(t.likes),date:this.formatDate(t.date),comments:this.formatNumWithCommas(t.comments),title:e.title,action:{label:e.action.label,href:e.links.Action,isButton:"button"===e.action.type,isText:"text"===e.action.type},links:e.socialLinks,sponsored:e.sponsored,hideTitle:!e.title||e.hideTitle})},t}(_CardControllerJs2["default"]);exports["default"]=InstagramCardController,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./CardController.js":18,"private-parts":187}],23:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _InstagramCardControllerJs=require("./InstagramCardController.js"),_InstagramCardControllerJs2=babelHelpers.interopRequireDefault(_InstagramCardControllerJs),_privateParts=require("private-parts"),_servicesPlayer_factoryJs=require("../services/player_factory.js"),_servicesPlayer_factoryJs2=babelHelpers.interopRequireDefault(_servicesPlayer_factoryJs),_=_privateParts.createKey(),InstagramVideoCardController=function(e){function r(){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var t=_servicesPlayer_factoryJs2["default"].playerForCard(this.model);t.src=this.model.data.src,t.loop=!0,_(this).player=t,global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(r,e),r.prototype.prepare=function(){e.prototype.prepare.call(this),this.model.data.preload&&_(this).player.load()},r.prototype.activate=function(){e.prototype.activate.call(this),this.model.data.autoplay?_(this).player.play():_(this).player.load()},r.prototype.deactivate=function(){e.prototype.deactivate.call(this),_(this).player.pause()},r.prototype.render=function(){e.prototype.render.call(this),this.view.playerOutlet.append(_(this).player)},r}(_InstagramCardControllerJs2["default"]);exports["default"]=InstagramVideoCardController,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../services/player_factory.js":107,"./InstagramCardController.js":22,"private-parts":187}],24:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _BallotResultsControllerJs=require("./BallotResultsController.js"),_BallotResultsControllerJs2=babelHelpers.interopRequireDefault(_BallotResultsControllerJs),_viewsModalBallotResultsViewJs=require("../views/ModalBallotResultsView.js"),_viewsModalBallotResultsViewJs2=babelHelpers.interopRequireDefault(_viewsModalBallotResultsViewJs),ModalBallotResultsController=function(l){function e(){babelHelpers.classCallCheck(this,e),l.call.apply(l,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsModalBallotResultsViewJs2["default"])}return babelHelpers.inherits(e,l),e}(_BallotResultsControllerJs2["default"]);exports["default"]=ModalBallotResultsController,module.exports=exports["default"];
},{"../views/ModalBallotResultsView.js":133,"./BallotResultsController.js":17}],25:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ViewControllerJs=require("./ViewController.js"),_ViewControllerJs2=babelHelpers.interopRequireDefault(_ViewControllerJs),ModuleController=function(e){function t(){var r=void 0===arguments[0]?null:arguments[0];babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.active=!1,this.model=r}return babelHelpers.inherits(t,e),t.prototype.activate=function(){this.active||(this.active=!0,this.view.show(),this.emit("activate"))},t.prototype.deactivate=function(){this.active&&(this.active=!1,this.view.hide(),this.emit("deactivate"))},t.prototype.renderInto=function(){for(var t,r=arguments.length,i=Array(r),l=0;r>l;l++)i[l]=arguments[l];return this.view.hide(),(t=e.prototype.renderInto).call.apply(t,[this].concat(i))},t}(_ViewControllerJs2["default"]);exports["default"]=ModuleController,module.exports=exports["default"];
},{"./ViewController.js":33}],26:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreControllerJs=require("../../lib/core/Controller.js"),_libCoreControllerJs2=babelHelpers.interopRequireDefault(_libCoreControllerJs),_modelsMiniReelJs=require("../models/MiniReel.js"),_modelsMiniReelJs2=babelHelpers.interopRequireDefault(_modelsMiniReelJs),_servicesCinema6Js=require("../services/cinema6.js"),_servicesCinema6Js2=babelHelpers.interopRequireDefault(_servicesCinema6Js),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),PlayerController=function(e){function r(i){var l=this;babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).parentView=i,this.CardControllers={},this.session=_servicesCinema6Js2["default"].init(),this.minireel=new _modelsMiniReelJs2["default"],this.cardCtrls=[],this.PrerollCardCtrl=null,this.minireel.on("init",function(){l.updateView(),l.cardCtrls=_libUtilsJs.map(l.minireel.deck,function(e){return new l.CardControllers[e.type](e,l.view.cards)}),l.PrerollCardCtrl=new l.CardControllers.preroll(l.minireel.prerollCard),_libUtilsJs.forEach(l.cardCtrls.slice(0,1),function(e){return e.render()}),l.PrerollCardCtrl.renderInto(l.view.prerollOutlet),l.view.appendTo(_(l).parentView)}),this.minireel.on("move",function(){return l.updateView()}),this.minireel.on("becameUncloseable",function(){return l.updateView()}),this.minireel.on("becameCloseable",function(){return l.updateView()}),this.minireel.once("launch",function(){_libRunnerJs2["default"].runNext(function(){return _libUtilsJs.forEach(l.cardCtrls.slice(1),function(e){return e.render()})})}),this.minireel.on("becameUnskippable",function(){return l.view.disableNavigation()}),this.minireel.on("becameSkippable",function(){return l.view.enableNavigation()}),this.minireel.on("skippableProgress",function(e){return l.view.updateSkipTimer(e)})}return babelHelpers.inherits(r,e),r.prototype.addListeners=function(){},r.prototype.next=function(){this.minireel.next()},r.prototype.previous=function(){this.minireel.previous()},r.prototype.close=function(){this.minireel.close()},r.prototype.updateView=function(){var e=this.minireel,r=e.currentIndex,i=e.currentCard,l=e.standalone,t=e.closeable,n=e.socialLinks||[],s=e.links||{};this.view.update({title:e.title,sponsor:e.sponsor,logo:e.logo,links:n,website:s.Website,isSponsored:!!(e.sponsor||e.logo||n.length>0),hasLinks:!!(s.Website||n.length>0),totalCards:e.length,isSolo:1===e.length,closeable:t,cardType:i&&i.type,currentCardNumber:(e.currentIndex+1).toString(),canGoForward:r<e.length-1,canGoBack:null===r||!l||r>0}),e.currentCard!==e.prerollCard?(this.view.cards.show(),this.view.prerollOutlet.hide()):(this.view.cards.hide(),this.view.prerollOutlet.show())},r}(_libCoreControllerJs2["default"]);exports["default"]=PlayerController,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/core/Controller.js":5,"../../lib/utils.js":13,"../models/MiniReel.js":77,"../services/cinema6.js":98,"private-parts":187}],27:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ModuleControllerJs=require("./ModuleController.js"),_ModuleControllerJs2=babelHelpers.interopRequireDefault(_ModuleControllerJs),_viewsPostViewJs=require("../views/PostView.js"),_viewsPostViewJs2=babelHelpers.interopRequireDefault(_viewsPostViewJs),_viewsPostBallotViewJs=require("../views/PostBallotView.js"),_viewsPostBallotViewJs2=babelHelpers.interopRequireDefault(_viewsPostBallotViewJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_=_privateParts.createKey(),PostController=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var l=!!this.model.ballot;this.view=this.addView(l?new _viewsPostBallotViewJs2["default"]:new _viewsPostViewJs2["default"]),_(this).parentView=null}return babelHelpers.inherits(t,e),t.prototype.replay=function(){this.emit("replay"),this.deactivate()},t.prototype.vote=function l(e){var t=this,l=function(){switch(e.id){case"post-module-vote1":return 0;case"post-module-vote2":return 1}}();this.model.ballot.cast(l),this.deactivate(),_libRunnerJs2["default"].runNext(function(){t.view.destroy(),t.view=t.addView(new _viewsPostViewJs2["default"]),t.renderInto(_(t).parentView)})},t.prototype.renderInto=function(t){var l,s=this.model,i=s.ballot,r=void 0===i?null:i,o=s.website;return _(this).parentView=t,this.view.update({website:o,ballot:r&&{prompt:r.prompt,choice1:r.choices[0],choice2:r.choices[1]}}),(l=e.prototype.renderInto).call.apply(l,[this].concat(babelHelpers.slice.call(arguments)))},t}(_ModuleControllerJs2["default"]);exports["default"]=PostController,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../views/PostBallotView.js":141,"../views/PostView.js":143,"./ModuleController.js":25,"private-parts":187}],28:[function(require,module,exports){
"use strict";function waitFor(e,r,t){var o=_libTimerJs2["default"].wait(t);return e.once(r,function(){return _libTimerJs2["default"].cancel(o)}),o.then(function(){return Promise.reject(new Error("Timeout out waiting for "+r+"."))},function(){return e})}exports.__esModule=!0;var _ViewControllerJs=require("./ViewController.js"),_ViewControllerJs2=babelHelpers.interopRequireDefault(_ViewControllerJs),_servicesPlayer_factoryJs=require("../services/player_factory.js"),_servicesPlayer_factoryJs2=babelHelpers.interopRequireDefault(_servicesPlayer_factoryJs),_privateParts=require("private-parts"),_libTimerJs=require("../../lib/timer.js"),_libTimerJs2=babelHelpers.interopRequireDefault(_libTimerJs),_=_privateParts.createKey(),PrerollCardController=function(e){function r(t){var o=this;babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).errorOccurred=!1,this.model=t;var l=this.player=_servicesPlayer_factoryJs2["default"].playerForCard(t);l.src=t.getSrc(),l.controls=!1,this.model.on("prepare",function(){return o.player.load()}),this.model.on("activate",function(){return _(o).errorOccurred?o.model.abort():(o.view.show(),waitFor(o.player,"play",5e3)["catch"](function(){return o.model.abort()}),void o.player.play())}),this.model.on("deactivate",function(){_(o).errorOccurred=!1,o.view.hide(),o.player.unload()}),l.on("timeupdate",function(){var e=o.player,r=e.currentTime,t=e.duration;t&&o.model.setPlaybackState({currentTime:r,duration:t})}),l.on("ended",function(){return o.model.complete()}),l.on("error",function(){_(o).errorOccurred=!0,o.model.abort()})}return babelHelpers.inherits(r,e),r.prototype.renderInto=function(r){this.view.hide(),e.prototype.renderInto.call(this,r),this.view.playerOutlet.append(this.player)},r}(_ViewControllerJs2["default"]);exports["default"]=PrerollCardController,module.exports=exports["default"];
},{"../../lib/timer.js":12,"../services/player_factory.js":107,"./ViewController.js":33,"private-parts":187}],29:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),Private=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.prototype.formatTitle=function(e){return e&&e.length>100?e.substring(0,100)+"...":e},e}(),_=_privateParts.createKey(function(e){return new Private(e)}),RecapCardController=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(t,e),t.prototype.addListeners=function(){var e=this.model.data;this.view.on("selectCard",function(t){e.moveTo(_libUtilsJs.find(e.deck,function(e){return e.id===t}))})},t.prototype.render=function(){var t,r=this;return this.view.update({cards:_libUtilsJs.map(this.model.data.deck,function(e){return{id:e.id,title:_(r).formatTitle(e.title),note:e.note,source:e.data.source,href:e.data.href,thumb:e.thumbs.small,showSource:!!e.data.source&&!e.data.hideSource,website:(e.links||{}).Website,sponsor:e.sponsor,type:e.ad?"ad":"content",links:e.socialLinks||[],logo:e.logo,isSponsored:!!(e.sponsor||(e.socialLinks||[]).length>0||e.logo)}})}),(t=e.prototype.render).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},t}(_CardControllerJs2["default"]);exports["default"]=RecapCardController,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/utils.js":13,"./CardController.js":18,"private-parts":187}],30:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),TextCardController=function(e){function r(){babelHelpers.classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(r,e),r}(_CardControllerJs2["default"]);exports["default"]=TextCardController,module.exports=exports["default"];
},{"./CardController.js":18}],31:[function(require,module,exports){
"use strict";function set(e,t,i,n){e[t]!==i&&(e[t]=i,e.updateView(),n&&_libRunnerJs2["default"].scheduleOnce("afterRender",e.view,"resize"))}exports.__esModule=!0;var _ViewControllerJs=require("./ViewController.js"),_ViewControllerJs2=babelHelpers.interopRequireDefault(_ViewControllerJs),_viewsThumbnailNavigatorViewJs=require("../views/ThumbnailNavigatorView.js"),_viewsThumbnailNavigatorViewJs2=babelHelpers.interopRequireDefault(_viewsThumbnailNavigatorViewJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libUtilsJs=require("../../lib/utils.js"),ThumbnailNavigatorViewController=function(e){function t(i){var n=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsThumbnailNavigatorViewJs2["default"]),this.model=i,this.enabled=!0,this.expanded=!1,this.thumbsShown=!0,i.once("init",function(){return n.updateView()}),i.on("move",function(){return n.updateView()}),i.on("becameUnskippable",function(){return n.disable()}),i.on("skippableProgress",function(e){return n.view.skipTimer.update(e)}),i.on("becameSkippable",function(){return n.enable()})}return babelHelpers.inherits(t,e),t.prototype.previous=function(){this.model.previous()},t.prototype.next=function(){this.model.next()},t.prototype.jump=function(e){this.model.moveTo(_libUtilsJs.find(this.model.deck,function(t){return t.id===e.itemId}))},t.prototype.expand=function(){set(this,"expanded",!0,!0)},t.prototype.contract=function(){set(this,"expanded",!1,!0)},t.prototype.enable=function(){set(this,"enabled",!0)},t.prototype.disable=function(){set(this,"enabled",!1)},t.prototype.showThumbs=function(){set(this,"thumbsShown",!0,!0)},t.prototype.hideThumbs=function(){set(this,"thumbsShown",!1,!0)},t.prototype.updateView=function(){var e=this.model,t=e.currentIndex,i=e.currentCard,n=e.standalone;this.view.update({enabled:this.enabled,expanded:this.expanded,thumbsShown:this.thumbsShown,enablePrevious:null===t||!n||t>0,enableNext:this.model.currentIndex<this.model.length-1,items:_libUtilsJs.map(this.model.deck,function(e,t){return{id:e.id,title:"Video "+(t+1)+" : "+e.title,thumb:e.thumbs.small,ad:e.ad,active:i===e}})})},t}(_ViewControllerJs2["default"]);exports["default"]=ThumbnailNavigatorViewController,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"../views/ThumbnailNavigatorView.js":153,"./ViewController.js":33}],32:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardControllerJs=require("./CardController.js"),_CardControllerJs2=babelHelpers.interopRequireDefault(_CardControllerJs),_servicesPlayer_factoryJs=require("../services/player_factory.js"),_servicesPlayer_factoryJs2=babelHelpers.interopRequireDefault(_servicesPlayer_factoryJs),_servicesDispatcherJs=require("../services/dispatcher.js"),_servicesDispatcherJs2=babelHelpers.interopRequireDefault(_servicesDispatcherJs),_mixinsPostVideoCardControllerJs=require("../mixins/PostVideoCardController.js"),_mixinsPostVideoCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsPostVideoCardControllerJs),_mixinsBallotVideoCardControllerJs=require("../mixins/BallotVideoCardController.js"),_mixinsBallotVideoCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsBallotVideoCardControllerJs),VideoCardController=function(e){function t(){var r=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var a=_servicesPlayer_factoryJs2["default"].playerForCard(this.model);a.poster=this.model.thumbs.large,a.src=this.model.getSrc(),a.controls=this.model.data.controls,a.start=this.model.data.start,a.end=this.model.data.end,this.player=a,_servicesDispatcherJs2["default"].addSource("card",this.model,["activate","deactivate"],a),this.model.on("prepare",function(){r.model.data.preload&&a.load()}),this.model.on("activate",function(){_servicesDispatcherJs2["default"].addSource("video",a,["attemptPlay","play","timeupdate","pause","ended","error","firstQuartile","midpoint","thirdQuartile","complete","loadedmetadata"],r.model),a.readyState>=1&&a.emit("loadedmetadata"),a[r.model.data.autoplay?"play":"load"]()}),this.model.on("deactivate",function(){a.pause(),_servicesDispatcherJs2["default"].removeSource(a)}),this.model.on("cleanup",function(){return a.unload()}),a.on("timeupdate",function(){var e=a.currentTime,t=a.duration;t&&r.model.setPlaybackState({currentTime:e,duration:t})}),a.on("ended",function(){var e=a.duration;r.model.setPlaybackState({currentTime:e,duration:e}),a.minimize()instanceof Error&&a.reload(),r.canAutoadvance()&&r.model.complete()}),this.initPost(),this.initBallot()}return babelHelpers.inherits(t,e),t.prototype.canAutoadvance=function(){return!0},t.prototype.replay=function(){this.player.play()},t.prototype.render=function(){var t,r=this.model;return this.view.update({source:r.data.source,href:r.data.href,sponsor:r.sponsor,logo:r.logo,showSource:!r.data.hideSource,links:r.socialLinks,website:r.links.Website,action:{label:r.action.label,href:r.links.Action,isButton:"button"===r.action.type,isText:"text"===r.action.type},canShare:r.shareLinks&&r.shareLinks.length>0}),this.view.playerOutlet.append(this.player),(t=e.prototype.render).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},t.prototype.shareItemClicked=function(e,t){var r={facebook:{w:570,h:550},twitter:{w:580,h:250},pinterest:{w:750,h:550}},a=r[t.type].w,o=r[t.type].h,i=screen.width/2-a/2,l=screen.height/2-o/2-50,s="Share to "+t.type.charAt(0).toUpperCase()+t.type.slice(1);return window.open(t.href,s,"width="+a+",height="+o+",top="+l+",left="+i)},t}(_CardControllerJs2["default"]);exports["default"]=VideoCardController,VideoCardController.mixin(_mixinsPostVideoCardControllerJs2["default"],_mixinsBallotVideoCardControllerJs2["default"]),module.exports=exports["default"];
},{"../mixins/BallotVideoCardController.js":56,"../mixins/PostVideoCardController.js":63,"../services/dispatcher.js":101,"../services/player_factory.js":107,"./CardController.js":18}],33:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreControllerJs=require("../../lib/core/Controller.js"),_libCoreControllerJs2=babelHelpers.interopRequireDefault(_libCoreControllerJs),_events=require("events"),ViewController=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=null}return babelHelpers.inherits(l,e),l.prototype.renderInto=function(e){this.view.appendTo(e)},l}(_libCoreControllerJs2["default"]);ViewController.mixin(_events.EventEmitter),exports["default"]=ViewController,module.exports=exports["default"];
},{"../../lib/core/Controller.js":5,"events":182}],34:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _InstagramCardControllerJs=require("../InstagramCardController.js"),_InstagramCardControllerJs2=babelHelpers.interopRequireDefault(_InstagramCardControllerJs),_viewsFullFullInstagramImageCardViewJs=require("../../views/full/FullInstagramImageCardView.js"),_viewsFullFullInstagramImageCardViewJs2=babelHelpers.interopRequireDefault(_viewsFullFullInstagramImageCardViewJs),FullInstagramImageCardController=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsFullFullInstagramImageCardViewJs2["default"])}return babelHelpers.inherits(l,e),l}(_InstagramCardControllerJs2["default"]);exports["default"]=FullInstagramImageCardController,module.exports=exports["default"];
},{"../../views/full/FullInstagramImageCardView.js":156,"../InstagramCardController.js":22}],35:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _InstagramVideoCardControllerJs=require("../InstagramVideoCardController.js"),_InstagramVideoCardControllerJs2=babelHelpers.interopRequireDefault(_InstagramVideoCardControllerJs),_viewsFullFullInstagramVideoCardViewJs=require("../../views/full/FullInstagramVideoCardView.js"),_viewsFullFullInstagramVideoCardViewJs2=babelHelpers.interopRequireDefault(_viewsFullFullInstagramVideoCardViewJs),FullInstagramVideoCardController=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsFullFullInstagramVideoCardViewJs2["default"])}return babelHelpers.inherits(l,e),l}(_InstagramVideoCardControllerJs2["default"]);exports["default"]=FullInstagramVideoCardController,module.exports=exports["default"];
},{"../../views/full/FullInstagramVideoCardView.js":158,"../InstagramVideoCardController.js":23}],36:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _RecapCardControllerJs=require("../RecapCardController.js"),_RecapCardControllerJs2=babelHelpers.interopRequireDefault(_RecapCardControllerJs),_viewsLightboxPlaylistLightboxPlaylistRecapCardViewJs=require("../../views/lightbox-playlist/LightboxPlaylistRecapCardView.js"),_viewsLightboxPlaylistLightboxPlaylistRecapCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxPlaylistLightboxPlaylistRecapCardViewJs),LightboxPlaylistRecapCardController=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=new _viewsLightboxPlaylistLightboxPlaylistRecapCardViewJs2["default"],this.addListeners()}return babelHelpers.inherits(l,e),l}(_RecapCardControllerJs2["default"]);exports["default"]=LightboxPlaylistRecapCardController,module.exports=exports["default"];
},{"../../views/lightbox-playlist/LightboxPlaylistRecapCardView.js":169,"../RecapCardController.js":29}],37:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ApplicationControllerJs=require("../ApplicationController.js"),_ApplicationControllerJs2=babelHelpers.interopRequireDefault(_ApplicationControllerJs),_LightboxPlayerControllerJs=require("./LightboxPlayerController.js"),_LightboxPlayerControllerJs2=babelHelpers.interopRequireDefault(_LightboxPlayerControllerJs),LightboxApplicationController=function(l){function e(){babelHelpers.classCallCheck(this,e),l.call.apply(l,[this].concat(babelHelpers.slice.call(arguments))),this.PlayerCtrl=new _LightboxPlayerControllerJs2["default"](this.appView)}return babelHelpers.inherits(e,l),e}(_ApplicationControllerJs2["default"]);exports["default"]=LightboxApplicationController,module.exports=exports["default"];
},{"../ApplicationController.js":14,"./LightboxPlayerController.js":40}],38:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ArticleCardControllerJs=require("../ArticleCardController.js"),_ArticleCardControllerJs2=babelHelpers.interopRequireDefault(_ArticleCardControllerJs),_viewsLightboxLightboxArticleCardViewJs=require("../../views/lightbox/LightboxArticleCardView.js"),_viewsLightboxLightboxArticleCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxArticleCardViewJs),LightboxArticleCardController=function(e){function r(){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsLightboxLightboxArticleCardViewJs2["default"])}return babelHelpers.inherits(r,e),r}(_ArticleCardControllerJs2["default"]);exports["default"]=LightboxArticleCardController,module.exports=exports["default"];
},{"../../views/lightbox/LightboxArticleCardView.js":171,"../ArticleCardController.js":15}],39:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ImageCardControllerJs=require("../ImageCardController.js"),_ImageCardControllerJs2=babelHelpers.interopRequireDefault(_ImageCardControllerJs),_viewsLightboxLightboxVideoCardViewJs=require("../../views/lightbox/LightboxVideoCardView.js"),_viewsLightboxLightboxVideoCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxVideoCardViewJs),LightboxImageCardController=function(e){function r(){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsLightboxLightboxVideoCardViewJs2["default"])}return babelHelpers.inherits(r,e),r}(_ImageCardControllerJs2["default"]);exports["default"]=LightboxImageCardController,module.exports=exports["default"];
},{"../../views/lightbox/LightboxVideoCardView.js":179,"../ImageCardController.js":21}],40:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _PlayerControllerJs=require("../PlayerController.js"),_PlayerControllerJs2=babelHelpers.interopRequireDefault(_PlayerControllerJs),_viewsLightboxLightboxPlayerViewJs=require("../../views/lightbox/LightboxPlayerView.js"),_viewsLightboxLightboxPlayerViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxPlayerViewJs),_LightboxArticleCardControllerJs=require("./LightboxArticleCardController.js"),_LightboxArticleCardControllerJs2=babelHelpers.interopRequireDefault(_LightboxArticleCardControllerJs),_LightboxTextCardControllerJs=require("./LightboxTextCardController.js"),_LightboxTextCardControllerJs2=babelHelpers.interopRequireDefault(_LightboxTextCardControllerJs),_LightboxImageCardControllerJs=require("./LightboxImageCardController.js"),_LightboxImageCardControllerJs2=babelHelpers.interopRequireDefault(_LightboxImageCardControllerJs),_LightboxVideoCardControllerJs=require("./LightboxVideoCardController.js"),_LightboxVideoCardControllerJs2=babelHelpers.interopRequireDefault(_LightboxVideoCardControllerJs),_lightboxPlaylistLightboxPlaylistRecapCardControllerJs=require("../lightbox-playlist/LightboxPlaylistRecapCardController.js"),_lightboxPlaylistLightboxPlaylistRecapCardControllerJs2=babelHelpers.interopRequireDefault(_lightboxPlaylistLightboxPlaylistRecapCardControllerJs),_LightboxPrerollCardControllerJs=require("./LightboxPrerollCardController.js"),_LightboxPrerollCardControllerJs2=babelHelpers.interopRequireDefault(_LightboxPrerollCardControllerJs),_DisplayAdCardControllerJs=require("../DisplayAdCardController.js"),_DisplayAdCardControllerJs2=babelHelpers.interopRequireDefault(_DisplayAdCardControllerJs),_fullFullInstagramImageCardControllerJs=require("../full/FullInstagramImageCardController.js"),_fullFullInstagramImageCardControllerJs2=babelHelpers.interopRequireDefault(_fullFullInstagramImageCardControllerJs),_fullFullInstagramVideoCardControllerJs=require("../full/FullInstagramVideoCardController.js"),_fullFullInstagramVideoCardControllerJs2=babelHelpers.interopRequireDefault(_fullFullInstagramVideoCardControllerJs),_mixinsFullscreenPlayerControllerJs=require("../../mixins/FullscreenPlayerController.js"),_mixinsFullscreenPlayerControllerJs2=babelHelpers.interopRequireDefault(_mixinsFullscreenPlayerControllerJs),_mixinsThumbnailNavigatorPlayerControllerJs=require("../../mixins/ThumbnailNavigatorPlayerController.js"),_mixinsThumbnailNavigatorPlayerControllerJs2=babelHelpers.interopRequireDefault(_mixinsThumbnailNavigatorPlayerControllerJs),LightboxPlayerController=function(l){function r(){babelHelpers.classCallCheck(this,r),l.call.apply(l,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsLightboxLightboxPlayerViewJs2["default"]),this.CardControllers={article:_LightboxArticleCardControllerJs2["default"],text:_LightboxTextCardControllerJs2["default"],image:_LightboxImageCardControllerJs2["default"],video:_LightboxVideoCardControllerJs2["default"],recap:_lightboxPlaylistLightboxPlaylistRecapCardControllerJs2["default"],preroll:_LightboxPrerollCardControllerJs2["default"],displayAd:_DisplayAdCardControllerJs2["default"],instagramImage:_fullFullInstagramImageCardControllerJs2["default"],instagramVideo:_fullFullInstagramVideoCardControllerJs2["default"]},this.initFullscreen(),this.initThumbnailNavigator()}return babelHelpers.inherits(r,l),r}(_PlayerControllerJs2["default"]);exports["default"]=LightboxPlayerController,LightboxPlayerController.mixin(_mixinsFullscreenPlayerControllerJs2["default"],_mixinsThumbnailNavigatorPlayerControllerJs2["default"]),module.exports=exports["default"];
},{"../../mixins/FullscreenPlayerController.js":59,"../../mixins/ThumbnailNavigatorPlayerController.js":65,"../../views/lightbox/LightboxPlayerView.js":173,"../DisplayAdCardController.js":19,"../PlayerController.js":26,"../full/FullInstagramImageCardController.js":34,"../full/FullInstagramVideoCardController.js":35,"../lightbox-playlist/LightboxPlaylistRecapCardController.js":36,"./LightboxArticleCardController.js":38,"./LightboxImageCardController.js":39,"./LightboxPrerollCardController.js":41,"./LightboxTextCardController.js":42,"./LightboxVideoCardController.js":43}],41:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _PrerollCardControllerJs=require("../PrerollCardController.js"),_PrerollCardControllerJs2=babelHelpers.interopRequireDefault(_PrerollCardControllerJs),_viewsLightboxLightboxPrerollCardViewJs=require("../../views/lightbox/LightboxPrerollCardView.js"),_viewsLightboxLightboxPrerollCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxPrerollCardViewJs),_mixinsCompanionPrerollCardControllerJs=require("../../mixins/CompanionPrerollCardController.js"),_mixinsCompanionPrerollCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsCompanionPrerollCardControllerJs),LightboxPrerollCardController=function(r){function e(){babelHelpers.classCallCheck(this,e),r.call.apply(r,[this].concat(babelHelpers.slice.call(arguments))),this.view=new _viewsLightboxLightboxPrerollCardViewJs2["default"],this.initCompanion()}return babelHelpers.inherits(e,r),e}(_PrerollCardControllerJs2["default"]);exports["default"]=LightboxPrerollCardController,LightboxPrerollCardController.mixin(_mixinsCompanionPrerollCardControllerJs2["default"]),module.exports=exports["default"];
},{"../../mixins/CompanionPrerollCardController.js":57,"../../views/lightbox/LightboxPrerollCardView.js":175,"../PrerollCardController.js":28}],42:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _TextCardControllerJs=require("../TextCardController.js"),_TextCardControllerJs2=babelHelpers.interopRequireDefault(_TextCardControllerJs),_viewsLightboxLightboxTextCardViewJs=require("../../views/lightbox/LightboxTextCardView.js"),_viewsLightboxLightboxTextCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxTextCardViewJs),LightboxTextCardController=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsLightboxLightboxTextCardViewJs2["default"])}return babelHelpers.inherits(t,e),t.prototype.advance=function(){this.model.complete()},t}(_TextCardControllerJs2["default"]);exports["default"]=LightboxTextCardController,module.exports=exports["default"];
},{"../../views/lightbox/LightboxTextCardView.js":177,"../TextCardController.js":30}],43:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardControllerJs=require("../VideoCardController.js"),_VideoCardControllerJs2=babelHelpers.interopRequireDefault(_VideoCardControllerJs),_viewsLightboxLightboxVideoCardViewJs=require("../../views/lightbox/LightboxVideoCardView.js"),_viewsLightboxLightboxVideoCardViewJs2=babelHelpers.interopRequireDefault(_viewsLightboxLightboxVideoCardViewJs),_mixinsDisplayAdVideoCardControllerJs=require("../../mixins/DisplayAdVideoCardController.js"),_mixinsDisplayAdVideoCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsDisplayAdVideoCardControllerJs),_mixinsModalBallotResultsVideoCardControllerJs=require("../../mixins/ModalBallotResultsVideoCardController.js"),_mixinsModalBallotResultsVideoCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsModalBallotResultsVideoCardControllerJs),_mixinsModalShareVideoCardControllerJs=require("../../mixins/ModalShareVideoCardController.js"),_mixinsModalShareVideoCardControllerJs2=babelHelpers.interopRequireDefault(_mixinsModalShareVideoCardControllerJs),LightboxVideoCardController=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.view=this.addView(new _viewsLightboxLightboxVideoCardViewJs2["default"]),this.initDisplayAd(),this.initBallotResults(),this.initShare()}return babelHelpers.inherits(i,e),i}(_VideoCardControllerJs2["default"]);exports["default"]=LightboxVideoCardController,LightboxVideoCardController.mixin(_mixinsDisplayAdVideoCardControllerJs2["default"],_mixinsModalBallotResultsVideoCardControllerJs2["default"],_mixinsModalShareVideoCardControllerJs2["default"]),module.exports=exports["default"];
},{"../../mixins/DisplayAdVideoCardController.js":58,"../../mixins/ModalBallotResultsVideoCardController.js":61,"../../mixins/ModalShareVideoCardController.js":62,"../../views/lightbox/LightboxVideoCardView.js":179,"../VideoCardController.js":32}],44:[function(require,module,exports){
(function (global){
"use strict";function generateId(t){return _libUtilsJs.reduce(new Array(t),function(t){return t+POSSIBILITES[Math.floor(Math.random()*NUM_OF_POSSIBILITES)]},"")}exports.__esModule=!0;var _servicesUrl_parserJs=require("./services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_libUtilsJs=require("../lib/utils.js"),c6=global.c6||{},$location=function(){try{return _servicesUrl_parserJs2["default"].parse(global.parent.location.href)}catch(t){return _servicesUrl_parserJs2["default"].parse(global.location.href)}}(),GUID_KEY="__c6_guid__",POSSIBILITES="0123456789abcdefghijklmnopqrstuvwxyz",NUM_OF_POSSIBILITES=POSSIBILITES.length,storage={get:function(t){try{return localStorage.getItem(t)}catch(e){return void 0}},set:function(t,e){try{return localStorage.setItem(t,e)}catch(r){return void 0}}},Environment=function t(){babelHelpers.classCallCheck(this,t),this.debug=!!c6.kDebug,this.secure="https"===$location.protocol,this.apiRoot=c6.kEnvUrlRoot||"//portal.cinema6.com",this.mode=c6.kMode,this.protocol=(/https?/.test($location.protocol)?$location.protocol:"http")+":",this.hostname=$location.hostname,this.href=$location.href,this.origin=$location.origin,this.ancestorOrigins=function(){return window.location.ancestorOrigins?Array.prototype.slice.call(window.location.ancestorOrigins):[this.origin]}.call(this),this.initTime=c6.kStartTime,this.guid=function(){var t=storage.get(GUID_KEY)||generateId(32);return storage.set(GUID_KEY,t),t}()};exports["default"]=new Environment,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../lib/utils.js":13,"./services/url_parser.js":112}],45:[function(require,module,exports){
"use strict";function completeUrl(e){var r=_environmentJs2["default"].debug,s=_environmentJs2["default"].href,t=_environmentJs2["default"].guid,n=Date.now(),a=function(){if(r)return"mutantplayground.com";var e=_servicesUrl_parserJs2["default"].parse(s);return e.origin+e.pathname}(),i=[["{pageUrl}",a],["{cachebreaker}",n],["{guid}",t],["[timestamp]",n]];return _libUtilsJs.reduce(i,function(e,r){var s=r[0],t=r[1];return e.replace(new RegExp(_escapeRegexp2["default"](s),"g"),encodeURIComponent(t))},e||"")}exports.__esModule=!0,exports["default"]=completeUrl;var _environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_escapeRegexp=require("escape-regexp"),_escapeRegexp2=babelHelpers.interopRequireDefault(_escapeRegexp),_servicesUrl_parserJs=require("../services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_libUtilsJs=require("../../lib/utils.js");module.exports=exports["default"];
},{"../../lib/utils.js":13,"../environment.js":44,"../services/url_parser.js":112,"escape-regexp":181}],46:[function(require,module,exports){
"use strict";function makeShareLinks(e,t,r){return e?_libUtilsJs.map(_libUtilsJs.filter(Object.keys(e),function(e){return SOCIAL_LINKS.indexOf(e)>-1&&("pinterest"!==e||t)}),function(i){var s,n,o=encodeURIComponent(e[i]),a=encodeURIComponent(t),c=encodeURIComponent(r);switch(i){case"facebook":n="Share",s="https://www.facebook.com/sharer/sharer.php?u="+o;break;case"twitter":n="Tweet",s="https://twitter.com/intent/tweet?url="+o;break;case"pinterest":n="Pin it",s="https://pinterest.com/pin/create/button/?url="+o+"&media="+a,c&&(s+="&description="+c)}return{type:i,label:n,href:s}}):[]}exports.__esModule=!0,exports["default"]=makeShareLinks;var _libUtilsJs=require("../../lib/utils.js"),SOCIAL_LINKS=["facebook","pinterest","twitter"];module.exports=exports["default"];
},{"../../lib/utils.js":13}],47:[function(require,module,exports){
"use strict";function makeSocialLinks(e){return _libUtilsJs.map(_libUtilsJs.filter(Object.keys(e),function(e){return SOCIAL_LINKS.indexOf(e)>-1}),function(t){return{type:t.toLowerCase(),label:t,href:e[t]}})}exports.__esModule=!0,exports["default"]=makeSocialLinks;var _libUtilsJs=require("../../lib/utils.js"),SOCIAL_LINKS=["Facebook","Pinterest","Twitter","YouTube","Vimeo","Instagram"];module.exports=exports["default"];
},{"../../lib/utils.js":13}],48:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _servicesImage_loaderJs=require("../services/image_loader.js"),_servicesImage_loaderJs2=babelHelpers.interopRequireDefault(_servicesImage_loaderJs),_BillingHandlerJs=require("./BillingHandler.js"),_BillingHandlerJs2=babelHelpers.interopRequireDefault(_BillingHandlerJs),_fnsComplete_urlJs=require("../fns/complete_url.js"),_fnsComplete_urlJs2=babelHelpers.interopRequireDefault(_fnsComplete_urlJs),_libUtilsJs=require("../../lib/utils.js"),ADTECHHandler=function(e){function l(s){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),s(function(e){var l=e.target,s=l.campaign.launchUrls;s&&_servicesImage_loaderJs2["default"].load.apply(_servicesImage_loaderJs2["default"],babelHelpers.toConsumableArray(_libUtilsJs.map(s,_fnsComplete_urlJs2["default"])))},"navigation","launch"),this.on("AdClick",function(e){var l=e.campaign.clickUrls;l&&_servicesImage_loaderJs2["default"].load.apply(_servicesImage_loaderJs2["default"],babelHelpers.toConsumableArray(_libUtilsJs.map(l,_fnsComplete_urlJs2["default"])))}),this.on("AdCount",function(e){var l=e.campaign.countUrls;l&&_servicesImage_loaderJs2["default"].load.apply(_servicesImage_loaderJs2["default"],babelHelpers.toConsumableArray(_libUtilsJs.map(l,_fnsComplete_urlJs2["default"])))})}return babelHelpers.inherits(l,e),l}(_BillingHandlerJs2["default"]);exports["default"]=ADTECHHandler,module.exports=exports["default"];
},{"../../lib/utils.js":13,"../fns/complete_url.js":45,"../services/image_loader.js":104,"./BillingHandler.js":49}],49:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _events=require("events"),BillingHandler=function(e){function t(i){var n=this;babelHelpers.classCallCheck(this,t),e.call(this),this.cache={};var a=function(e){return n.cache[e.id]||(n.cache[e.id]={click:!1,count:!1})};i(function(e){var t=e.data,i=e.target,c=a(t);c.click||(n.emit("AdClick",t,i),c.click=!0)},"video","play"),i(function(e){var t=e.data,i=e.target,c=t.campaign.minViewTime,r=a(t);c>-1||r.count||(n.emit("AdCount",t,i),r.count=!0)},"video","complete"),i(function(e){var t=e.data,i=t.campaign.minViewTime;if(!(1>i)){var c=a(t),r=e.target,l=r.currentTime;l>=i&&!c.count&&(n.emit("AdCount",t,r),c.count=!0)}},"video","timeupdate")}return babelHelpers.inherits(t,e),t}(_events.EventEmitter);exports["default"]=BillingHandler,module.exports=exports["default"];
},{"events":182}],50:[function(require,module,exports){
(function (global){
"use strict";function existy(e){return void 0!==e&&null!==e}function waitFor(e,t){var r=void 0===arguments[2]?1e3:arguments[2];return new Promise(function(a,i){e.once(t,function(){return a(e)}),_libTimerJs2["default"].wait(r).then(function(){i("Timed out after "+r+'ms waiting for "'+t+'".')})})}exports.__esModule=!0;var _BillingHandlerJs=require("./BillingHandler.js"),_BillingHandlerJs2=babelHelpers.interopRequireDefault(_BillingHandlerJs),_servicesTrackerJs=require("../services/tracker.js"),_servicesTrackerJs2=babelHelpers.interopRequireDefault(_servicesTrackerJs),_libTimerJs=require("../../lib/timer.js"),_libTimerJs2=babelHelpers.interopRequireDefault(_libTimerJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_libUtilsJs=require("../../lib/utils.js"),GoogleAnalyticsHandler=function(e){function t(r,a,i){var n=this;babelHelpers.classCallCheck(this,t);var o=i.accountId,c=i.clientId;e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tracker=_servicesTrackerJs2["default"].get("c6mr"),this.startedSession=!1,this.minireel=a,this.config=i,this.tracker.create(o,{name:"c6mr",clientId:c,storage:"none",cookieDomain:"none"}),this.tracker.alias({category:"eventCategory",action:"eventAction",label:"eventLabel",value:"eventValue",origins:"dimension11"}),this.tracker.set({checkProtocolTask:_libUtilsJs.noop,hostname:_environmentJs2["default"].hostname,origins:_environmentJs2["default"].ancestorOrigins.join("|")}),_libRunnerJs2["default"].schedule("afterRender",null,function(){var e=Date.now();n.tracker.trackTiming(n.getTrackingData({timingCategory:"Player",timingVar:"jsBootstrap",timingLabel:"null",timingValue:e-_environmentJs2["default"].initTime})),n.tracker.trackTiming(n.getTrackingData({timingCategory:"Player",timingVar:"bootstrap",timingLabel:"null",timingValue:e-global.performance.timing.domLoading}))}),r(function(e){var t=e.target,r=t.currentIndex;n.startedSession||0!==r?r>-1&&n.tracker.trackPage(n.getTrackingData()):(n.tracker.trackPage(n.getTrackingData({sessionControl:"start"})),n.startedSession=!0)},"navigation","move"),r(function(e,t){n.tracker.trackEvent(n.getTrackingData({category:"Error",label:t.message}))},"navigation","error"),r(function(e){var t=e.target,r=e.data;n.tracker.trackEvent(n.getVideoTrackingData(t,"Play",r.data.autoplay))},"video","play"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"Pause"))},"video","pause"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"End"))},"video","ended"),r(function(e){var t=e.target,r=t.error&&t.error.message||"An unknown error occurred.";n.tracker.trackEvent(n.getVideoTrackingData(t,"Error",!0,r))},"video","error"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"Quartile 1"))},"video","firstQuartile"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"Quartile 2"))},"video","midpoint"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"Quartile 3"))},"video","thirdQuartile"),r(function(e){var t=e.target;n.tracker.trackEvent(n.getVideoTrackingData(t,"Quartile 4"))},"video","complete");var l=null,s=function(){n.tracker.trackEvent(n.getVideoTrackingData(l,"AutoPlayAttempt",!0)),waitFor(l,"play",5e3)["catch"](function(){n.tracker.trackEvent(n.getVideoTrackingData(l,"Error",!0,"Video play timed out."))})},u=function(){var e={};return function(t,r){e[t.id]||(e[t.id]=!0,n.tracker.trackEvent(_libUtilsJs.extend(n.getVideoTrackingData(r,"Played"),{value:Math.round(r.currentTime)})))}}();r(function(e){var t=e.target,r=e.data;l&&l.removeListener("attemptPlay",s),l=r,t.data.autoplay&&r.once("attemptPlay",s)},"card","activate"),r(function(e){var t=e.data,r=e.target;t.currentTime>=1&&u(r,t)},"card","deactivate"),r(function(e){var t=e.data,r=e.target;u(t,r)},"video","complete"),this.on("AdCount",function(e,t){n.tracker.trackEvent(n.getVideoTrackingData(t,"AdCount"))})}return babelHelpers.inherits(t,e),t.prototype.getTrackingData=function(){var e=void 0===arguments[0]?{}:arguments[0],t=this.minireel,r=t.id,a=t.title,i=t.branding,n=t.currentCard,o=t.currentIndex,c=this.config,l=n&&n.id?n:void 0,s=function(){var e=l&&l.id,t="/mr/"+r+(e?"/"+e:"")+"/",a=[],n={};c&&(n.cx=c.context,n.ct=c.container,n.gp=c.group,n.ex=c.experiment,n.vr=c.variant),l&&(n.ix=o),n.bd=i;for(var s in n)existy(n[s])&&a.push(s+"="+n[s]);return a.length&&(t+="?"+a.join("&")),t}();return _libUtilsJs.extend(e,{page:s,title:""+a+(l?" - "+l.title:"")})},t.prototype.getVideoTrackingData=function(e,t){var r=void 0===arguments[2]?!1:arguments[2],a=void 0===arguments[3]?void 0:arguments[3],i=this.minireel.currentCard;return this.getTrackingData({category:"Video",action:t,label:a||i.data.href||"null",nonInteraction:Number(r)})},t}(_BillingHandlerJs2["default"]);exports["default"]=GoogleAnalyticsHandler,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/timer.js":12,"../../lib/utils.js":13,"../environment.js":44,"../services/tracker.js":111,"./BillingHandler.js":49}],51:[function(require,module,exports){
"use strict";function send(e){return _libFetcherJs2["default"].get("http://webview_message/"+e)}exports.__esModule=!0;var _BillingHandlerJs=require("./BillingHandler.js"),_BillingHandlerJs2=babelHelpers.interopRequireDefault(_BillingHandlerJs),_libFetcherJs=require("../../lib/fetcher.js"),_libFetcherJs2=babelHelpers.interopRequireDefault(_libFetcherJs),JumpRampHandler=function(e){function l(t){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),t(function(){return send("close")},"navigation","close"),this.on("AdCount",function(){return send("complete")}),t(function(e){var l=e.data;return l.sponsor?void 0:send("complete/content")},"video","complete")}return babelHelpers.inherits(l,e),l}(_BillingHandlerJs2["default"]);exports["default"]=JumpRampHandler,module.exports=exports["default"];
},{"../../lib/fetcher.js":10,"./BillingHandler.js":49}],52:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _servicesMoatJs=require("../services/moat.js"),_servicesMoatJs2=babelHelpers.interopRequireDefault(_servicesMoatJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),MoatHandler=function e(t,a){function i(e,t){var a=t.volume;return t.muted&&(a=0),{type:e,adVolume:a}}babelHelpers.classCallCheck(this,e);var r=a.container,d=_environmentJs2["default"].hostname;t(function(e){var t=e.target,a=e.data;if(a.data.moat){var i={level1:a.sponsor,level2:a.data.moat.campaign,level3:a.data.moat.creative,slicer1:d,slicer2:r};_servicesMoatJs2["default"].initTracker(a.id,t.element,i,t.duration)}},"video","loadedmetadata"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(t.id,i("AdStopped",a))},"card","deactivate"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(a.id,i("AdVideoStart",t))},"video","play"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(a.id,i("AdVideoFirstQuartile",t))},"video","firstQuartile"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(a.id,i("AdVideoMidpoint",t))},"video","midpoint"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(a.id,i("AdVideoThirdQuartile",t))},"video","thirdQuartile"),t(function(e){var t=e.target,a=e.data;_servicesMoatJs2["default"].dispatchEvent(a.id,i("AdVideoComplete",t))},"video","complete")};exports["default"]=MoatHandler,module.exports=exports["default"];
},{"../environment.js":44,"../services/moat.js":106}],53:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _BillingHandlerJs=require("./BillingHandler.js"),_BillingHandlerJs2=babelHelpers.interopRequireDefault(_BillingHandlerJs),PostMessageHandler=function(e){function n(l,t){babelHelpers.classCallCheck(this,n),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var a=function(e){return t.call(window.parent,JSON.stringify(e),"*")};l(function(e){var n=e.target,l=n.deck[0];l&&a({event:"launch",isSponsored:!!l.sponsor,isClickToPlay:!l.data.autoplay})},"navigation","launch"),l(function(e){var n=e.data;n.sponsor&&a({event:"adEnded"})},"video","ended"),this.on("AdClick",function(){return a({event:"adStart"})}),this.on("AdCount",function(){return a({event:"adCount"})})}return babelHelpers.inherits(n,e),n}(_BillingHandlerJs2["default"]);exports["default"]=PostMessageHandler,module.exports=exports["default"];
},{"./BillingHandler.js":49}],54:[function(require,module,exports){
"use strict";require("./main.js");var _libRunnerJs=require("../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_controllersLightboxLightboxApplicationControllerJs=require("./controllers/lightbox/LightboxApplicationController.js"),_controllersLightboxLightboxApplicationControllerJs2=babelHelpers.interopRequireDefault(_controllersLightboxLightboxApplicationControllerJs);_libRunnerJs2["default"].run(function(){return new _controllersLightboxLightboxApplicationControllerJs2["default"](document.body)});
},{"../lib/Runner.js":2,"./controllers/lightbox/LightboxApplicationController.js":37,"./main.js":55}],55:[function(require,module,exports){
"use strict";require("./polyfill.js");var _servicesTrackerJs=require("./services/tracker.js"),_servicesTrackerJs2=babelHelpers.interopRequireDefault(_servicesTrackerJs);require("./tests.js"),_servicesTrackerJs2["default"].api("c6Tracker");
},{"./polyfill.js":95,"./services/tracker.js":111,"./tests.js":114}],56:[function(require,module,exports){
"use strict";function BallotVideoCardController(){}exports.__esModule=!0;var _controllersBallotControllerJs=require("../controllers/BallotController.js"),_controllersBallotControllerJs2=babelHelpers.interopRequireDefault(_controllersBallotControllerJs);BallotVideoCardController.prototype={initBallot:function(){var t=this,l=this.model.modules.ballot;if(l){var e=this.BallotCtrl=new _controllersBallotControllerJs2["default"](l);e.on("activate",function(){return t.view.playerOutlet.hide()}),e.on("deactivate",function(){return t.view.playerOutlet.show()}),e.on("vote",function(){return e.deactivate()}),this.player.on("play",function(){return e.deactivate()}),this.player.on("pause",function(){null===l.choice&&e.activate()}),this.model.on("deactivate",function(){return e.deactivate()})}},render:function(){this["super"](),this.BallotCtrl&&this.BallotCtrl.renderInto(this.view.ballotOutlet)},canAutoadvance:function(){var t=this.model.modules;return!(!this["super"]()||"ballot"in t&&null===t.ballot.choice)}},exports["default"]=BallotVideoCardController,module.exports=exports["default"];
},{"../controllers/BallotController.js":16}],57:[function(require,module,exports){
"use strict";function CompanionPrerollCardController(){_(this).hasCompanion=!1}exports.__esModule=!0;var _viewsDisplayAdViewJs=require("../views/DisplayAdView.js"),_viewsDisplayAdViewJs2=babelHelpers.interopRequireDefault(_viewsDisplayAdViewJs),_privateParts=require("private-parts"),_=_privateParts.createKey();CompanionPrerollCardController.prototype={initCompanion:function(){var e=this;this.companion=new _viewsDisplayAdViewJs2["default"],this.player.on("companionsReady",function(){var i=e.player.getCompanions(),o=i[0];_(e).hasCompanion=!0,e.companion.populateWith(function(){switch(o.adType){case"iframe":return'<iframe src="'+o.fileURI+'" scrolling="no"></iframe>';case"image":return'<img src="'+o.fileURI+'" />';case"html":return o.fileURI}}()),e.companion.show(),e.model.active&&e.emit("showingCompanion")}),this.model.on("activate",function(){_(e).hasCompanion&&e.emit("showingCompanion")}),this.model.on("deactivate",function(){_(e).hasCompanion=!1,e.companion.hide()})},renderInto:function(e){this["super"](e),this.companion.hide(),this.companion.appendTo(this.view.companionOutlet)}},exports["default"]=CompanionPrerollCardController,module.exports=exports["default"];
},{"../views/DisplayAdView.js":126,"private-parts":187}],58:[function(require,module,exports){
"use strict";function DisplayAdVideoCardController(){}exports.__esModule=!0;var _controllersDisplayAdControllerJs=require("../controllers/DisplayAdController.js"),_controllersDisplayAdControllerJs2=babelHelpers.interopRequireDefault(_controllersDisplayAdControllerJs);DisplayAdVideoCardController.prototype={initDisplayAd:function(){var e=this.model.modules.displayAd;if(e){var l=this.DisplayAdCtrl=new _controllersDisplayAdControllerJs2["default"](e);this.model.on("activate",function(){return l.activate()}),this.model.on("deactivate",function(){return l.deactivate()})}},render:function(){return this.view.update({hasDisplayAd:!!this.model.modules.displayAd}),this.DisplayAdCtrl&&this.DisplayAdCtrl.renderInto(this.view.displayAdOutlet),this["super"]()}},exports["default"]=DisplayAdVideoCardController,module.exports=exports["default"];
},{"../controllers/DisplayAdController.js":20}],59:[function(require,module,exports){
"use strict";function FullscreenPlayerController(){}exports.__esModule=!0;var _servicesCinema6Js=require("../services/cinema6.js"),_servicesCinema6Js2=babelHelpers.interopRequireDefault(_servicesCinema6Js);FullscreenPlayerController.prototype={initFullscreen:function(){this.minireel.on("launch",function(){return _servicesCinema6Js2["default"].fullscreen(!0)}),this.minireel.on("close",function(){return _servicesCinema6Js2["default"].fullscreen(!1)})}},exports["default"]=FullscreenPlayerController,module.exports=exports["default"];
},{"../services/cinema6.js":98}],60:[function(require,module,exports){
"use strict";function _show(e){var i=this,t=this.element;return e?_libAnimatorJs2["default"].trigger("view:show",this).then(function(){return t.style.display=_(i).display}):_libAnimatorJs2["default"].trigger("view:hide",this).then(function(){return t.style.display="none"})}function Hideable(){_(this).display="",_(this).shown=!0}exports.__esModule=!0;var _libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libAnimatorJs=require("../../lib/animator.js"),_libAnimatorJs2=babelHelpers.interopRequireDefault(_libAnimatorJs),_privateParts=require("private-parts"),_=_privateParts.createKey();Hideable.prototype={hide:function(){if(_(this).shown){var e=this.element||this.create();_(this).shown=!1,_(this).display=e.style.display,_libRunnerJs2["default"].scheduleOnce("render",this,_show,[!1])}},show:function(){_(this).shown||(_(this).shown=!0,_libRunnerJs2["default"].scheduleOnce("render",this,_show,[!0]))}},exports["default"]=Hideable,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/animator.js":4,"private-parts":187}],61:[function(require,module,exports){
"use strict";function ModalBallotResultsVideoCardController(){}exports.__esModule=!0;var _controllersModalBallotResultsControllerJs=require("../controllers/ModalBallotResultsController.js"),_controllersModalBallotResultsControllerJs2=babelHelpers.interopRequireDefault(_controllersModalBallotResultsControllerJs);ModalBallotResultsVideoCardController.prototype={initBallotResults:function(){var t=this,l=this.BallotCtrl;if(l){var e=this.BallotResultsCtrl=new _controllersModalBallotResultsControllerJs2["default"](l.model);e.on("activate",function(){return t.view.playerOutlet.hide()}),e.on("deactivate",function(){return t.view.playerOutlet.show()}),l.on("voted",function(){return e.activate()}),this.player.on("play",function(){return e.deactivate()}),this.player.on("pause",function(){null!==l.model.choice&&e.activate()}),this.model.on("deactivate",function(){return e.deactivate()})}},canAutoadvance:function(){var t=this.model.modules;return!(!this["super"]()||"ballot"in t&&null!==t.ballot.choice)},render:function(){this["super"](),this.BallotResultsCtrl&&this.BallotResultsCtrl.renderInto(this.view.ballotResultsOutlet)}},exports["default"]=ModalBallotResultsVideoCardController,module.exports=exports["default"];
},{"../controllers/ModalBallotResultsController.js":24}],62:[function(require,module,exports){
(function (global){
"use strict";function ModalShareVideoCardController(){global.__karma__&&(this.__private__=_(this))}exports.__esModule=!0;var _viewsModalShareViewJs=require("../views/ModalShareView.js"),_viewsModalShareViewJs2=babelHelpers.interopRequireDefault(_viewsModalShareViewJs),_privateParts=require("private-parts"),Private=function(){function e(i){babelHelpers.classCallCheck(this,e),this.__public__=i,this.shown=!1,this.shareView=null}return e.prototype.updateView=function(){this.shareView&&(this.shown?(this.__public__.player.pause(),this.__public__.view.playerOutlet&&this.__public__.view.playerOutlet.hide(),this.shareView.show()):(this.shareView.hide(),this.__public__.view.playerOutlet&&this.__public__.view.playerOutlet.show()))},e}(),_=_privateParts.createKey(function(e){return new Private(e)});ModalShareVideoCardController.prototype={initShare:function(){var e=this;_(this).shareView=this.addView(new _viewsModalShareViewJs2["default"]),this.model.on("deactivate",function(){return e.hideShare()})},render:function(){this["super"]();var e=_(this).shareView;e&&this.view.shareOutlet&&(e.update({shareLinks:this.model.shareLinks}),this.view.shareOutlet.append(e)),_(this).updateView()},showShare:function(){_(this).shown=!0,_(this).updateView()},hideShare:function(){_(this).shown=!1,_(this).updateView()}},exports["default"]=ModalShareVideoCardController,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../views/ModalShareView.js":137,"private-parts":187}],63:[function(require,module,exports){
"use strict";function PostModuleVideoCardController(){}exports.__esModule=!0;var _controllersPostControllerJs=require("../controllers/PostController.js"),_controllersPostControllerJs2=babelHelpers.interopRequireDefault(_controllersPostControllerJs);PostModuleVideoCardController.prototype={initPost:function(){var t=this,e=this.model.modules.post;if(e){var o=this.PostCtrl=new _controllersPostControllerJs2["default"](e);o.on("activate",function(){return t.view.playerOutlet.hide()}),o.on("deactivate",function(){return t.view.playerOutlet.show()}),o.on("replay",function(){return t.player.play()}),this.model.on("deactivate",function(){return o.deactivate()}),this.player.on("play",function(){return o.deactivate()}),this.player.on("ended",function(){return o.activate()})}},canAutoadvance:function(){return this["super"]()&&!("post"in this.model.modules)},render:function(){this["super"].apply(this,arguments),this.PostCtrl&&this.PostCtrl.renderInto(this.view.postOutlet)}},exports["default"]=PostModuleVideoCardController,module.exports=exports["default"];
},{"../controllers/PostController.js":27}],64:[function(require,module,exports){
"use strict";function SponsoredCard(s){this.sponsored=s.sponsored,this.campaign=s.campaign,this.action={},this.links={},this.socialLinks=[],this.ad=!1,s.sponsored&&(this.sponsor=s.params.sponsor,s.links.Action&&(this.action=s.params.action||{}),this.logo=s.collateral.logo,this.links=s.links||{},this.socialLinks=_fnsMake_social_linksJs2["default"](s.links),this.shareLinks=_fnsMake_share_linksJs2["default"](s.shareLinks,s.data.thumbs&&(s.data.thumbs.large||s.data.thumbs.small)||s.thumbs&&(s.thumbs.large||s.thumbs.small),s.title||""),this.ad=!!s.params.ad)}exports.__esModule=!0;var _fnsMake_social_linksJs=require("../fns/make_social_links.js"),_fnsMake_social_linksJs2=babelHelpers.interopRequireDefault(_fnsMake_social_linksJs),_fnsMake_share_linksJs=require("../fns/make_share_links.js"),_fnsMake_share_linksJs2=babelHelpers.interopRequireDefault(_fnsMake_share_linksJs);exports["default"]=SponsoredCard,module.exports=exports["default"];
},{"../fns/make_share_links.js":46,"../fns/make_social_links.js":47}],65:[function(require,module,exports){
"use strict";function ThumbnailNavigatorPlayerController(){}exports.__esModule=!0;var _controllersThumbnailNavigatorViewControllerJs=require("../controllers/ThumbnailNavigatorViewController.js"),_controllersThumbnailNavigatorViewControllerJs2=babelHelpers.interopRequireDefault(_controllersThumbnailNavigatorViewControllerJs);ThumbnailNavigatorPlayerController.prototype={initThumbnailNavigator:function(){var r=this;this.ThumbnailNavigatorViewCtrl=new _controllersThumbnailNavigatorViewControllerJs2["default"](this.minireel),this.minireel.once("init",function(){r.minireel.length>1&&r.ThumbnailNavigatorViewCtrl.renderInto(r.view.pagerOutlet)}),this.minireel.on("move",function(){if(r.minireel.currentCard){var e=r.minireel.currentCard.type;/^(article|instagramImage|instagramVideo|text|recap|displayAd)$/.test(e)?r.ThumbnailNavigatorViewCtrl.expand():r.ThumbnailNavigatorViewCtrl.contract(),"recap"===e?r.ThumbnailNavigatorViewCtrl.hideThumbs():r.ThumbnailNavigatorViewCtrl.showThumbs()}})}},exports["default"]=ThumbnailNavigatorPlayerController,module.exports=exports["default"];
},{"../controllers/ThumbnailNavigatorViewController.js":31}],66:[function(require,module,exports){
"use strict";function Touchable(){}exports.__esModule=!0,Touchable.prototype={touchStart:function(t){t.preventDefault()},touchEnd:function(t){t.preventDefault(),this.click&&this.click()}},exports["default"]=Touchable,module.exports=exports["default"];
},{}],67:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardJs=require("./VideoCard.js"),_VideoCardJs2=babelHelpers.interopRequireDefault(_VideoCardJs),_fnsComplete_urlJs=require("../fns/complete_url.js"),_fnsComplete_urlJs2=babelHelpers.interopRequireDefault(_fnsComplete_urlJs),AdUnitCard=function(e){function t(a,s,r){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.data.type=r.flash&&a.data.vpaid?"vpaid":"vast",this.data.videoid=a.data[this.data.type],this.data.preload="vpaid"!==this.data.type}return babelHelpers.inherits(t,e),t.prototype.getSrc=function(){return _fnsComplete_urlJs2["default"](this.data.videoid)},t}(_VideoCardJs2["default"]);exports["default"]=AdUnitCard,module.exports=exports["default"];
},{"../fns/complete_url.js":45,"./VideoCard.js":83}],68:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),ArticleCard=function(e){function a(s){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.type="article",this.thumbs||(this.thumbs={small:s.data.thumbs.small,large:s.data.thumbs.large}),this.data={src:s.data.src}}return babelHelpers.inherits(a,e),a}(_CardJs2["default"]);exports["default"]=ArticleCard,module.exports=exports["default"];
},{"./Card.js":70}],69:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _events=require("events"),_srcServicesElectionJs=require("../../src/services/election.js"),_srcServicesElectionJs2=babelHelpers.interopRequireDefault(_srcServicesElectionJs),_libUtilsJs=require("../../lib/utils.js"),Ballot=function(e){function t(s,i){var l=this;babelHelpers.classCallCheck(this,t),e.call(this),this.id=s.id,this.election=s.ballot.election||i.data.election,this.prompt=s.ballot.prompt,this.choices=s.ballot.choices.concat(),this.results=_libUtilsJs.map(this.choices,function(){return null}),this.choice=null,_srcServicesElectionJs2["default"].getResults(this.election,this.id).then(function(e){l.results=e,l.emit("hasResults")})}return babelHelpers.inherits(t,e),t.prototype.cast=function(e){return this.choice=e,e>-1?_srcServicesElectionJs2["default"].vote(this.election,this.id,e):void 0},t}(_events.EventEmitter);exports["default"]=Ballot,module.exports=exports["default"];
},{"../../lib/utils.js":13,"../../src/services/election.js":102,"events":182}],70:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _events=require("events"),_DisplayAdJs=require("./DisplayAd.js"),_DisplayAdJs2=babelHelpers.interopRequireDefault(_DisplayAdJs),_PostJs=require("./Post.js"),_PostJs2=babelHelpers.interopRequireDefault(_PostJs),_BallotJs=require("./Ballot.js"),_BallotJs2=babelHelpers.interopRequireDefault(_BallotJs),_libCoreMixableJs=require("../../lib/core/Mixable.js"),_libCoreMixableJs2=babelHelpers.interopRequireDefault(_libCoreMixableJs),_libUtilsJs=require("../../lib/utils.js"),Card=function(e){function t(i,s){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.id=i.id,this.title=i.title||null,this.note=i.note||null,this.thumbs=(i.thumbs||null)&&_libUtilsJs.extend(i.thumbs),this.data={},this.modules=_libUtilsJs.reduce(i.modules||[],function(e,t){var l=function(){switch(t){case"displayAd":return new _DisplayAdJs2["default"](i,s);case"post":return new _PostJs2["default"](i,s);case"ballot":return new _BallotJs2["default"](i,s);default:return void 0}}();return l&&(e[t]=l),e},{}),this.active=!1}return babelHelpers.inherits(t,e),t.prototype.activate=function(){var e=!this.active;this.active=!0,e&&this.emit("activate")},t.prototype.deactivate=function(){var e=this.active;this.active=!1,e&&this.emit("deactivate")},t.prototype.prepare=function(){this.emit("prepare")},t.prototype.complete=function(){this.emit("complete")},t.prototype.reset=function(){},t.prototype.abort=function(){},t.prototype.cleanup=function(){this.reset(),this.emit("cleanup")},t}(_libCoreMixableJs2["default"]);Card.mixin(_events.EventEmitter),exports["default"]=Card,module.exports=exports["default"];
},{"../../lib/core/Mixable.js":6,"../../lib/utils.js":13,"./Ballot.js":69,"./DisplayAd.js":71,"./Post.js":78,"events":182}],71:[function(require,module,exports){
"use strict";exports.__esModule=!0;var DisplayAd=function e(t,s){babelHelpers.classCallCheck(this,e);var a=parseInt(s.data.placementId,10),l=parseInt(t.placementId,10);this.placement=l||a,this.isDefault=this.placement===a};exports["default"]=DisplayAd,module.exports=exports["default"];
},{}],72:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),_DisplayAdJs=require("./DisplayAd.js"),_DisplayAdJs2=babelHelpers.interopRequireDefault(_DisplayAdJs),_fnsMake_social_linksJs=require("../fns/make_social_links.js"),_fnsMake_social_linksJs2=babelHelpers.interopRequireDefault(_fnsMake_social_linksJs),DisplayAdCard=function(s){function e(l,a){babelHelpers.classCallCheck(this,e),s.call.apply(s,[this].concat(babelHelpers.slice.call(arguments))),this.type="displayAd",this.sponsor=l.params.sponsor,this.links=l.links,this.socialLinks=_fnsMake_social_linksJs2["default"](this.links),this.displayAd=new _DisplayAdJs2["default"](l,a)}return babelHelpers.inherits(e,s),e}(_CardJs2["default"]);exports["default"]=DisplayAdCard,module.exports=exports["default"];
},{"../fns/make_social_links.js":47,"./Card.js":70,"./DisplayAd.js":71}],73:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardJs=require("./VideoCard.js"),_VideoCardJs2=babelHelpers.interopRequireDefault(_VideoCardJs),EmbeddedVideoCard=function(e){function d(r,a){babelHelpers.classCallCheck(this,d),e.call(this,r,a),this.data.videoid=r.data.code}return babelHelpers.inherits(d,e),d}(_VideoCardJs2["default"]);exports["default"]=EmbeddedVideoCard,module.exports=exports["default"];
},{"./VideoCard.js":83}],74:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),_mixinsSponsoredCardJs=require("../mixins/SponsoredCard.js"),_mixinsSponsoredCardJs2=babelHelpers.interopRequireDefault(_mixinsSponsoredCardJs),ImageCard=function(e){function a(s){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.type="image",!this.thumbs&&s.data.thumbs&&(this.thumbs={small:s.data.thumbs.small,large:s.data.thumbs.large}),this.data={service:s.data.service,imageid:s.data.imageid,src:s.data.src,width:s.data.width,height:s.data.height,href:s.data.href,source:s.data.source}}return babelHelpers.inherits(a,e),a}(_CardJs2["default"]);ImageCard.mixin(_mixinsSponsoredCardJs2["default"]),exports["default"]=ImageCard,module.exports=exports["default"];
},{"../mixins/SponsoredCard.js":64,"./Card.js":70}],75:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ImageCardJs=require("./ImageCard.js"),_ImageCardJs2=babelHelpers.interopRequireDefault(_ImageCardJs),_libUtilsJs=require("../../lib/utils.js"),InstagramImageCard=function(e){function a(t){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.type="instagramImage",this.hideTitle=!1,this.title||(this.title=t.data.caption,this.hideTitle=!0),this.data=_libUtilsJs.extend(this.data,{source:t.source,href:t.data.href,user:_libUtilsJs.extend(null,t.data.user),likes:t.data.likes,date:new Date(1e3*parseInt(t.data.date)),caption:t.data.caption,comments:t.data.comments})}return babelHelpers.inherits(a,e),a}(_ImageCardJs2["default"]);exports["default"]=InstagramImageCard,module.exports=exports["default"];
},{"../../lib/utils.js":13,"./ImageCard.js":74}],76:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardJs=require("./VideoCard.js"),_VideoCardJs2=babelHelpers.interopRequireDefault(_VideoCardJs),_libUtilsJs=require("../../lib/utils.js"),InstagramVideoCard=function(e){function t(a){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.type="instagramVideo",this.hideTitle=!1,this.title||(this.title=a.data.caption,this.hideTitle=!0),this.data=_libUtilsJs.extend(this.data,{href:a.data.href,src:a.data.src,user:_libUtilsJs.extend(null,a.data.user),likes:a.data.likes,date:new Date(1e3*parseInt(a.data.date)),caption:a.data.caption,comments:a.data.comments})}return babelHelpers.inherits(t,e),t}(_VideoCardJs2["default"]);exports["default"]=InstagramVideoCard,module.exports=exports["default"];
},{"../../lib/utils.js":13,"./VideoCard.js":83}],77:[function(require,module,exports){
(function (global){
"use strict";function getCardType(e){switch(e.type){case"youtube":case"vimeo":case"dailymotion":case"rumble":case"embedded":case"adUnit":case"vine":return"video";default:return e.type}}function initialize(e,s){var r=this,a=s.experience,i=s.standalone,t=s.interstitial,n=s.profile,l=_libUtilsJs.filter(a.data.deck,function(s){return e.indexOf(getCardType(s))>-1});this.standalone=i,this.interstitial=t,this.id=a.id,this.title=a.data.title,this.branding=a.data.branding,this.campaign=a.data.campaign,this.splash=a.data.collateral.splash,this.deck=_libUtilsJs.map(l,function(e){switch(e.type){case"article":return new _ArticleCardJs2["default"](e,a,n);case"text":return new _TextCardJs2["default"](e,a,n);case"image":return new _ImageCardJs2["default"](e,a,n);case"recap":return new _RecapCardJs2["default"](e,a,n,r);case"adUnit":return new _AdUnitCardJs2["default"](e,a,n);case"embedded":return new _EmbeddedVideoCardJs2["default"](e,a,n);case"displayAd":return new _DisplayAdCardJs2["default"](e,a,n);case"slideshow-bob":return new _SlideshowBobCardJs2["default"](e,a,n);case"instagram":return"image"===e.data.type?new _InstagramImageCardJs2["default"](e,a,n):new _InstagramVideoCardJs2["default"](e,a,n);default:return new _VideoCardJs2["default"](e,a,n)}}),this.length=this.deck.length,this.adConfig=a.data.adConfig||{video:{firstPlacement:1,frequency:3,waterfall:"cinema6",skip:6},display:{waterfall:"cinema6"}},this.sponsor=a.data.params.sponsor||null,this.logo=a.data.collateral.logo||null,this.links=a.data.links||{},this.socialLinks=_fnsMake_social_linksJs2["default"](this.links),_servicesAdtechJs2["default"].setDefaults({network:a.data.adServer.network,server:a.data.adServer.server,kv:{mode:this.adConfig.display.waterfall||"default"}}),this.prerollCard=new _PrerollCardJs2["default"](null,a,n,this),this.branding&&!function(){var e=_environmentJs2["default"].apiRoot,s=_environmentJs2["default"].mode,a=""+e+"/collateral/branding/"+r.branding+"/styles";_servicesCode_loaderJs2["default"].loadStyles(""+a+"/"+s+"/theme.css"),_servicesCode_loaderJs2["default"].loadStyles(""+a+"/core.css"),_servicesBrowserJs2["default"].test("mouse").then(function(e){e&&(_servicesCode_loaderJs2["default"].loadStyles(""+a+"/"+s+"/theme--hover.css"),_servicesCode_loaderJs2["default"].loadStyles(""+a+"/core--hover.css"))})}(),_(this).ready=!0,this.emit("init"),this.deck[0].prepare()}exports.__esModule=!0;var _libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_servicesDispatcherJs=require("../services/dispatcher.js"),_servicesDispatcherJs2=babelHelpers.interopRequireDefault(_servicesDispatcherJs),_handlersADTECHHandlerJs=require("../handlers/ADTECHHandler.js"),_handlersADTECHHandlerJs2=babelHelpers.interopRequireDefault(_handlersADTECHHandlerJs),_handlersPostMessageHandlerJs=require("../handlers/PostMessageHandler.js"),_handlersPostMessageHandlerJs2=babelHelpers.interopRequireDefault(_handlersPostMessageHandlerJs),_handlersGoogleAnalyticsHandlerJs=require("../handlers/GoogleAnalyticsHandler.js"),_handlersGoogleAnalyticsHandlerJs2=babelHelpers.interopRequireDefault(_handlersGoogleAnalyticsHandlerJs),_handlersMoatHandlerJs=require("../handlers/MoatHandler.js"),_handlersMoatHandlerJs2=babelHelpers.interopRequireDefault(_handlersMoatHandlerJs),_handlersJumpRampHandlerJs=require("../handlers/JumpRampHandler.js"),_handlersJumpRampHandlerJs2=babelHelpers.interopRequireDefault(_handlersJumpRampHandlerJs),_events=require("events"),_privateParts=require("private-parts"),_servicesCinema6Js=require("../services/cinema6.js"),_servicesCinema6Js2=babelHelpers.interopRequireDefault(_servicesCinema6Js),_servicesAdtechJs=require("../services/adtech.js"),_servicesAdtechJs2=babelHelpers.interopRequireDefault(_servicesAdtechJs),_servicesBrowserJs=require("../services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),_servicesCode_loaderJs=require("../services/code_loader.js"),_servicesCode_loaderJs2=babelHelpers.interopRequireDefault(_servicesCode_loaderJs),_fnsMake_social_linksJs=require("../fns/make_social_links.js"),_fnsMake_social_linksJs2=babelHelpers.interopRequireDefault(_fnsMake_social_linksJs),_libUtilsJs=require("../../lib/utils.js"),_ArticleCardJs=require("./ArticleCard.js"),_ArticleCardJs2=babelHelpers.interopRequireDefault(_ArticleCardJs),_TextCardJs=require("./TextCard.js"),_TextCardJs2=babelHelpers.interopRequireDefault(_TextCardJs),_ImageCardJs=require("./ImageCard.js"),_ImageCardJs2=babelHelpers.interopRequireDefault(_ImageCardJs),_VideoCardJs=require("./VideoCard.js"),_VideoCardJs2=babelHelpers.interopRequireDefault(_VideoCardJs),_AdUnitCardJs=require("./AdUnitCard.js"),_AdUnitCardJs2=babelHelpers.interopRequireDefault(_AdUnitCardJs),_EmbeddedVideoCardJs=require("./EmbeddedVideoCard.js"),_EmbeddedVideoCardJs2=babelHelpers.interopRequireDefault(_EmbeddedVideoCardJs),_DisplayAdCardJs=require("./DisplayAdCard.js"),_DisplayAdCardJs2=babelHelpers.interopRequireDefault(_DisplayAdCardJs),_RecapCardJs=require("./RecapCard.js"),_RecapCardJs2=babelHelpers.interopRequireDefault(_RecapCardJs),_PrerollCardJs=require("./PrerollCard.js"),_PrerollCardJs2=babelHelpers.interopRequireDefault(_PrerollCardJs),_SlideshowBobCardJs=require("./SlideshowBobCard.js"),_SlideshowBobCardJs2=babelHelpers.interopRequireDefault(_SlideshowBobCardJs),_InstagramImageCardJs=require("./InstagramImageCard.js"),_InstagramImageCardJs2=babelHelpers.interopRequireDefault(_InstagramImageCardJs),_InstagramVideoCardJs=require("./InstagramVideoCard.js"),_InstagramVideoCardJs2=babelHelpers.interopRequireDefault(_InstagramVideoCardJs),CARD_WHITELIST=["text","video","article","image","displayAd","slideshow-bob","recap","instagram"],_=_privateParts.createKey(),MiniReel=function(e){function s(){var r=this,a=void 0===arguments[0]?CARD_WHITELIST:arguments[0];babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.standalone=null,this.interstitial=null,this.id=null,this.title=null,this.branding=null,this.campaign=null,this.splash=null,this.deck=[],this.prerollCard=null,this.length=0,this.adConfig=null,this.sponsor=null,this.logo=null,this.links=null,this.socialLinks=null,this.currentIndex=-1,this.currentCard=null,this.skippable=!0,this.closeable=!0,_(this).ready=!1,_(this).cardsShown=0,_(this).prerollShown=0,_(this).previousIndex=this.currentIndex-1,_(this).nextIndex=this.currentIndex+1,_(this).cardCanAdvanceHandler=function(){return r.next()},_(this).becameUnskippableHandler=function(){r.skippable=!1,r.emit("becameUnskippable")},_(this).becameSkippableHandler=function(){r.skippable=!0,r.emit("becameSkippable")},_(this).skippableProgressHandler=function(e){return r.emit("skippableProgress",e)},_servicesCinema6Js2["default"].getAppData().then(function(e){return initialize.call(r,a,e)})["catch"](function(e){return r.emit("error",e)}),_servicesCinema6Js2["default"].getSession().then(function(e){e.on("show",function(){return r.moveToIndex(0)}),e.on("hide",function(){return r.close()}),e.on("initAnalytics",function(e){_servicesDispatcherJs2["default"].addClient(_handlersGoogleAnalyticsHandlerJs2["default"],r,e),_servicesDispatcherJs2["default"].addClient(_handlersMoatHandlerJs2["default"],e),"jumpramp"===e.container&&_servicesDispatcherJs2["default"].addClient(_handlersJumpRampHandlerJs2["default"])}),e.on("showCard",function(e){return r.moveTo(_libUtilsJs.find(r.deck,function(s){return s.id===e}))})}),this.on("launch",function(){return _servicesCinema6Js2["default"].getSession().then(function(e){return e.ping("open")})}),this.on("close",function(){return _servicesCinema6Js2["default"].getSession().then(function(e){return e.ping("close")})}),this.on("becameUnskippable",function(){r.interstitial&&(r.closeable=!1,r.emit("becameUncloseable"))}),this.on("becameSkippable",function(){r.closeable||(r.closeable=!0,r.emit("becameCloseable"))}),global.parent.addEventListener("beforeunload",function(){return _libRunnerJs2["default"].run(function(){return r.close()})},!1),_servicesDispatcherJs2["default"].addClient(_handlersADTECHHandlerJs2["default"]),_servicesDispatcherJs2["default"].addClient(_handlersPostMessageHandlerJs2["default"],window.parent.postMessage),_servicesDispatcherJs2["default"].addSource("navigation",this,["launch","move","close","error"])}return babelHelpers.inherits(s,e),s.prototype.moveToIndex=function(e){if(!_(this).ready)throw new Error("Cannot move until the MiniReel has been initialized.");if(-1>e)throw new RangeError("Cannot move below index -1.");if(e>this.length-1)throw new RangeError("Cannot move past the last index.");if(!this.skippable){if(-1!==e)return;this.currentCard.abort()}var s=this.currentCard,r=this.currentIndex,a=this.deck[e]||null,i=this.deck[e+1]||null,t=e;if(_(this).previousIndex=e-1,_(this).nextIndex=e+1,a!==s){var n=_(this),l=n.cardsShown,d=n.prerollShown,o=this.adConfig.video.firstPlacement>-1?this.adConfig.video.firstPlacement:1/0,u=this.adConfig.video.frequency||1/0,c=d>0,p=l-o,h=l+1===o||(p+1)%u===0,b=e>-1&&(l===o&&!c||c&&p/u>=d);h&&(i=this.prerollCard),b?(t=null,i=a,a=this.prerollCard,_(this).prerollShown++,_(this).nextIndex=e,_(this).previousIndex=r):_(this).cardsShown++,a&&(t!==this.length-1&&a.on("canAdvance",_(this).cardCanAdvanceHandler),a.on("becameUnskippable",_(this).becameUnskippableHandler),a.on("becameSkippable",_(this).becameSkippableHandler),a.on("skippableProgress",_(this).skippableProgressHandler)),s&&(s.removeListener("canAdvance",_(this).cardCanAdvanceHandler),s.removeListener("becameUnskippable",_(this).becameUnskippableHandler),s.removeListener("becameSkippable",_(this).becameSkippableHandler),s.removeListener("skippableProgress",_(this).skippableProgressHandler)),s&&s.deactivate(),this.currentIndex=t,this.currentCard=a,a&&a.activate(),a||_libUtilsJs.forEach(this.deck.concat([this.prerollCard]),function(e){return e.cleanup()}),i&&i.prepare(),this.emit("move"),s||this.emit("launch"),a||this.emit("close")}},s.prototype.moveTo=function(e){return this.moveToIndex(this.deck.indexOf(e))},s.prototype.next=function(){return this.moveToIndex(_(this).nextIndex)},s.prototype.previous=function(){return this.moveToIndex(_(this).previousIndex)},s.prototype.close=function(){this.moveToIndex(-1)},s}(_events.EventEmitter);exports["default"]=MiniReel,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"../environment.js":44,"../fns/make_social_links.js":47,"../handlers/ADTECHHandler.js":48,"../handlers/GoogleAnalyticsHandler.js":50,"../handlers/JumpRampHandler.js":51,"../handlers/MoatHandler.js":52,"../handlers/PostMessageHandler.js":53,"../services/adtech.js":96,"../services/browser.js":97,"../services/cinema6.js":98,"../services/code_loader.js":99,"../services/dispatcher.js":101,"./AdUnitCard.js":67,"./ArticleCard.js":68,"./DisplayAdCard.js":72,"./EmbeddedVideoCard.js":73,"./ImageCard.js":74,"./InstagramImageCard.js":75,"./InstagramVideoCard.js":76,"./PrerollCard.js":79,"./RecapCard.js":80,"./SlideshowBobCard.js":81,"./TextCard.js":82,"./VideoCard.js":83,"events":182,"private-parts":187}],78:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _BallotJs=require("./Ballot.js"),_BallotJs2=babelHelpers.interopRequireDefault(_BallotJs),Post=function l(e,t){babelHelpers.classCallCheck(this,l),this.website=e.links.Website,this.ballot=(e.ballot||null)&&new _BallotJs2["default"](e,t)};exports["default"]=Post,module.exports=exports["default"];
},{"./Ballot.js":69}],79:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _AdUnitCardJs=require("./AdUnitCard.js"),_AdUnitCardJs2=babelHelpers.interopRequireDefault(_AdUnitCardJs),PrerollCard=function(e){function a(r,t,c,s){babelHelpers.classCallCheck(this,a),e.call(this,{params:{},collateral:{},data:{skip:s.adConfig.video.skip,vast:function(){switch(s.adConfig.video.waterfall){case"cinema6":return"http://ads.adaptv.advertising.com//a/h/DCQzzI0K2rv1k0TZythPvTfWmlP8j6NQnxBMIgFJa80=?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"publisher":return"http://ads.adaptv.advertising.com/a/h/DCQzzI0K2runZ1YEc6FP2ey+WPdagwFmdz7a2uK_A_c=?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"cinema6-publisher":return"http://ads.adaptv.advertising.com/a/h/DCQzzI0K2rv1k0TZythPvadnVgRzoU_Z7L5Y91qDAWYoGast41+eSw==?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"publisher-cinema6":return"http://ads.adaptv.advertising.com/a/h/DCQzzI0K2runZ1YEc6FP2fCQPSbU6FwIZz5J5C0Fsw29iCueyXx8iw==?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov"}}(),vpaid:function(){switch(s.adConfig.video.waterfall){case"cinema6":return"http://u-ads.adap.tv/a/h/DCQzzI0K2rv1k0TZythPvYyD60pQS_90o8grI6Qm2PI=?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"publisher":return"http://u-ads.adap.tv/a/h/DCQzzI0K2runZ1YEc6FP2T65tHqs_Nwo9+XmsX4pnb4=?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"cinema6-publisher":return"http://u-ads.adap.tv/a/h/DCQzzI0K2rv1k0TZythPvadnVgRzoU_ZPrm0eqz83CjfbcCg1uJO3w==?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov";case"publisher-cinema6":return"http://u-ads.adap.tv/a/h/DCQzzI0K2runZ1YEc6FP2fCQPSbU6FwIdK4EW3jlLzbnPQftO7fDdA==?cb={cachebreaker}&pageUrl={pageUrl}&eov=eov"}}()}},t,c)}return babelHelpers.inherits(a,e),a.prototype.deactivate=function(){return this.reset(),e.prototype.deactivate.call(this)},a.prototype.abort=function(){e.prototype.abort.call(this),this.emit("canAdvance")},a}(_AdUnitCardJs2["default"]);exports["default"]=PrerollCard,module.exports=exports["default"];
},{"./AdUnitCard.js":67}],80:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),RecapCard=function(e){function a(s,r,l,t){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var p=t.splash;this.type="recap",this.thumbs={small:p,large:p},this.data=t}return babelHelpers.inherits(a,e),a}(_CardJs2["default"]);exports["default"]=RecapCard,module.exports=exports["default"];
},{"./Card.js":70}],81:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardJs=require("./VideoCard.js"),_VideoCardJs2=babelHelpers.interopRequireDefault(_VideoCardJs),_privateParts=require("private-parts"),_=_privateParts.createKey(),SlideshowBobCard=function(e){function r(t){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).card=t}return babelHelpers.inherits(r,e),r.prototype.getSrc=function(){return JSON.stringify(_(this).card.data.slides)},r}(_VideoCardJs2["default"]);exports["default"]=SlideshowBobCard,module.exports=exports["default"];
},{"./VideoCard.js":83,"private-parts":187}],82:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),TextCard=function(e){function t(a,l){var r=l.data.collateral.splash;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.type="text",this.thumbs={small:r,large:r}}return babelHelpers.inherits(t,e),t.prototype.complete=function(){return this.emit("canAdvance"),e.prototype.complete.call(this)},t}(_CardJs2["default"]);exports["default"]=TextCard,module.exports=exports["default"];
},{"./Card.js":70}],83:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardJs=require("./Card.js"),_CardJs2=babelHelpers.interopRequireDefault(_CardJs),_libTimerJs=require("../../lib/timer.js"),_libTimerJs2=babelHelpers.interopRequireDefault(_libTimerJs),_mixinsSponsoredCardJs=require("../mixins/SponsoredCard.js"),_mixinsSponsoredCardJs2=babelHelpers.interopRequireDefault(_mixinsSponsoredCardJs),_libUtilsJs=require("../../lib/utils.js"),_privateParts=require("private-parts"),_=_privateParts.createKey(),VideoCard=function(e){function t(a,i){var s=i.data,r=s.autoplay,o=void 0===r?!0:r,p=s.autoadvance,l=void 0===p?!0:p,n=s.preloadVideos,d=void 0===n?!0:n;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).skip=void 0===a.data.skip?!0:a.data.skip,_(this).canSkipAfterCountdown=_(this).skip!==!1,this.type="video",this.skippable=!0,this.thumbs=this.thumbs||_libUtilsJs.extend(a.data.thumbs),this.data={type:a.type,source:a.source,hideSource:!!a.data.hideSource,videoid:a.data.videoid,href:a.data.href,controls:a.data.controls,autoplay:"autoplay"in a.data?a.data.autoplay:o,autoadvance:"autoadvance"in a.data?a.data.autoadvance:l,preload:"preload"in a.data?a.data.preload:d,moat:a.data.moat||null,end:a.data.end,start:a.data.start},this.reset()}return babelHelpers.inherits(t,e),t.prototype.getSrc=function(){return this.data.videoid},t.prototype.activate=function(){var t,a=this,i=_(this),s=i.skip,r=_(this),o=r.canSkipAfterCountdown;return this.hasSkipControl&&(this.skippable=!1,this.emit("becameUnskippable"),o&&!function(){a.emit("skippableProgress",s);var e=_libTimerJs2["default"].interval(function(){var t=--s;a.emit("skippableProgress",t),1>t&&_libTimerJs2["default"].cancel(e)},1e3);e.then(function(){a.skippable=!0,a.emit("becameSkippable")})}(),this.once("becameSkippable",function(){return a.hasSkipControl=!1})),(t=e.prototype.activate).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},t.prototype.complete=function(){var t,a=this;(t=e.prototype.complete).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)));var i=function(){return a.emit("canAdvance")};this.data.autoadvance&&(this.skippable?i():this.once("becameSkippable",i))},t.prototype.reset=function(){return this.hasSkipControl=_(this).skip!==!0,e.prototype.reset.call(this)},t.prototype.abort=function(){return this.skippable||(this.skippable=!0,this.emit("becameSkippable")),e.prototype.abort.call(this)},t.prototype.setPlaybackState=function(e){var t=e.currentTime,a=e.duration,i=_(this),s=i.canSkipAfterCountdown;if(!this.skippable&&!s){var r=Math.round(a-t);this.emit("skippableProgress",r),1>r&&(this.skippable=!0,this.emit("becameSkippable"))}},t}(_CardJs2["default"]);VideoCard.mixin(_mixinsSponsoredCardJs2["default"]),exports["default"]=VideoCard,module.exports=exports["default"];
},{"../../lib/timer.js":12,"../../lib/utils.js":13,"../mixins/SponsoredCard.js":64,"./Card.js":70,"private-parts":187}],84:[function(require,module,exports){
"use strict";function updatePoster(){var e=_(this),t=e.poster;this.element.style.backgroundImage=(t||"")&&"url('"+_(this).poster+"')"}exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_privateParts=require("private-parts"),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),CANPLAY_CLASS="playerBox--canplay",_=_privateParts.createKey(),CorePlayer=function(e){function t(){var r=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments)));var l=[],n=function(e,t){(!t||t())&&l.indexOf(e)<0&&(r.emit(e),l.push(e))};this.tag="div",this.classes.push("playerBox"),_(this).poster=null,this.on("timeupdate",function(){var e=r.currentTime,t=r.duration;t&&(n("firstQuartile",function(){return e>=.25*t}),n("midpoint",function(){return e>=.5*t}),n("thirdQuartile",function(){return e>=.75*t}),n("complete",function(){return e>=t-1}))}),this.on("ended",function(){return n("complete")}),this.on("canplay",function(){return r.addClass(CANPLAY_CLASS)})}return babelHelpers.inherits(t,e),t.prototype.unload=function(){this.removeClass(CANPLAY_CLASS)},t.prototype.didCreateElement=function(){var t;return _libRunnerJs2["default"].scheduleOnce("render",this,updatePoster),(t=e.prototype.didCreateElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},t.prototype.willRemoveElement=function(){var t;return this.unload(),(t=e.prototype.willRemoveElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},babelHelpers.createClass(t,[{key:"poster",get:function(){return _(this).poster},set:function(e){_(this).poster=e,this.element&&_libRunnerJs2["default"].scheduleOnce("render",this,updatePoster)}}]),t}(_libCoreViewJs2["default"]);exports["default"]=CorePlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/core/View.js":8,"private-parts":187}],85:[function(require,module,exports){
"use strict";function toParams(e){return _libUtilsJs.map(e,function(e){return _libUtilsJs.map(e,encodeURIComponent).join("=")}).join("&")}function getInitialState(){return{readyState:0,duration:0,currentTime:0,ended:!1,paused:!0,seeking:!1,volume:1,muted:!1,error:null,ready:!1,hasPlayed:!1,src:null,controls:null}}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_servicesDailymotionJs=require("../services/dailymotion.js"),_servicesDailymotionJs2=babelHelpers.interopRequireDefault(_servicesDailymotionJs),_libFetcherJs=require("../../lib/fetcher.js"),_libFetcherJs2=babelHelpers.interopRequireDefault(_libFetcherJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_servicesBrowserJs=require("../services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),_servicesMediaJs=require("../services/media.js"),_servicesMediaJs2=babelHelpers.interopRequireDefault(_servicesMediaJs),_servicesUrl_parserJs=require("../services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_libUtilsJs=require("../../lib/utils.js"),_privateParts=require("private-parts"),_=_privateParts.createKey(),DailymotionPlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).video=null,_(this).iframe=null,_(this).state=getInitialState(),this.src=null,this.controls=!0,this.autoplay=!1}return babelHelpers.inherits(t,e),t.prototype.pause=function(){_(this).state.ready&&_(this).video.call("pause")},t.prototype.play=function r(){var e=this,t=_(this),i=t.state.ready;this.load();var s=function(){e.emit("attemptPlay"),_(e).video.call("play")},r=function(){_servicesBrowserJs2["default"].test("autoplay").then(function(e){return e?s():void 0})};i?r():this.once("canplay",r)},t.prototype.unload=function(){var t=_(this),r=t.video,i=t.iframe;return r?(r.destroy(),_(this).state=getInitialState(),_(this).video=null,_(this).iframe=null,_libRunnerJs2["default"].schedule("afterRender",this.element,"removeChild",[i]),e.prototype.unload.call(this)):e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){return new Error("The video cannot be minimized.")},t.prototype.load=function(){var e=this;if(this.src!==_(this).state.src||this.controls!==_(this).state.controls){this.unload(),_(this).state.src=this.src,_(this).state.controls=this.controls;var t=_(this).iframe=document.createElement("iframe");t.src=_servicesUrl_parserJs2["default"].parse("//www.dailymotion.com/embed/video/"+this.src+"?"+toParams([["api","postMessage"],["id",this.id],["related",0],["chromeless",this.controls?0:1],["webkit-playsinline",1]].concat(_servicesMediaJs2["default"].bestVideoFormat(["video/mp4"])?[["html"]]:[]))).href,t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("frameborder","0"),_libFetcherJs2["default"].get("https://api.dailymotion.com/video/"+this.src+"?fields=duration").then(function(e){return e.json()}).then(function(t){var r=t.duration;_(e).state.readyState=Math.max(e.readyState,1),_(e).state.duration=r,e.emit("loadedmetadata")});var r=_(this).video=new _servicesDailymotionJs2["default"].Player(t);r.on("apiready",function(){_(e).state.ready=!0,_(e).state.readyState=3,e.emit("canplay")}),r.on("timeupdate",function(t){var r=t.time;_(e).state.currentTime=r,e.emit("timeupdate")}),r.on("durationchange",function(t){var r=t.duration;r!==e.duration&&(_(e).state.duration=r,e.emit("durationchange"))}),r.on("ended",function(){_(e).state.ended=!0,e.emit("ended")}),r.on("playing",function(){_(e).state.hasPlayed=!0,_(e).state.paused=!1,_(e).state.ended=!1,e.emit("play")}),r.on("pause",function(){_(e).state.paused=!0,e.emit("pause")}),r.on("seeking",function(){_(e).state.seeking=!0,e.emit("seeking")}),r.on("seeked",function(){_(e).state.seeking=!1,e.emit("seeked")}),r.on("volumechange",function(t){var r=t.volume,i=t.muted;_(e).state.volume=r,_(e).state.muted=i}),_libRunnerJs2["default"].schedule("afterRender",this.element||this.create(),"appendChild",[t])}},t.prototype.didInsertElement=function(){return this.autoplay&&this.play(),e.prototype.didInsertElement.call(this)},babelHelpers.createClass(t,[{key:"readyState",get:function(){return _(this).state.readyState}},{key:"duration",get:function(){return _(this).state.duration}},{key:"currentTime",get:function(){return _(this).state.currentTime},set:function(e){return _(this).state.ready?_(this).video.call("seek",e):void(_(this).state.currentTime=e)}},{key:"ended",get:function(){return _(this).state.ended}},{key:"paused",get:function(){return _(this).state.paused}},{key:"seeking",get:function(){return _(this).state.seeking}},{key:"volume",get:function(){return _(this).state.volume}},{key:"muted",get:function(){return _(this).state.muted}},{key:"error",get:function(){return _(this).state.error}}]),t}(_CorePlayerJs2["default"]);exports["default"]=DailymotionPlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/fetcher.js":10,"../../lib/utils.js":13,"../services/browser.js":97,"../services/dailymotion.js":100,"../services/media.js":105,"../services/url_parser.js":112,"./CorePlayer.js":84,"private-parts":187}],86:[function(require,module,exports){
"use strict";function arrayFrom(e){for(var r=e.length,t=[];r--;)t[r]=e[r];return t}function noMethodError(e){return new Error("EmbeddedPlayer cannot "+e+".")}function forEachNode(e,r){r(e),_libUtilsJs.forEach(e.childNodes,function(e){return forEachNode(e,r)})}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),EmbeddedPlayer=function(e){function r(){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.src=null,this.currentTime=0,_(this).readyState=0,_(this).src=null,_(this).workspace=document.createElement("div"),_(this).embedChildren=[]}return babelHelpers.inherits(r,e),r.prototype.play=function(){return noMethodError("play")},r.prototype.pause=function(){return noMethodError("pause")},r.prototype.minimize=function(){return noMethodError("minimize")},r.prototype.load=function(){var e=this;if(this.src!==_(this).src){this.unload(),_(this).src=this.src;var r=_(this),t=r.workspace,n=this.element||this.create();t.innerHTML=this.src,forEachNode(t,function(e){if("SCRIPT"===e.tagName){var r=document.createElement("script");_libUtilsJs.forEach(e.attributes,function(e){r.setAttribute(e.name,e.value)}),e.parentNode.replaceChild(r,e)}});var i=_(this).embedChildren=arrayFrom(t.childNodes);_libRunnerJs2["default"].schedule("afterRender",null,function(){_libUtilsJs.forEach(i,function(e){return n.appendChild(e)}),_libRunnerJs2["default"].runNext(function(){_(e).readyState=3,e.emit("canplay")})})}},r.prototype.unload=function(){var r=this.element;if(!r)return e.prototype.unload.call(this);_(this).src=null,_(this).readyState=0;var t=_(this).embedChildren.slice();return _libRunnerJs2["default"].schedule("afterRender",null,function(){_libUtilsJs.forEach(t,function(e){return r.removeChild(e)})}),_(this).embedChildren.length=0,e.prototype.unload.call(this)},r.prototype.reload=function(){this.unload(),this.load()},babelHelpers.createClass(r,[{key:"duration",get:function(){return 0}},{key:"ended",get:function(){return!1}},{key:"paused",get:function(){return!0}},{key:"muted",get:function(){return!1}},{key:"volume",get:function(){return 1}},{key:"readyState",get:function(){return _(this).readyState}},{key:"seeking",get:function(){return!1}},{key:"error",get:function(){return null}}]),r}(_CorePlayerJs2["default"]);exports["default"]=EmbeddedPlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"./CorePlayer.js":84,"private-parts":187}],87:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_exitFullscreen=function(e){var t=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen,i=e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen;(_exitFullscreen=t?function(){t.call(document)}:function(e){i.call(e)})(e)},Private=function e(t){var i=this;babelHelpers.classCallCheck(this,e),this.__public__=t,this.loadedmetadata=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("loadedmetadata")})},this.canplay=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("canplay")})},this.play=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("play")})},this.pause=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("pause")})},this.error=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("error")})},this.ended=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("ended")})},this.timeupdate=function(){_libRunnerJs2["default"].run(function(){i.__public__.emit("timeupdate")})}},_=_privateParts.createKey(function(e){return new Private(e)}),HtmlVideoPlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.src=null,this.loop=!1,_(this).htmlVideo=null,global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(t,e),t.prototype.play=function(){this.load(),_(this).htmlVideo.play()},t.prototype.pause=function(){_(this).htmlVideo.pause()},t.prototype.minimize=function(){_exitFullscreen(_(this).htmlVideo)},t.prototype.load=function(){if(!_(this).htmlVideo||this.src!==_(this).htmlVideo.getAttribute("src")){this.unload();var e=this.element||this.create(),t=document.createElement("video");t.setAttribute("src",this.src),t.setAttribute("controls","true"),this.loop&&t.setAttribute("loop",!0),t.addEventListener("loadedmetadata",_(this).loadedmetadata,!1),t.addEventListener("canplay",_(this).canplay,!1),t.addEventListener("play",_(this).play,!1),t.addEventListener("pause",_(this).pause,!1),t.addEventListener("error",_(this).error,!1),t.addEventListener("ended",_(this).ended,!1),t.addEventListener("timeupdate",_(this).timeupdate,!1),_(this).htmlVideo=t,_libRunnerJs2["default"].schedule("afterRender",null,function(){e.appendChild(t)})}},t.prototype.unload=function(){var t=this,i=this.element,n=_(this).htmlVideo;return i&&n?(_(this).src=null,n.removeEventListener("loadedmetadata",_(this).loadedmetadata),n.removeEventListener("canplay",_(this).canplay),n.removeEventListener("play",_(this).play),n.removeEventListener("pause",_(this).pause),n.removeEventListener("error",_(this).error),n.removeEventListener("ended",_(this).ended),n.removeEventListener("timeupdate",_(this).timeupdate),_libRunnerJs2["default"].schedule("afterRender",null,function(){i.removeChild(_(t).htmlVideo),_(t).htmlVideo=null}),e.prototype.unload.call(this)):e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},babelHelpers.createClass(t,[{key:"currentTime",get:function(){var e=_(this),t=e.htmlVideo;return t?t.currentTime:0},set:function(e){var t=_(this),i=t.htmlVideo;i&&(i.currentTime=e)}},{key:"duration",get:function(){var e=_(this),t=e.htmlVideo;return t?t.duration:0}},{key:"ended",get:function(){var e=_(this),t=e.htmlVideo;return t?t.ended:!1}},{key:"paused",get:function(){var e=_(this),t=e.htmlVideo;return t?t.paused:!0}},{key:"muted",get:function(){var e=_(this),t=e.htmlVideo;return t?t.muted:!1}},{key:"volume",get:function(){var e=_(this),t=e.htmlVideo;return t?t.volume:0}},{key:"readyState",get:function(){var e=_(this),t=e.htmlVideo;return t?t.readyState:0}},{key:"seeking",get:function(){var e=_(this),t=e.htmlVideo;return t?t.seeking:!1}},{key:"error",get:function(){var e=_(this),t=e.htmlVideo;return t?t.error:null}}]),t}(_CorePlayerJs2["default"]);exports["default"]=HtmlVideoPlayer,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"./CorePlayer.js":84,"private-parts":187}],88:[function(require,module,exports){
"use strict";function getInitialState(){return{ready:!1,hasPlayed:!1,src:null,buffered:0,currentTime:0,duration:0,volume:0,ended:!1,paused:!0,readyState:0,seeking:!1,error:null}}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_privateParts=require("private-parts"),_servicesRumbleJs=require("../services/rumble.js"),_servicesRumbleJs2=babelHelpers.interopRequireDefault(_servicesRumbleJs),_servicesBrowserJs=require("../services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_servicesUrl_parserJs=require("../services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_=_privateParts.createKey(),RumblePlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.autoplay=!1,this.start=null,this.end=null,_(this).state=getInitialState(),_(this).ready=!1,_(this).src=null,_(this).iframe=null,_(this).player=null}return babelHelpers.inherits(t,e),t.prototype.pause=function(){var e=_(this),t=e.player,r=e.state.ready;r&&t.call("pause")},t.prototype.play=function r(){var e=this;this.load();var t=_(this),s=t.player,a=t.state.ready,i=function(){e.emit("attemptPlay"),s.call("play")},r=function(){_servicesBrowserJs2["default"].test("autoplay").then(function(e){return e?i():void 0})};a?r():s.once("ready",r)},t.prototype.load=function(){var e=this;if(_(this).state.src&&this.src!==_(this).state.src&&this.unload(),_(this).state.src=this.src,!_(this).iframe){var t=this.element||this.create(),r=document.createElement("iframe"),s=function(e){var t=void 0===arguments[1]?"":arguments[1];return r.setAttribute(e,t)};s("src",_servicesUrl_parserJs2["default"].parse("//rumble.com/embed/"+this.src+"/?api=1&player_id="+this.id).href),s("width","100%"),s("height","100%"),s("frameborder","0"),s("webkitAllowFullScreen"),s("mozallowfullscreen"),s("allowFullScreen");var a=new _servicesRumbleJs2["default"].Player(r),i=this.start||0,n=this.end||1/0,l=function(){e.emit("loadstart"),_(e).state.readyState=3},u=function m(t){var r=parseFloat(t.percent);r>=.25&&(e.emit("canplaythrough"),_(e).state.readyState=4,a.removeListener("loadProgress",m))},o=function(t){var r=parseFloat(t.percent);_(e).state.buffered=r,e.emit("progress")},c=function(){e.emit("ended"),_(e).state.ended=!0},d=function(){e.emit("pause"),_(e).state.paused=!0},p=function(){var t=_(e),r=t.state;r.ended&&a.call("seekTo",i),e.emit("play"),r.ended=!1,r.paused=!1,r.hasPlayed=!0},h=function(){e.emit("seeked"),_(e).state.seeking=!1},f=function(t){var r=t.seconds,s=parseFloat(r),l=_(e),u=l.state;return u.currentTime=Math.min(Math.max(s-i,0),n-i),i>s?a.call("seekTo",i):s>=n?(u.ended=!0,e.emit("ended"),a.call("pause")):(e.emit("timeupdate"),void a.call("getVolume").then(function(e){u.volume=e}))};a.once("ready",function(){var t=_(e),r=t.state;a.once("loadProgress",l),a.on("loadProgress",u),a.on("loadProgress",o),a.on("finish",c),a.on("pause",d),a.on("play",p),a.on("seek",h),a.on("playProgress",f),a.call("getDuration").then(function(t){var r=_(e),s=r.state;e.emit("loadedmetadata"),s.duration=Math.min(n,t)-i}),a.call("getVolume").then(function(t){var r=_(e),s=r.state;s.volume=t}),r.ready=!0,r.readyState=3,e.emit("canplay")}),_libRunnerJs2["default"].schedule("afterRender",t,"appendChild",[r]),_(this).iframe=r,_(this).player=a}},t.prototype.unload=function(){var t=_(this),r=t.player,s=t.iframe;return r?(r.destroy(),_libRunnerJs2["default"].schedule("afterRender",this.element,"removeChild",[s]),_(this).state=getInitialState(),_(this).iframe=null,_(this).player=null,e.prototype.unload.call(this)):e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){return new Error("The video cannot be minimized.")},t.prototype.didInsertElement=function(){var t;return this.autoplay&&this.play(),(t=e.prototype.didInsertElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},babelHelpers.createClass(t,[{key:"buffered",get:function(){return _(this).state.buffered}},{key:"currentTime",get:function(){return _(this).state.currentTime},set:function(e){var t=this.start||0,r=this.end||1/0,s=Math.min(Math.max(t+e,t),r),a=_(this),i=a.player,n=a.state;return i?(this.emit("seeking"),_(this).state.seeking=!0,void i.call("seekTo",s)):n.currentTime=s}},{key:"duration",get:function(){return _(this).state.duration}},{key:"volume",get:function(){return _(this).state.volume}},{key:"ended",get:function(){return _(this).state.ended}},{key:"paused",get:function(){return _(this).state.paused}},{key:"muted",get:function(){return 0===_(this).state.volume}},{key:"readyState",get:function(){return _(this).state.readyState}},{key:"seeking",get:function(){return _(this).state.seeking}},{key:"src",set:function(e){_(this).src=e},get:function(){return _(this).src}},{key:"error",get:function(){return _(this).state.error}}]),t}(_CorePlayerJs2["default"]);exports["default"]=RumblePlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../services/browser.js":97,"../services/rumble.js":109,"../services/url_parser.js":112,"./CorePlayer.js":84,"private-parts":187}],89:[function(require,module,exports){
"use strict";function toParams(e){return _libUtilsJs.map(e,function(e){return _libUtilsJs.map(e,encodeURIComponent).join("=")}).join("&")}function getInitialState(){return{readyState:0,paused:!0,volume:1,muted:!1,error:null,ready:!1,hasPlayed:!1,src:null,controls:null}}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_servicesSlideshow_bobJs=require("../services/slideshow_bob.js"),_servicesSlideshow_bobJs2=babelHelpers.interopRequireDefault(_servicesSlideshow_bobJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_libUtilsJs=require("../../lib/utils.js"),_privateParts=require("private-parts"),_=_privateParts.createKey(),SlideshowBobPlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).video=null,_(this).iframe=null,_(this).state=getInitialState(),this.src=null,this.controls=!0,this.autoplay=!1}return babelHelpers.inherits(t,e),t.prototype.pause=function(){_(this).state.ready&&_(this).video.call("pause")},t.prototype.play=function s(){var e=this,t=_(this),r=t.state.ready;this.load();var s=function(){e.emit("attemptPlay"),_(e).video.call("play")};r?s():this.once("canplay",s)},t.prototype.unload=function(){var e=_(this),t=e.video,s=e.iframe;t&&(t.destroy(),_(this).state=getInitialState(),this.element.removeChild(s),_(this).video=null,_(this).iframe=null)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){return new Error("The video cannot be minimized.")},t.prototype.load=function(){var e=this;if(this.src!==_(this).state.src||this.controls!==_(this).state.controls){this.unload(),_(this).state.src=this.src,_(this).state.controls=this.controls;var t=_(this).iframe=document.createElement("iframe");t.src=""+_environmentJs2["default"].apiRoot+"/apps/slideshow-bob/index.html?"+toParams([["id",this.id]]),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("frameborder","0"),_(this).state.duration=1,this.emit("loadedmetadata");var s=_(this).video=new _servicesSlideshow_bobJs2["default"].Player(t);s.on("ready",function(){s.call("load",JSON.parse(e.src)),_(e).state.ready=!0,_(e).state.readyState=3,e.emit("canplay")}),s.on("play",function(){_(e).state.hasPlayed=!0,_(e).state.paused=!1,e.emit("play")}),s.on("pause",function(){_(e).state.paused=!0,e.emit("pause")}),_libRunnerJs2["default"].schedule("afterRender",this.element||this.create(),"appendChild",[t])}},t.prototype.didInsertElement=function(){return this.autoplay&&this.play(),e.prototype.didInsertElement.call(this)},babelHelpers.createClass(t,[{key:"readyState",get:function(){return _(this).state.readyState}},{key:"paused",get:function(){return _(this).state.paused}},{key:"volume",get:function(){return _(this).state.volume}},{key:"muted",get:function(){return _(this).state.muted}},{key:"error",get:function(){return _(this).state.error}}]),t}(_CorePlayerJs2["default"]);exports["default"]=SlideshowBobPlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"../environment.js":44,"../services/slideshow_bob.js":110,"./CorePlayer.js":84,"private-parts":187}],90:[function(require,module,exports){
(function (global){
"use strict";function getInitialState(){return{vastEvents:{},error:null,hasStarted:!1}}function initializeVideo(e){var t=_(e),r=t.state;return t.video||function(i){var n=e.element||e.create();return i.addEventListener("loadedmetadata",function(){return _libRunnerJs2["default"].run(function(){e.emit("loadedmetadata")})},!1),i.addEventListener("canplay",function(){return _libRunnerJs2["default"].run(function(){e.emit("canplay")})},!1),i.addEventListener("play",function(){return _libRunnerJs2["default"].run(function(){var i=t.vast;r.hasStarted||(r.hasStarted=!0,i.firePixels("impression"),i.firePixels("loaded"),i.firePixels("creativeView"),i.firePixels("start"),i.firePixels("playing")),e.emit("play")})},!1),i.addEventListener("pause",function(){return _libRunnerJs2["default"].run(function(){var r=t.vast;r.firePixels("pause"),e.emit("pause")})},!1),i.addEventListener("error",function(){return _libRunnerJs2["default"].run(function(){r.error=new Error("HTML5 Video Error: "+i.error.code),e.emit("error")})},!1),i.addEventListener("ended",function(){return _libRunnerJs2["default"].run(function(){e.emit("ended")})},!1),i.addEventListener("timeupdate",function(){return _libRunnerJs2["default"].run(function(){e.emit("timeupdate")})},!1),i.controls=e.controls,e.poster&&(i.poster=e.poster),i.setAttribute("webkit-playsinline",""),_servicesMediaJs2["default"].loadMedia(i),i.load(),_libRunnerJs2["default"].schedule("afterRender",n,"appendChild",[i]),_(e).video=i}(document.createElement("video"))}function _load(e){function t(){var e=u[a];return e?_libRunnerPromiseJs2["default"].resolve(e):_libRunnerPromiseJs2["default"].reject(null)}function r(){function e(e){return u[a]=e}return _servicesIabJs2["default"].getVAST(a).then(e)}function i(t){var r=t!==s.vast;return s.vast=t,r&&t.getCompanion()&&e.emit("companionsReady"),t}function n(e){var t=e.getVideoSrc();return t?t===o.src?Promise.resolve(o):(o.src=t,Promise.resolve(o)):Promise.reject(e)}var s=_(e),a=e.src,u=s.vastCache,l=s.state,o=initializeVideo(e);return t()["catch"](r).then(i).then(n)["catch"](function(t){var r=t instanceof Error?t.message:JSON.stringify(t);return l.error=new Error("VAST request failed: "+r),e.emit("error"),Promise.reject(t)})}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_privateParts=require("private-parts"),_servicesIabJs=require("../services/iab.js"),_servicesIabJs2=babelHelpers.interopRequireDefault(_servicesIabJs),_servicesBrowserJs=require("../services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_servicesMediaJs=require("../services/media.js"),_servicesMediaJs2=babelHelpers.interopRequireDefault(_servicesMediaJs),_=_privateParts.createKey(),_exitFullscreen=function(e){var t=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen,r=e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen;(_exitFullscreen=t?function(){t.call(document)}:function(e){r.call(e)})(e)},VASTPlayer=function(e){function t(){var r=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.src=null,this.controls=!0,this.autoplay=!1,this.disableClickthrough=!1,_(this).vastCache={},_(this).vast=null,_(this).video=null,_(this).state=getInitialState(),_(this).src=null,this.on("firstQuartile",function(){return _(r).vast.firePixels("firstQuartile")}),this.on("midpoint",function(){return _(r).vast.firePixels("midpoint")}),this.on("thirdQuartile",function(){return _(r).vast.firePixels("thirdQuartile")}),this.on("complete",function(){return _(r).vast.firePixels("complete")})}return babelHelpers.inherits(t,e),t.prototype.pause=function(){var e=_(this),t=e.video;t&&t.pause()},t.prototype.play=function(){this.emit("attemptPlay"),_load(this).then(function(e){e.play()})},t.prototype.load=function(){_load(this)},t.prototype.unload=function(){var t=_(this),r=t.video;return r?(_servicesMediaJs2["default"].unloadMedia(r),_(this).video=null,_(this).vast=null,_libRunnerJs2["default"].schedule("afterRender",this.element,"removeChild",[r]),e.prototype.unload.call(this)):e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){_exitFullscreen(_(this).video)},t.prototype.getCompanions=function(){var e=_(this),t=e.vast,r=t&&t.getCompanion();return r&&[r]},t.prototype.didInsertElement=function(){var t,r=this;return this.autoplay&&_servicesBrowserJs2["default"].test("autoplay").then(function(e){e&&r.play()}),(t=e.prototype.didInsertElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},t.prototype.click=function(){if(!this.controls&&!this.disableClickthrough){var e=_(this),t=e.vast,r=e.video;t&&t.clickThrough&&t.clickThrough.length>0&&(r.paused?r.play():(r.pause(),global.open(t.clickThrough[0]),t.firePixels("videoClickTracking")))}},babelHelpers.createClass(t,[{key:"error",get:function(){return _(this).state.error}},{key:"currentTime",get:function(){var e=_(this),t=e.video;return t?t.currentTime:0},set:function(e){_(this).video.currentTime=e}},{key:"ended",get:function(){var e=_(this),t=e.video;return t?t.ended:!1}},{key:"duration",get:function(){var e=_(this),t=e.video;return t?t.duration:0}},{key:"volume",get:function(){var e=_(this),t=e.video;return t?t.volume:0}},{key:"muted",get:function(){var e=_(this),t=e.video;return t?t.muted:!1}},{key:"paused",get:function(){var e=_(this),t=e.video;return t?t.paused:!0}},{key:"readyState",get:function(){var e=_(this),t=e.video;return t?t.readyState:0}},{key:"seeking",get:function(){var e=_(this),t=e.video;return t?t.seeking:!1}}]),t}(_CorePlayerJs2["default"]);exports["default"]=VASTPlayer,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/RunnerPromise.js":3,"../services/browser.js":97,"../services/iab.js":103,"../services/media.js":105,"./CorePlayer.js":84,"private-parts":187}],91:[function(require,module,exports){
"use strict";function getInitialState(){return{readyState:0,duration:0,currentTime:0,paused:!0,ended:!1,src:null,ready:!1,started:!1}}function cleanup(e){var t=_(e),r=t.interval;r&&_libTimerJs2["default"].cancel(r),_(e).player=null,_(e).interval=null,_(e).state=getInitialState()}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_servicesIabJs=require("../services/iab.js"),_servicesIabJs2=babelHelpers.interopRequireDefault(_servicesIabJs),_privateParts=require("private-parts"),_libTimerJs=require("../../lib/timer.js"),_libTimerJs2=babelHelpers.interopRequireDefault(_libTimerJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_=_privateParts.createKey(),VPAIDPlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).state=getInitialState(),_(this).player=null,_(this).interval=null,this.src=null,this.controls=!1,this.autoplay=!1}return babelHelpers.inherits(t,e),t.prototype.load=function(){var e=this;if(this.src!==_(this).state.src){cleanup(this),this.unload();var t=this.element||this.create(),r=_(this).player=new _servicesIabJs2["default"].VPAIDPlayer(this.src);_(this).state.src=this.src;var a=function(){_(e).state.paused&&(_(e).state.paused=!1,_(e).state.ended=!1,e.emit("play"))},n=function(){_(e).state.paused=!0,e.emit("pause")},i=function(){e.emit("companionsReady")},s=function(){_(e).state.ended||(cleanup(e),_(e).state.ended=!0,e.emit("ended"))},u=function(){cleanup(e),e.emit("error")};r.on("AdStarted",a),r.on("AdPlaying",a),r.on("AdVideoStart",a),r.on("AdPaused",n),r.on("displayBanners",i),r.on("AdStopped",s),r.on("AdError",u),r.once("AdStarted",function(){return _(e).state.started=!0}),r.once("AdLoaded",function(){_(e).interval=_libTimerJs2["default"].interval(function(){var t=r.adDuration,a=r.adCurrentTime,n=Math.max(t,0);n&&!e.duration?(_(e).state.duration=n,e.emit("loadedmetadata")):n&&(_(e).state.duration=n),a&&e.currentTime!==a&&(_(e).state.currentTime=a,e.emit("timeupdate"))},250),_(e).state.ready=!0,_(e).state.readyState=3,e.emit("canplay")}),_libRunnerJs2["default"].schedule("afterRender",null,function(){r.load(t).then(function(){return r.initAd()})})}},t.prototype.play=function r(){this.emit("attemptPlay"),this.load();var e=_(this),t=e.state,a=t.ready,n=t.started,i=e.player,r=function(){n?i.resumeAd():i.startAd()};a?r():this.once("canplay",r)},t.prototype.pause=function a(){var e=_(this),t=e.state.ready,r=e.player;if(r){var a=function(){return r.pauseAd()};t?a():this.once("canplay",a)}},t.prototype.unload=function(){var t=this;e.prototype.unload.call(this);var r=_(this),a=r.state.ready,n=r.player;if(n){var i=function(){cleanup(t),n.stopAd()};a?i():this.once("canplay",i)}},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.getCompanions=function(){var e=_(this),t=e.player;return t&&t.adBanners||null},t.prototype.minimize=function(){},babelHelpers.createClass(t,[{key:"readyState",get:function(){return _(this).state.readyState}},{key:"duration",get:function(){return _(this).state.duration}},{key:"currentTime",get:function(){return _(this).state.currentTime}},{key:"paused",get:function(){return _(this).state.paused}},{key:"ended",get:function(){return _(this).state.ended}},{key:"muted",get:function(){return!1}},{key:"seeking",get:function(){return!1}},{key:"error",get:function(){return null}},{key:"volume",get:function(){var e=_(this),t=e.player,r=t&&t.adVolume;return Number(r)===r?r:1},set:function(e){var t=_(this),r=t.player;if(r)try{r.adVolume=e}catch(a){}}}]),t}(_CorePlayerJs2["default"]);exports["default"]=VPAIDPlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/timer.js":12,"../services/iab.js":103,"./CorePlayer.js":84,"private-parts":187}],92:[function(require,module,exports){
"use strict";function getInitialState(){return{ready:!1,hasPlayed:!1,src:null,buffered:0,currentTime:0,duration:0,volume:0,ended:!1,paused:!0,readyState:0,seeking:!1,error:null}}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_privateParts=require("private-parts"),_servicesVimeoJs=require("../services/vimeo.js"),_servicesVimeoJs2=babelHelpers.interopRequireDefault(_servicesVimeoJs),_servicesBrowserJs=require("../services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_servicesUrl_parserJs=require("../services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_=_privateParts.createKey(),VimeoPlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.autoplay=!1,this.start=null,this.end=null,_(this).state=getInitialState(),_(this).ready=!1,_(this).src=null,_(this).iframe=null,_(this).player=null}return babelHelpers.inherits(t,e),t.prototype.pause=function(){var e=_(this),t=e.player,r=e.state.ready;r&&t.call("pause")},t.prototype.play=function r(){var e=this;this.load();var t=_(this),s=t.player,a=t.state.ready,i=function(){e.emit("attemptPlay"),s.call("play")},r=function(){_servicesBrowserJs2["default"].test("autoplay").then(function(e){return e?i():void 0})};a?r():s.once("ready",r)},t.prototype.load=function(){var e=this;if(_(this).state.src&&this.src!==_(this).state.src&&this.unload(),_(this).state.src=this.src,!_(this).iframe){var t=this.element||this.create(),r=document.createElement("iframe"),s=function(e){var t=void 0===arguments[1]?"":arguments[1];return r.setAttribute(e,t)};s("src",_servicesUrl_parserJs2["default"].parse("//player.vimeo.com/video/"+this.src+"?api=1&player_id="+this.id).href),s("width","100%"),s("height","100%"),s("frameborder","0"),s("webkitAllowFullScreen"),s("mozallowfullscreen"),s("allowFullScreen");var a=new _servicesVimeoJs2["default"].Player(r),i=this.start||0,n=this.end||1/0,l=function(){e.emit("loadstart"),_(e).state.readyState=3},o=function m(t){var r=parseFloat(t.percent);r>=.25&&(e.emit("canplaythrough"),_(e).state.readyState=4,a.removeListener("loadProgress",m))},u=function(t){var r=parseFloat(t.percent);_(e).state.buffered=r,e.emit("progress")},c=function(){e.emit("ended"),_(e).state.ended=!0},d=function(){e.emit("pause"),_(e).state.paused=!0},p=function(){var t=_(e),r=t.state;r.ended&&a.call("seekTo",i),e.emit("play"),r.ended=!1,r.paused=!1,r.hasPlayed=!0},h=function(){e.emit("seeked"),_(e).state.seeking=!1},f=function(t){var r=t.seconds,s=parseFloat(r),l=_(e),o=l.state;return o.currentTime=Math.min(Math.max(s-i,0),n-i),i>s?a.call("seekTo",i):s>=n?(o.ended=!0,e.emit("ended"),a.call("pause")):(e.emit("timeupdate"),void a.call("getVolume").then(function(e){o.volume=e}))};a.once("ready",function(){var t=_(e),r=t.state;a.once("loadProgress",l),a.on("loadProgress",o),a.on("loadProgress",u),a.on("finish",c),a.on("pause",d),a.on("play",p),a.on("seek",h),a.on("playProgress",f),a.call("getDuration").then(function(t){var r=_(e),s=r.state;e.emit("loadedmetadata"),s.duration=Math.min(n,t)-i}),a.call("getVolume").then(function(t){var r=_(e),s=r.state;s.volume=t}),r.ready=!0,r.readyState=3,e.emit("canplay")}),_libRunnerJs2["default"].schedule("afterRender",t,"appendChild",[r]),_(this).iframe=r,_(this).player=a}},t.prototype.unload=function(){var t=_(this),r=t.player,s=t.iframe;return r?(r.destroy(),_(this).state=getInitialState(),_(this).iframe=null,_(this).player=null,_libRunnerJs2["default"].schedule("afterRender",this.element,"removeChild",[s]),e.prototype.unload.call(this)):e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){return new Error("The video cannot be minimized.")},t.prototype.didInsertElement=function(){var t;return this.autoplay&&this.play(),(t=e.prototype.didInsertElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},babelHelpers.createClass(t,[{key:"buffered",get:function(){return _(this).state.buffered}},{key:"currentTime",get:function(){return _(this).state.currentTime},set:function(e){var t=this.start||0,r=this.end||1/0,s=Math.min(Math.max(t+e,t),r),a=_(this),i=a.player,n=a.state;return i?(this.emit("seeking"),_(this).state.seeking=!0,void i.call("seekTo",s)):n.currentTime=s}},{key:"duration",get:function(){return _(this).state.duration}},{key:"volume",get:function(){return _(this).state.volume}},{key:"ended",get:function(){return _(this).state.ended}},{key:"paused",get:function(){return _(this).state.paused}},{key:"muted",get:function(){return 0===_(this).state.volume}},{key:"readyState",get:function(){return _(this).state.readyState}},{key:"seeking",get:function(){return _(this).state.seeking}},{key:"src",set:function(e){_(this).src=e},get:function(){return _(this).src}},{key:"error",get:function(){return _(this).state.error}}]),t}(_CorePlayerJs2["default"]);exports["default"]=VimeoPlayer,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../services/browser.js":97,"../services/url_parser.js":112,"../services/vimeo.js":113,"./CorePlayer.js":84,"private-parts":187}],93:[function(require,module,exports){
(function (global){
"use strict";function arrayFrom(e){for(var t=e.length,r=[];t--;)r[t]=e[t];return r}function noMethodError(e){return new Error("VinePlayer cannot "+e+".")}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=void 0,Private=function(){function e(t){babelHelpers.classCallCheck(this,e),this.__public__=t}return e.prototype.loadEmbed=function(e,t){var r=this,n="https://vine.co/v/"+e+"/embed/simple"+(t?"?audio=1":""),i='<iframe src="'+n+'" style="width:100%;height:100%" frameborder="0"></iframe>',l="https://platform.vine.co/static/scripts/embed.js";this.__public__.unload();var a=this.workspace,s=this.__public__.element||this.__public__.create();a.innerHTML=i;var o=document.createElement("script");o.setAttribute("src",l),a.appendChild(o);var u=this.embedChildren=arrayFrom(a.childNodes);_libRunnerJs2["default"].schedule("afterRender",null,function(){_libUtilsJs.forEach(u,function(e){return s.appendChild(e)}),_libRunnerJs2["default"].runNext(function(){r.readyState=3,r.__public__.emit("canplay")})})},e}();_=_privateParts.createKey(function(e){return new Private(e)});var VinePlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.src=null,this.currentTime=0,_(this).readyState=0,_(this).workspace=document.createElement("div"),_(this).embedChildren=[],global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(t,e),t.prototype.play=function(){_(this).loadEmbed(this.src,!0)},t.prototype.pause=function(){_(this).loadEmbed(this.src,!1)},t.prototype.minimize=function(){return noMethodError("minimize")},t.prototype.load=function(){_(this).loadEmbed(this.src,!1)},t.prototype.unload=function(){var t=this.element;if(!t)return e.prototype.unload.call(this);_(this).src=null,_(this).readyState=0;var r=_(this).embedChildren.slice();return _libRunnerJs2["default"].schedule("afterRender",null,function(){_libUtilsJs.forEach(r,function(e){return t.removeChild(e)})}),_(this).embedChildren=[],e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},babelHelpers.createClass(t,[{key:"duration",get:function(){return 0}},{key:"ended",get:function(){return!1}},{key:"paused",get:function(){return!0}},{key:"muted",get:function(){return!1}},{key:"volume",get:function(){return 1}},{key:"readyState",get:function(){return _(this).readyState}},{key:"seeking",get:function(){return!1}},{key:"error",get:function(){return null}}]),t}(_CorePlayerJs2["default"]);exports["default"]=VinePlayer,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"./CorePlayer.js":84,"private-parts":187}],94:[function(require,module,exports){
(function (global){
"use strict";function parseISO8601Duration(e){var t=_libUtilsJs.map([/\d*H/,/\d*M/,/\d*S/],function(t){return parseInt((e.match(t)||[0])[0])});return _libUtilsJs.reduce(t,function(e,t,r){return e+t*Math.pow(60,2-r)},0)}exports.__esModule=!0;var _CorePlayerJs=require("./CorePlayer.js"),_CorePlayerJs2=babelHelpers.interopRequireDefault(_CorePlayerJs),_privateParts=require("private-parts"),_srcServicesCode_loaderJs=require("../../src/services/code_loader.js"),_srcServicesCode_loaderJs2=babelHelpers.interopRequireDefault(_srcServicesCode_loaderJs),_libFetcherJs=require("../../lib/fetcher.js"),_libFetcherJs2=babelHelpers.interopRequireDefault(_libFetcherJs),_libTimerJs=require("../../lib/timer.js"),_libTimerJs2=babelHelpers.interopRequireDefault(_libTimerJs),_srcServicesBrowserJs=require("../../src/services/browser.js"),_srcServicesBrowserJs2=babelHelpers.interopRequireDefault(_srcServicesBrowserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_querystring=require("querystring"),_libUtilsJs=require("../../lib/utils.js");!function(){var e=_libUtilsJs.defer(Promise);_srcServicesCode_loaderJs2["default"].configure("youtube",{src:"https://www.youtube.com/iframe_api",before:function(){global.onYouTubeIframeAPIReady=function(){delete global.onYouTubeIframeAPIReady,e.fulfill(global.YT)}},after:function(){return e.promise}})}();var YT_API_KEY="AIzaSyBYOutFJ1yBx8MAYy5OgtTvslvBiFk8wok",CLEAN_STATE={readyState:0,duration:0,currentTime:0,paused:!0,ended:!1,seeking:!1},_=_privateParts.createKey(),YouTubePlayer=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.start=null,this.end=null,this.autoplay=!1,this.controls=!0,_(this).state=_libUtilsJs.extend(CLEAN_STATE,{src:null,error:null,poster:null}),_(this).player=null,_(this).iframe=null,_(this).interval=null,_(this).seekStart=null,_(this).hasPlayed=!1}return babelHelpers.inherits(t,e),t.prototype.play=function r(){var e=this,t=function(){e.emit("attemptPlay"),_(e).player.playVideo()},r=function(){_srcServicesBrowserJs2["default"].test("autoplay").then(function(e){return e?t():void 0})};this.load(),_(this).player?r():this.once("canplay",r)},t.prototype.pause=function(){_(this).player&&_(this).player.pauseVideo()},t.prototype.load=function(){var e=this,t=this.element||this.create();if(!_(this).iframe||_(this).iframe.getAttribute("data-videoid")!==this.src){_(this).iframe&&t.removeChild(_(this).iframe);var r=_(this).iframe=document.createElement("iframe"),i={html5:1,wmode:"opaque",rel:0,enablejsapi:1,playsinline:1,controls:Number(this.controls)};r.setAttribute("data-videoid",this.src),r.src="https://www.youtube.com/embed/"+this.src+"?"+_querystring.stringify(i),_libRunnerJs2["default"].schedule("afterRender",null,function(){t.appendChild(r),_libFetcherJs2["default"].get("https://www.googleapis.com/youtube/v3/videos"+("?part=contentDetails&id="+e.src+"&key="+YT_API_KEY)).then(function(e){return e.json()}).then(function(t){var r=_(e),i=r.state,s=parseISO8601Duration(t.items[0].contentDetails.duration);i.readyState=Math.max(i.readyState,1),e.emit("loadedmetadata"),i.duration=Math.min(s-(e.start||0),e.end||s),e.emit("durationchange")}),_srcServicesCode_loaderJs2["default"].load("youtube").then(function(t){function i(e){return c[0]===l&&c[1]===e}var s=t.PlayerState,a=s.PLAYING,n=s.PAUSED,l=s.BUFFERING,u=s.ENDED,o=_(e),d=o.state,c=[],p=void 0,h=function(){var t=e.ended?e.duration:p.getCurrentTime(),r=_(e),i=r.state,s=e.end||1/0,a=e.start||0;t!==e.currentTime&&(e.paused||(a-2>t&&p.seekTo(a),t>=s&&(p.pauseVideo(),i.ended=!0,e.emit("ended"))),i.currentTime=Math.max(0,t-a),e.emit("timeupdate"),i.seeking&&i.currentTime!==_(e).seekStart&&(i.seeking=!1,e.emit("seeked"),_(e).seekStart=null))};p=new t.Player(r,{events:{onReady:function(){return _libRunnerJs2["default"].run(function(){_(e).player=p,_(e).state.readyState=3,e.emit("canplay"),_(e).interval=_libTimerJs2["default"].interval(h,250)})},onStateChange:function(t){return _libRunnerJs2["default"].run(function(){switch(t.data){case a:_(e).hasPlayed=!0,d.paused=!1,d.ended=!1,i(a)||e.emit("play");break;case n:d.paused=!0,i(n)||e.emit("pause");break;case u:d.paused=!0,d.ended=!0,h(),e.emit("pause"),e.emit("ended")}c.unshift(t.data)})}}})})}),this.emit("loadstart")}},t.prototype.unload=function(){var t=_(this),r=t.state,i=t.iframe,s=t.interval;return _(this).state=_libUtilsJs.extend(r,CLEAN_STATE),i&&(_libRunnerJs2["default"].schedule("afterRender",this.element,"removeChild",[i]),_(this).iframe=null),s&&(_libTimerJs2["default"].cancel(s),_(this).interval=null),_(this).player=null,_(this).hasPlayed=!1,e.prototype.unload.call(this)},t.prototype.reload=function(){this.unload(),this.load()},t.prototype.minimize=function(){return new Error("YouTubePlayer cannot be minimized.")},t.prototype.didInsertElement=function(){var t;return this.autoplay&&this.play(),(t=e.prototype.didInsertElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments)))},babelHelpers.createClass(t,[{key:"currentTime",get:function(){return _(this).state.currentTime},set:function(e){var t=_(this),r=t.player,i=t.state,s=this.start||0,a=this.end||1/0,n=Math.min(Math.max(s+e,s),a);return r?(_(this).seekStart=i.currentTime,i.seeking=!0,this.emit("seeking"),r.seekTo(n)):void(i.currentTime=n)}},{key:"duration",get:function(){return _(this).state.duration}},{key:"volume",get:function(){var e=_(this),t=e.player;return t?t.getVolume()/100:0}},{key:"muted",get:function(){var e=_(this),t=e.player;return t?t.isMuted():!1}},{key:"ended",get:function(){return _(this).state.ended}},{key:"paused",get:function(){return _(this).state.paused}},{key:"readyState",get:function(){return _(this).state.readyState}},{key:"seeking",get:function(){return _(this).state.seeking}},{key:"src",get:function(){return _(this).state.src},set:function(e){e!==_(this).state.src&&this.unload(),_(this).state.src=e}},{key:"error",get:function(){return _(this).state.error}}]),t}(_CorePlayerJs2["default"]);exports["default"]=YouTubePlayer,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/fetcher.js":10,"../../lib/timer.js":12,"../../lib/utils.js":13,"../../src/services/browser.js":97,"../../src/services/code_loader.js":99,"./CorePlayer.js":84,"private-parts":187,"querystring":186}],95:[function(require,module,exports){
(function (global){
"use strict";require("../ext/external-helpers.js");var _es6Promise=require("es6-promise"),_weakMap=require("weak-map"),_weakMap2=babelHelpers.interopRequireDefault(_weakMap);require("whatwg-fetch"),require("raf.js"),global.Promise=_es6Promise.Promise,global.WeakMap=_weakMap2["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../ext/external-helpers.js":1,"es6-promise":180,"raf.js":188,"weak-map":190,"whatwg-fetch":191}],96:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _code_loaderJs=require("./code_loader.js"),_code_loaderJs2=babelHelpers.interopRequireDefault(_code_loaderJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_privateParts=require("private-parts"),_servicesUrl_parserJs=require("../services/url_parser.js"),_servicesUrl_parserJs2=babelHelpers.interopRequireDefault(_servicesUrl_parserJs),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey();_code_loaderJs2["default"].configure("adtech",{src:_servicesUrl_parserJs2["default"].parse("//aka-cdn.adtechus.com/dt/common/DAC.js").href,after:function(){return global.ADTECH}});var ADTECH=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).defaults={}}return e.prototype.load=function(e){var r=this;return _code_loaderJs2["default"].load("adtech").then(function(s){return new Promise(function(t){s.loadAd(_libUtilsJs.extend(_(r).defaults,e,{secure:_environmentJs2["default"].secure,debugMode:_environmentJs2["default"].debug,complete:t}))})})},e.prototype.setDefaults=function(e){_(this).defaults=e},e}();exports["default"]=new ADTECH,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/utils.js":13,"../environment.js":44,"../services/url_parser.js":112,"./code_loader.js":99,"private-parts":187}],97:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_privateParts=require("private-parts"),_=_privateParts.createKey(),Browser=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).tests={}}return e.prototype.test=function(e){var r=void 0===arguments[1]?!1:arguments[1],t=_(this).tests[e];if(!t)return _libRunnerPromiseJs2["default"].reject(new Error("Unknown feature test ["+e+"]."));var s=t.tester,n=t.result;return!r&&n||(t.result=_libRunnerPromiseJs2["default"].resolve(s()).then(function(e){return Boolean(e)},function(){return!1}))},e.prototype.addTest=function(e,r){return _(this).tests[e]={tester:r,result:null},this},e}();exports["default"]=new Browser,module.exports=exports["default"];
},{"../../lib/RunnerPromise.js":3,"private-parts":187}],98:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _events=require("events"),_post_messageJs=require("./post_message.js"),_post_messageJs2=babelHelpers.interopRequireDefault(_post_messageJs),_libGlobalJs=require("../../lib/global.js"),_libGlobalJs2=babelHelpers.interopRequireDefault(_libGlobalJs),_privateParts=require("private-parts"),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),Cinema6=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.ready=!1,_(this).session=_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),_(this).appData=_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),_(this).options=void 0,_libGlobalJs2["default"].__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(s,e),s.prototype.init=function(){var e=this,s=void 0===arguments[0]?{}:arguments[0],t=_post_messageJs2["default"].createSession(_libGlobalJs2["default"].parent);return t.request("handshake").then(function(i){var r=function(){e.ready=!0,e.emit("ready",!0),t.emit("ready",!0),t.ping("ready",!0),_(e).session.fulfill(t)};_(e).appData.fulfill(i.appData);var a=void 0;s.setup&&(a=s.setup(i.appData)),a instanceof Promise?a.then(r):r()}),_(this).options=s,t},s.prototype.getSession=function(){return _(this).session.promise},s.prototype.getAppData=function(){return _(this).appData.promise},s.prototype.fullscreen=function(e){return this.getSession().then(function(s){return s.ping("fullscreenMode",!!e)})},s}(_events.EventEmitter);exports["default"]=new Cinema6,module.exports=exports["default"];
},{"../../lib/RunnerPromise.js":3,"../../lib/global.js":11,"../../lib/utils.js":13,"./post_message.js":108,"events":182,"private-parts":187}],99:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),CodeLoader=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).configs={},_(this).promises={}}return e.prototype.load=function(e){var r=_(this).configs[e]||{src:e},t=_(this),s=t.promises,n=arguments[1]||document.head,o=arguments[2]||"appendChild",i=arguments[3];return s[e]||(s[e]=new _libRunnerPromiseJs2["default"](function(t,s){var a=document.createElement("script");a.src=r.src,a.async=!0,a.onload=t,a.onerror=function(){return s(new Error("Failed to load script: ["+e+"]."))},(r.before||_libUtilsJs.noop)(),n[o](a,i)}).then(r.after))},e.prototype.loadStyles=function(e){var r=_(this),t=r.promises;return t[e]||(t[e]=new _libRunnerPromiseJs2["default"](function(r,t){var s=document.createElement("link"),n=new Image;s.type="text/css",s.href=e,s.rel="stylesheet",document.head.appendChild(s),n.src=e,n.onerror=function(){s.sheet?r(s.sheet):t(new Error("Failed to load styles: ["+e+"]."))}}))},e.prototype.configure=function(e,r){_(this).configs[e]=r},e}();exports["default"]=new CodeLoader,module.exports=exports["default"];
},{"../../lib/RunnerPromise.js":3,"../../lib/utils.js":13,"private-parts":187}],100:[function(require,module,exports){
(function (global){
"use strict";function objectify(e){function t(e){if(/^(true|false)$/.test(e))return"true"===e;var t=parseFloat(e);return isNaN(t)?e:t}return _libUtilsJs.reduce(_libUtilsJs.map(_libUtilsJs.map(e.split("&"),function(e){return _libUtilsJs.map(e.split("="),decodeURIComponent)}),function(e){return 2===e.length?e:[e[0],!0]}),function(e,r){return e[r[0]]=t(r[1]),e},{})}function objectWithout(e,t){return _libUtilsJs.reduce(_libUtilsJs.filter(Object.keys(e),function(e){return t.indexOf(e)<0}),function(t,r){return t[r]=e[r],t},{})}exports.__esModule=!0;var _events=require("events"),_privateParts=require("private-parts"),_url_parserJs=require("./url_parser.js"),_url_parserJs2=babelHelpers.interopRequireDefault(_url_parserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey({delegateMessage:function(e){var t=this,r=_url_parserJs2["default"].parse(e.origin).hostname;if("www.dailymotion.com"===r){var i=objectify(e.data);_libRunnerJs2["default"].run(function(){t.players[i.id].emit(i.event,objectWithout(i,["id","event"]))})}}}),dailymotion=void 0,Player=function(e){function t(r){babelHelpers.classCallCheck(this,t);var i=objectify(_url_parserJs2["default"].parse(r.src).search);if(!i.id)throw new Error("Provided iFrame has no id specified in the search params.");if("postMessage"!==i.api)throw new Error('Provided iFrame must have "api" set to "postMessage" in the search params.');e.call(this),_(dailymotion).players[i.id]=this,_(this).id=i.id,_(this).iframe=r}return babelHelpers.inherits(t,e),t.prototype.call=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var i=_(this).iframe.contentWindow;i.postMessage(_libUtilsJs.map(t,encodeURIComponent).join("="),"*")},t.prototype.destroy=function(){this.removeAllListeners(),delete _(dailymotion).players[_(this).id]},t}(_events.EventEmitter),Dailymotion=function e(){var t=this;babelHelpers.classCallCheck(this,e),_(this).players={},this.Player=Player,global.addEventListener("message",function(e){return _(t).delegateMessage(e)},!1)};dailymotion=new Dailymotion,exports["default"]=dailymotion,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"./url_parser.js":112,"events":182,"private-parts":187}],101:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),Dispatcher=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).listeners={},_(this).listenersByClient=new WeakMap,_(this).emitterHandlers=new WeakMap}return e.prototype.addClient=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var s=_(this),a=s.listeners,i=s.listenersByClient,l=[];i.set(e,l);var o=function(t,r){for(var n=arguments.length,s=Array(n>2?n-2:0),o=2;n>o;o++)s[o-2]=arguments[o];if(i.get(e)){var u=a[r]||(a[r]={}),c={handler:t,removed:!1};_libUtilsJs.forEach(s,function(e){var t=u[e]||(u[e]=[]);t.push(c),l.push(c)})}};new(babelHelpers.bind.apply(e,[null].concat([o],r)))},e.prototype.removeClient=function(e){var t=_(this),r=t.listenersByClient;_libUtilsJs.forEach(r.get(e),function(e){return e.removed=!0}),r["delete"](e)},e.prototype.addSource=function(e,t,r){var n=void 0===arguments[3]?{}:arguments[3],s=_(this),a=s.listeners,i=s.emitterHandlers,l=[];i.set(t,l),_libUtilsJs.forEach(r,function(r){var s={type:e,data:n,name:r,target:t},i=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var l=(a[e]||{})[r]||[];_libUtilsJs.forEach(l.slice(),function(e){var t=e.handler,r=e.removed;r?l.slice(l.indexOf(e),1):t.apply(void 0,[s].concat(n))})};t.on(r,i),l.push({event:r,handler:i})})},e.prototype.removeSource=function(e){var t=_(this),r=t.emitterHandlers;_libUtilsJs.forEach(r.get(e)||[],function(t){var r=t.event,n=t.handler;e.removeListener(r,n)}),r["delete"](e)},e}();exports["default"]=new Dispatcher,module.exports=exports["default"];
},{"../../lib/utils.js":13,"private-parts":187}],102:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libFetcherJs=require("../../lib/fetcher.js"),_libFetcherJs2=babelHelpers.interopRequireDefault(_libFetcherJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey({processElection:function(e){return{id:e.id,ballot:_libUtilsJs.reduce(Object.keys(e.ballot),function(t,n){var r=e.ballot[n]||[];return t[n]=r.every(function(e){return 0===e})?_libUtilsJs.map(r,function(){return 1/r.length}):r,t},e.ballot)}},getElection:function(e){var t=_environmentJs2["default"].apiRoot;return this.electionPromises[e]||(this.electionPromises[e]=_libFetcherJs2["default"].get(""+t+"/api/public/election/"+e).then(function(e){return e.json()}).then(this.processElection))}}),Election=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).electionPromises={}}return e.prototype.vote=function(e,t,n){return _libFetcherJs2["default"].post(""+_environmentJs2["default"].apiRoot+"/api/public/vote",{body:{election:e,ballotItem:t,vote:n}}).then(function(){return!0})},e.prototype.getResults=function(e,t){return _(this).getElection(e).then(function(e){return e.ballot[t]})},e}();exports["default"]=new Election,module.exports=exports["default"];
},{"../../lib/fetcher.js":10,"../../lib/utils.js":13,"../environment.js":44,"private-parts":187}],103:[function(require,module,exports){
(function (global){
"use strict";function getNodeValue(e){return e.firstChild.nodeValue||e.firstChild.firstChild.nodeValue}function createFlashPlayer(e){var t=e.attributes,r=e.parameters,i=document.createElement("object");return _libUtilsJs.forEach(t,function(e){var t=e[0],r=e[1];return i.setAttribute(t,r)}),_libUtilsJs.forEach(r,function(e){var t=e[0],r=e[1],n=document.createElement("param");n.setAttribute("name",t),n.setAttribute("value",r),i.appendChild(n)}),i}function toQueryParams(e){return _libUtilsJs.map(Object.keys(e),function(t){return _libUtilsJs.map([t,e[t]],encodeURIComponent).join("=")}).join("&")}function getProp(e,t){return(e&&e.getAdProperties||void 0)&&function(){try{return e.getAdProperties()[t]}catch(r){return void 0}}()}function callMethod(e,t,r,i){if(!e||"function"!=typeof e[t])throw new Error(i);return e[t].apply(e,babelHelpers.toConsumableArray(r))}exports.__esModule=!0;var _mediaJs=require("./media.js"),_mediaJs2=babelHelpers.interopRequireDefault(_mediaJs),_image_loaderJs=require("./image_loader.js"),_image_loaderJs2=babelHelpers.interopRequireDefault(_image_loaderJs),_libFetcherJs=require("../../lib/fetcher.js"),_libFetcherJs2=babelHelpers.interopRequireDefault(_libFetcherJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libUtilsJs=require("../../lib/utils.js"),_privateParts=require("private-parts"),_events=require("events"),iab=void 0,_=_privateParts.createKey({getXML:function(e){var t=new DOMParser;return t.parseFromString(e.replace(/\n/g,"").replace(/>\s+</g,"><"),"text/xml")},getSecondsFromTimestamp:function(e){var t=e.split(":").reverse();return _libUtilsJs.reduce(t,function(e,t,r){return e+parseInt(t,10)*Math.pow(60,r)},0)}}),VAST=function(){function e(t){function r(e){return t.querySelectorAll(e)}var i=this;babelHelpers.classCallCheck(this,e),this.video={duration:_(this).getSecondsFromTimestamp((r("Linear Duration")[0]||r("Video Duration")[0]).childNodes[0].nodeValue),mediaFiles:_libUtilsJs.map(r("MediaFiles MediaFile"),function(e){return _libUtilsJs.reduce(e.attributes,function(e,t){return e[t.name]=t.value,e},{url:getNodeValue(e)})})},this.companions=_libUtilsJs.map(r("CompanionAds Companion"),function(e){var t=e.firstChild,r=function(e){switch(e){case"IFrameResource":return"iframe";case"StaticResource":return"image";case"HTMLResource":return"html"}}(t.tagName);return["width","height"].reduce(function(t,r){return t[r]=parseInt(e.getAttribute(r),10),t},{adType:r,fileURI:getNodeValue(t)})}),this.clickThrough=_libUtilsJs.map(r("VideoClicks ClickThrough"),getNodeValue),this.pixels={errorPixel:_libUtilsJs.map(r("Error"),getNodeValue),impression:_libUtilsJs.map(r("Impression"),getNodeValue),creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],expand:[],collapse:[],acceptInvitation:[],close:[],videoClickThrough:[],videoClickTracking:_libUtilsJs.map(r("VideoClicks ClickTracking"),getNodeValue),videoCustomClick:_libUtilsJs.map(r("VideoClicks CustomClick"),getNodeValue),companionCreativeView:_libUtilsJs.map(r("Companion Tracking"),getNodeValue),playing:[],companionDisplay:[],companionClick:[],loaded:[],stopped:[],linearChange:[]},_libUtilsJs.forEach(r(r("Linear Tracking")[0]?"Linear Tracking":"Tracking"),function(e){var t=e.getAttribute("event");(i.pixels[t]||[]).push(getNodeValue(e))})}return e.prototype.getVideoSrc=function(e){var t=void 0,r=e||_mediaJs2["default"].bestVideoFormat(this.video.mediaFiles.filter(function(e){return/mp4|webm/.test(e.type)}).map(function(e){return e.type}));return this.video.mediaFiles.filter(function(e){return e.type===r}).forEach(function(e){t=t||e;var r=parseInt(e.bitrate||e.height,10)<parseInt(t.bitrate||t.height,10);t=r?e:t}),t?t.url:null},e.prototype.getCompanion=function(){return this.companions.length?this.companions[0]:null},e.prototype.firePixels=function(e){_image_loaderJs2["default"].load.apply(_image_loaderJs2["default"],babelHelpers.toConsumableArray(this.pixels[e]))},e}(),SWF_URL="swf/vpaid.swf",vpaidId=0,VPAIDPlayer=function(e){function t(r){var i=this;babelHelpers.classCallCheck(this,t),e.call(this);var n=function(){var e=_(i),t=e.player;i.removeAllListeners(),_(iab).players[i.id]=void 0,t.parentNode.removeChild(t)};_(this).player=null,_(this).banners=void 0,this.id="vpaid-"+vpaidId++,this.tag=r,this.once("displayBanners",function(){_(i).banners=_libUtilsJs.map(_libUtilsJs.filter(_(i).player.getDisplayBanners(),function(e){return 300===e.width&&250===e.height}),function(e){return{adType:"html",width:e.width,height:e.height,fileURI:e.sourceCode}})}),this.once("AdStopped",n),this.once("AdError",n),_(iab).players[this.id]=this}return babelHelpers.inherits(t,e),t.prototype.load=function(e){var t=this,r=_(this).player=createFlashPlayer({attributes:[["id",""+this.id+"-player"],["class","c6VPAIDPlayer"],["type","application/x-shockwave-flash"],["data",SWF_URL]],parameters:[["movie",SWF_URL],["quality","high"],["bgcolor","#000000"],["play",!1],["loop",!1],["wmode","opaque"],["scale","noscale"],["salign","lt"],["flashvars",toQueryParams({adXmlUrl:this.tag,playerId:this.id})],["allowScriptAccess","always"],["allowFullscreen",!0]]});return e.appendChild(r),new _libRunnerPromiseJs2["default"](function(e){return t.once("onAdResponse",function(){return e(t)})})},t.prototype.initAd=function(){return _(this).player.loadAd()},t.prototype.startAd=function(){return _(this).player.startAd()},t.prototype.stopAd=function(){return _(this).player.stopAd()},t.prototype.pauseAd=function(){return _(this).player.pauseAd()},t.prototype.resumeAd=function(){return _(this).player.resumeAd()},babelHelpers.createClass(t,[{key:"adVolume",get:function(){return getProp(_(this).player,"adVolume")},set:function(e){return callMethod(_(this).player,"setVolume",[e],"Cannot set adVolume before the player has been loaded.")}},{key:"adCurrentTime",get:function(){return getProp(_(this).player,"adCurrentTime")}},{key:"adDuration",get:function(){return getProp(_(this).player,"adDuration")}},{key:"adBanners",get:function(){return _(this).banners}}]),t}(_events.EventEmitter),IAB=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e),_(this).VAST=VAST,_(this).players={},this.VPAIDPlayer=VPAIDPlayer,global.addEventListener("message",function(e){var r=function(){try{var t=JSON.parse(e.data).__vpaid__;if(!t)throw!1;return t}catch(r){return{id:null,type:null}}}(),i=_(t).players[r.id];i&&_libRunnerJs2["default"].run(function(){return i.emit(r.type)})},!1),global.__karma__&&(this.__private__=_(this))}return e.prototype.getVAST=function(e){var t=this,r=new DOMParser,i=r.parseFromString('<?xml version="1.0" encoding="UTF-8"?><container></container>',"text/xml"),n=_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),a=function s(e){var r=function(e){var t=e.querySelectorAll("VASTAdTagURI");return i.firstChild.appendChild(e.querySelectorAll("VAST")[0]||e.querySelectorAll("VideoAdServingTemplate")[0]),t.length>0?s(t[0].firstChild.nodeValue):i.querySelectorAll("MediaFiles").length?i:_libRunnerPromiseJs2["default"].reject("No video ad!")};return _libFetcherJs2["default"].get(e)["catch"](function(t){return Promise.reject(t instanceof Error?new Error("Could not load VAST ["+e+"]."):t)}).then(function(e){return e.text()}).then(_(t).getXML).then(r)},l=function(e){var r=_(t),i=r.VAST;n.fulfill(new i(e))};return a(e).then(l)["catch"](function(e){return n.reject(e)}),n.promise},e}();iab=new IAB,exports["default"]=iab,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/RunnerPromise.js":3,"../../lib/fetcher.js":10,"../../lib/utils.js":13,"./image_loader.js":104,"./media.js":105,"events":182,"private-parts":187}],104:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libUtilsJs=require("../../lib/utils.js"),ImageLoader=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.prototype.load=function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return _libRunnerPromiseJs2["default"].all(_libUtilsJs.map(r,function(e){return new Promise(function(r,n){var s=new Image;s.onload=function(){return r(s)},s.onerror=function(){return n([s])},s.src=e})}))},e}();exports["default"]=new ImageLoader,module.exports=exports["default"];
},{"../../lib/RunnerPromise.js":3,"../../lib/utils.js":13}],105:[function(require,module,exports){
(function (global){
"use strict";function toPreferMP4s(e,t){return"video/mp4"===e[0]?-1:"video/mp4"===t[0]?1:0}exports.__esModule=!0;var _privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),Media=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).video=document.createElement("video"),_(this).supportsHTML5Video="canPlayType"in _(this).video}return e.prototype.bestVideoFormat=function(e){var t=_(this),i=t.video,r=t.supportsHTML5Video;if(!r)return null;var o=_libUtilsJs.map(e,function(e){return[e,i.canPlayType(e)]}).sort(toPreferMP4s),s=_libUtilsJs.filter(o,function(e){return"probably"===e[1]}),l=_libUtilsJs.filter(o,function(e){return"maybe"===e[1]}),n=(s[0]||[])[0],a=(l[0]||[])[0];return n||a||null},e.prototype.loadMedia=function(e){global.c6.html5Videos.push(e)},e.prototype.unloadMedia=function(e){var t=global.c6.html5Videos;t.splice(t.indexOf(e),1)},e}();exports["default"]=new Media,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/utils.js":13,"private-parts":187}],106:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _code_loaderJs=require("./code_loader.js"),_code_loaderJs2=babelHelpers.interopRequireDefault(_code_loaderJs),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),_privateParts=require("private-parts"),_=_privateParts.createKey(),MoatApiTracker=function(){function e(t,r,a){babelHelpers.classCallCheck(this,e),global.__karma__&&(this._private_=_(this));var s=_environmentJs2["default"].protocol,i="https:"===s?"z":"js",n=this;_(this).events=[],_(this).dispatched={},_(this).tracker={adData:{ids:r,duration:a},dispatchEvent:function(e){_(n).dispatched[e.type]||(_(n).dispatched[e.type]=!0,this.sendEvent?(_(n).events&&(_(n).events.push(e),e=_(n).events,delete _(n).events),this.sendEvent(e)):_(n).events.push(e))}},_(this).name="_moatApi"+Math.floor(1e8*Math.random()),_(this).src=s+"//"+i+".moatads.com/cinema6748895486244/moatvideo.js#"+_(this).name,global[_(this).name]=_(this).tracker,t&&t.childNodes&&(_code_loaderJs2["default"].configure(_(n).name,{src:_(n).src,after:function(){}}),_code_loaderJs2["default"].load(_(this).name,t,"insertBefore",t.childNodes[0]||null))}return e.prototype.dispatchEvent=function(){for(var e,t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];return(e=_(this).tracker).dispatchEvent.apply(e,r)},babelHelpers.createClass(e,[{key:"name",get:function(){return _(this).name}}]),e}();exports.MoatApiTracker=MoatApiTracker;var MoatApi=function(){function e(){babelHelpers.classCallCheck(this,e),global.__karma__&&(this._private_=_(this)),_(this).trackers={},_(this).pending={}}return e.prototype.initTracker=function(e,t,r,a){var s=_(this).trackers[e],i=_(this).pending[e],n=void 0;if(!s&&(s=new MoatApiTracker(t,r,a),_(this).trackers[e]=s,i)){for(;i.length;)n=i.shift(),this.dispatchEvent(e,n);delete _(this).pending[e]}},e.prototype.dispatchEvent=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;t>a;a++)r[a-1]=arguments[a];var s=_(this).trackers[e];if(!s){var i;return _(this).pending[e]||(_(this).pending[e]=[]),void(i=_(this).pending[e]).push.apply(i,r)}s.dispatchEvent.apply(s,r)},e}();exports["default"]=new MoatApi;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../environment.js":44,"./code_loader.js":99,"private-parts":187}],107:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _playersYouTubePlayerJs=require("../players/YouTubePlayer.js"),_playersYouTubePlayerJs2=babelHelpers.interopRequireDefault(_playersYouTubePlayerJs),_playersVimeoPlayerJs=require("../players/VimeoPlayer.js"),_playersVimeoPlayerJs2=babelHelpers.interopRequireDefault(_playersVimeoPlayerJs),_playersVASTPlayerJs=require("../players/VASTPlayer.js"),_playersVASTPlayerJs2=babelHelpers.interopRequireDefault(_playersVASTPlayerJs),_playersVPAIDPlayerJs=require("../players/VPAIDPlayer.js"),_playersVPAIDPlayerJs2=babelHelpers.interopRequireDefault(_playersVPAIDPlayerJs),_playersDailymotionPlayerJs=require("../players/DailymotionPlayer.js"),_playersDailymotionPlayerJs2=babelHelpers.interopRequireDefault(_playersDailymotionPlayerJs),_playersEmbeddedPlayerJs=require("../players/EmbeddedPlayer.js"),_playersEmbeddedPlayerJs2=babelHelpers.interopRequireDefault(_playersEmbeddedPlayerJs),_playersRumblePlayerJs=require("../players/RumblePlayer.js"),_playersRumblePlayerJs2=babelHelpers.interopRequireDefault(_playersRumblePlayerJs),_playersSlideshowBobPlayerJs=require("../players/SlideshowBobPlayer.js"),_playersSlideshowBobPlayerJs2=babelHelpers.interopRequireDefault(_playersSlideshowBobPlayerJs),_playersVinePlayerJs=require("../players/VinePlayer.js"),_playersVinePlayerJs2=babelHelpers.interopRequireDefault(_playersVinePlayerJs),_playersHtmlVideoPlayerJs=require("../players/HtmlVideoPlayer.js"),_playersHtmlVideoPlayerJs2=babelHelpers.interopRequireDefault(_playersHtmlVideoPlayerJs),PlayerFactory=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.prototype.playerForCard=function(e){if("instagramVideo"===e.type)return new _playersHtmlVideoPlayerJs2["default"];switch(e.data.type){case"youtube":return new _playersYouTubePlayerJs2["default"];case"vimeo":return new _playersVimeoPlayerJs2["default"];case"vast":return new _playersVASTPlayerJs2["default"];case"vpaid":return new _playersVPAIDPlayerJs2["default"];case"dailymotion":return new _playersDailymotionPlayerJs2["default"];case"embedded":return new _playersEmbeddedPlayerJs2["default"];case"rumble":return new _playersRumblePlayerJs2["default"];case"slideshow-bob":return new _playersSlideshowBobPlayerJs2["default"];case"vine":return new _playersVinePlayerJs2["default"];default:throw new TypeError('Have no Player for VideoCard with type "'+e.data.type+'".')}},e}();exports["default"]=new PlayerFactory,module.exports=exports["default"];
},{"../players/DailymotionPlayer.js":85,"../players/EmbeddedPlayer.js":86,"../players/HtmlVideoPlayer.js":87,"../players/RumblePlayer.js":88,"../players/SlideshowBobPlayer.js":89,"../players/VASTPlayer.js":90,"../players/VPAIDPlayer.js":91,"../players/VimeoPlayer.js":92,"../players/VinePlayer.js":93,"../players/YouTubePlayer.js":94}],108:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _events=require("events"),_libGlobalJs=require("../../lib/global.js"),_libGlobalJs2=babelHelpers.interopRequireDefault(_libGlobalJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_=_privateParts.createKey({ping:function(e,s,i,n){var t={__c6__:{event:s,type:i,data:n}};e.postMessage(JSON.stringify(t),"*")},newRequestId:function(e){for(var s=0;e._pending[s];)s++;return s},getSessionByWindow:function(e){for(var s in this.sessions){var i=this.sessions[s];if(i.window===e)return i}},handleMessage:function(e){var s=this,i=e.data,n=void 0;try{n=JSON.parse(i).__c6__}catch(t){n=void 0}if(n){var r=n.event,o=n.type.split(":"),l=o[0],u=o[1],a=n.data,_=this.getSessionByWindow(e.source);"request"===l?!function(){var i=function(i){s.ping(e.source,r,"response:"+u,i)};_libRunnerJs2["default"].run(function(){return _.emit(r,a,i)})}():"response"===l?_._pending[u].fulfill(a):"ping"===l&&_libRunnerJs2["default"].run(function(){return _.emit(r,a,function(){})})}}}),Session=function(e){function s(i,n,t){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.id=i,this.window=n,this._pending={},_(this)._=t}return babelHelpers.inherits(s,e),s.prototype.ping=function(e,s){_(this)._.ping(this.window,e,"ping",s)},s.prototype.request=function(e,s){var i=_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),n=_(this)._.newRequestId(this);return this._pending[n]=i,_(this)._.ping(this.window,e,"request:"+n,s),i.promise},s}(_events.EventEmitter),PostMessage=function(){function e(){var s=this;babelHelpers.classCallCheck(this,e),_(this).sessionCount=0,_(this).sessions={},_libGlobalJs2["default"].addEventListener("message",function(e){return _(s).handleMessage(e)},!1),window.__karma__&&(this.__private__=_(this))}return e.prototype.createSession=function(e){var s=new Session(_(this).sessionCount++,e,_(this));return _(this).sessions[s.id]=s,s},e.prototype.destroySession=function(e){var s=_(this).sessions[e];for(var i in s){var n=s[i];s[i]="function"==typeof n?_libUtilsJs.noop:void 0}delete _(this).sessions[e]},e.prototype.getSession=function(e){return _(this).sessions[e]},e}();exports["default"]=new PostMessage,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/RunnerPromise.js":3,"../../lib/global.js":11,"../../lib/utils.js":13,"events":182,"private-parts":187}],109:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _events=require("events"),_privateParts=require("private-parts"),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_url_parserJs=require("./url_parser.js"),_url_parserJs2=babelHelpers.interopRequireDefault(_url_parserJs),_libUtilsJs=require("../../lib/utils.js"),ORIGIN="rumble.com",_=_privateParts.createKey(),rumble=void 0,Player=function(e){function r(s){var i=this;babelHelpers.classCallCheck(this,r),e.call(this),_(this).pending={},_(this).iframe=s;var t=_url_parserJs2["default"].parse(s.src).search.match(/player_id=((\w|-)+)/)||[],a=t[1];if(!a)throw new Error("Provided iFrame has no player_id specified in the search params.");this.id=a,this.on("newListener",function(e){e.search(/^(ready|newListener|removeListener)$/)>-1||i.call("addEventListener",e)}),rumble.players[a]=this}return babelHelpers.inherits(r,e),r.prototype.call=function(e,r){var s=_(this),i=s.pending,t=s.iframe.contentWindow;if(!t)return _libRunnerPromiseJs2["default"].reject(new Error("Cannot call "+e+"() on RumblePlayer ["+this.id+"] because it is destroyed."));var a=i[e]||_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),l={method:e};switch(void 0!==r&&(l.value=r),t.postMessage(JSON.stringify(l),"*"),e){case"play":case"pause":case"seekTo":case"unload":case"setColor":case"setLoop":case"setVolume":a.fulfill();break;default:i[e]=a}return a.promise},r.prototype.destroy=function(){this.removeAllListeners(),rumble.players[this.id]=void 0},r.prototype.__handleMessage__=function(e){var r=this,s=e.method,i=e.event,t=e.value,a=e.data,l=_(this),n=l.pending;s&&n[s]&&(n[s].fulfill(t),delete n[s]),i&&_libRunnerJs2["default"].run(function(){return r.emit(i,a||t)})},r}(_events.EventEmitter),Rumble=function e(){var r=this;babelHelpers.classCallCheck(this,e),this.Player=Player,this.players={},global.addEventListener("message",function(e){var s=e.origin,i=e.data;if(_url_parserJs2["default"].parse(s).hostname===ORIGIN){var t=JSON.parse(i),a=r.players[t.player_id];a&&a.__handleMessage__(t)}},!1)};rumble=new Rumble,exports["default"]=rumble,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/RunnerPromise.js":3,"../../lib/utils.js":13,"./url_parser.js":112,"events":182,"private-parts":187}],110:[function(require,module,exports){
(function (global){
"use strict";function objectify(e){function r(e){if(/^(true|false)$/.test(e))return"true"===e;var r=parseFloat(e);return isNaN(r)?e:r}return _libUtilsJs.reduce(_libUtilsJs.map(_libUtilsJs.map(e.split("&"),function(e){return _libUtilsJs.map(e.split("="),decodeURIComponent)}),function(e){return 2===e.length?e:[e[0],!0]}),function(e,t){return e[t[0]]=r(t[1]),e},{})}exports.__esModule=!0;var _events=require("events"),_privateParts=require("private-parts"),_url_parserJs=require("./url_parser.js"),_url_parserJs2=babelHelpers.interopRequireDefault(_url_parserJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey({delegateMessage:function(e){var r=function(){try{return JSON.parse(e.data)}catch(r){return{}}}(),t=this.players[r.id];t&&_libRunnerJs2["default"].run(function(){t.emit(r.event,r.data)})}}),bob=void 0,Player=function(e){function r(t){babelHelpers.classCallCheck(this,r);var s=objectify(_url_parserJs2["default"].parse(t.src).search);if(!s.id)throw new Error("Provided iFrame has no id specified in the search params.");e.call(this),_(bob).players[s.id]=this,_(this).id=s.id,_(this).iframe=t}return babelHelpers.inherits(r,e),r.prototype.call=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),s=1;r>s;s++)t[s-1]=arguments[s];var i=_(this).iframe.contentWindow;i.postMessage(JSON.stringify({method:e,args:t}),"*")},r.prototype.destroy=function(){this.removeAllListeners(),delete _(bob).players[_(this).id]},r}(_events.EventEmitter),SlideshowBob=function e(){var r=this;babelHelpers.classCallCheck(this,e),_(this).players={},this.Player=Player,global.addEventListener("message",function(e){return _(r).delegateMessage(e)},!1)};bob=new SlideshowBob,exports["default"]=bob,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/utils.js":13,"./url_parser.js":112,"events":182,"private-parts":187}],111:[function(require,module,exports){
(function (global){
"use strict";function isObject(t){return Object(t)===t}function existy(t){return void 0!==t&&null!==t}exports.__esModule=!0;var _privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),tracker=void 0,TrackerContext=function(){function t(e,r){babelHelpers.classCallCheck(this,t),this.created=!1,this.ctxName="_default"===e?"":e,this.aliases={},this.makePagePath=_libUtilsJs.noop,_(this).api=r}return t.prototype.alias=function(t,e){var r=this,a=function(t,e){return null===e?delete r.aliases[t]:void 0!==e&&(r.aliases[t]=e),r.aliases[t]||t};if(isObject(t)){var i=t;for(var s in i)a(s,i[s]);return this}return a(t,e)},t.prototype.methodContext=function(t){return this.ctxName?""+this.ctxName+"."+t:t},t.prototype.create=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var a=_(tracker),i=a.api;return global[i].apply(global,["create"].concat(e)),global[i](this.methodContext("require"),"displayfeatures"),this.created=!0,this},t.prototype.set=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];if(2===e.length)e[0]=this.alias(e[0]);else if(isObject(e[0])){var a=e[0],i={};for(var s in a)i[this.alias(s)]=a[s];e[0]=i}return global[_(tracker).api].apply(global,[this.methodContext("set")].concat(e)),this},t.prototype.trackPage=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var a=e[0],i=e[1];if(e.length>1)e=[{page:a,title:i}];else if(isObject(a)){var s=e[0],n={};for(var o in s)n[this.alias(o)]=s[o];e[0]=n}return global[_(tracker).api].apply(global,[this.methodContext("send"),"pageview"].concat(e)),this},t.prototype.trackEvent=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var a={hitType:"event"};if(isObject(e[0])){e=e[0];for(var i in e)a[this.alias(i)]=e[i]}else{var s=e[0],n=e[1],o=e[2],l=e[3];a.eventCategory=s,a.eventAction=n,existy(o)&&(a.eventLabel=o),existy(l)&&(a.eventValue=l)}return global[_(tracker).api](this.methodContext("send"),a),this},t.prototype.trackTiming=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var a={hitType:"timing"};if(isObject(e[0])){e=e[0];for(var i in e)a[this.alias(i)]=e[i]}else{var s=e[0],n=e[1],o=e[2],l=e[3];a.timingCategory=s,a.timingVar=n,existy(o)&&(a.timingValue=o),existy(l)&&(a.timingLabel=l)}return global[_(tracker).api](this.methodContext("send"),a),this},t}(),Tracker=function(){function t(){babelHelpers.classCallCheck(this,t),_(this).api="ga",_(this).contexts={},global.__karma__&&(this.__private__=_(this))}return t.prototype.api=function(t){return void 0!==t&&(_(this).api=t),_(this).api},t.prototype.get=function(){var t=void 0===arguments[0]?"_default":arguments[0];return _(this).contexts[t]||(_(this).contexts[t]=new TrackerContext(t))},t}();tracker=new Tracker,exports["default"]=tracker,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/utils.js":13,"private-parts":187}],112:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _privateParts=require("private-parts"),_environmentJs=require("../environment.js"),_environmentJs2=babelHelpers.interopRequireDefault(_environmentJs),needsDoubleSet=function(){var e=document.createElement("a");return e.setAttribute("href","/foo"),!e.protocol}(),_=_privateParts.createKey(),URL=function(){function e(t,r){babelHelpers.classCallCheck(this,e),needsDoubleSet&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),this.href=t.href,this.protocol=t.protocol.replace(/:$/,""),this.host=t.host,this.search=t.search.replace(/^\?/,""),this.hash=t.hash.replace(/^#/,""),this.hostname=t.hostname,this.port=t.port,this.pathname=("/"===t.pathname.charAt(0)?"":"/")+t.pathname,this.origin=""+this.protocol+"://"+this.host,this.absolute=this.href===r,_environmentJs2["default"]&&!this.absolute&&t.protocol!==_environmentJs2["default"].protocol&&(this.protocol=_environmentJs2["default"].protocol.replace(/:$/,""),this.href=t.href.replace(t.protocol,_environmentJs2["default"].protocol)),_(this).parser=t}return e.prototype.sameOriginAs=function(e){var t=new this.constructor(_(this).parser,e);return this.origin===t.origin},e}(),UrlParser=function(){function e(){babelHelpers.classCallCheck(this,e),_(this).parser=document.createElement("a")}return e.prototype.parse=function(e){return new URL(_(this).parser,e)},e}();exports["default"]=new UrlParser,module.exports=exports["default"];
},{"../environment.js":44,"private-parts":187}],113:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _events=require("events"),_privateParts=require("private-parts"),_libRunnerPromiseJs=require("../../lib/RunnerPromise.js"),_libRunnerPromiseJs2=babelHelpers.interopRequireDefault(_libRunnerPromiseJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_url_parserJs=require("./url_parser.js"),_url_parserJs2=babelHelpers.interopRequireDefault(_url_parserJs),_libUtilsJs=require("../../lib/utils.js"),ORIGIN="player.vimeo.com",_=_privateParts.createKey(),vimeo=void 0,Player=function(e){function r(s){var i=this;babelHelpers.classCallCheck(this,r),e.call(this),_(this).pending={},_(this).iframe=s;var t=_url_parserJs2["default"].parse(s.src).search.match(/player_id=((\w|-)+)/)||[],a=t[1];if(!a)throw new Error("Provided iFrame has no player_id specified in the search params.");this.id=a,this.on("newListener",function(e){e.search(/^(ready|newListener|removeListener)$/)>-1||i.call("addEventListener",e)}),vimeo.players[a]=this}return babelHelpers.inherits(r,e),r.prototype.call=function(e,r){var s=_(this),i=s.pending,t=s.iframe.contentWindow;if(!t)return _libRunnerPromiseJs2["default"].reject(new Error("Cannot call "+e+"() on VimeoPlayer ["+this.id+"] because it is destroyed."));var a=i[e]||_libUtilsJs.defer(_libRunnerPromiseJs2["default"]),l={method:e};switch(void 0!==r&&(l.value=r),t.postMessage(JSON.stringify(l),"*"),e){case"play":case"pause":case"seekTo":case"unload":case"setColor":case"setLoop":case"setVolume":a.fulfill();break;default:i[e]=a}return a.promise},r.prototype.destroy=function(){this.removeAllListeners(),vimeo.players[this.id]=void 0},r.prototype.__handleMessage__=function(e){var r=this,s=e.method,i=e.event,t=e.value,a=e.data,l=_(this),n=l.pending;s&&n[s]&&(n[s].fulfill(t),delete n[s]),i&&_libRunnerJs2["default"].run(function(){return r.emit(i,a||t)})},r}(_events.EventEmitter),Vimeo=function e(){var r=this;babelHelpers.classCallCheck(this,e),this.Player=Player,this.players={},global.addEventListener("message",function(e){var s=e.origin,i=e.data;if(_url_parserJs2["default"].parse(s).hostname===ORIGIN){var t=JSON.parse(i),a=r.players[t.player_id];a&&a.__handleMessage__(t)}},!1)};vimeo=new Vimeo,exports["default"]=vimeo,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/RunnerPromise.js":3,"../../lib/utils.js":13,"./url_parser.js":112,"events":182,"private-parts":187}],114:[function(require,module,exports){
(function (process){
"use strict";var _servicesBrowserJs=require("./services/browser.js"),_servicesBrowserJs2=babelHelpers.interopRequireDefault(_servicesBrowserJs),MP3="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",OGG="data:audio/ogg;base64,T2dnUwACAAAAAAAAAACphkTnAAAAAEiFVKMBHgF2b3JiaXMAAAAAAUAfAAAAAAAAoEEAAAAAAACZAU9nZ1MAAAAAAAAAAAAAqYZE5wEAAACuUWHoC0D///////////+1A3ZvcmJpcw0AAABMYXZmNTYuMTUuMTAyAQAAAB8AAABlbmNvZGVyPUxhdmM1Ni4xMy4xMDAgbGlidm9yYmlzAQV2b3JiaXMSQkNWAQAAAQAMUhQhJRlTSmMIlVJSKQUdY1BbRx1j1DlGIWQQU4hJGaV7TyqVWErIEVJYKUUdU0xTSZVSlilFHWMUU0ghU9YxZaFzFEuGSQklbE2udBZL6JljljFGHWPOWkqdY9YxRR1jUlJJoXMYOmYlZBQ6RsXoYnwwOpWiQii+x95S6S2FiluKvdcaU+sthBhLacEIYXPttdXcSmrFGGOMMcbF4lMogtCQVQAAAQAAQAQBQkNWAQAKAADCUAxFUYDQkFUAQAYAgAAURXEUx3EcR5IkywJCQ1YBAEAAAAIAACiO4SiSI0mSZFmWZVmWpnmWqLmqL/uuLuuu7eq6DoSGrAQAyAAAGIYhh95JzJBTkEkmKVXMOQih9Q455RRk0lLGmGKMUc6QUwwxBTGG0CmFENROOaUMIghDSJ1kziBLPejgYuc4EBqyIgCIAgAAjEGMIcaQcwxKBiFyjknIIETOOSmdlExKKK20lkkJLZXWIueclE5KJqW0FlLLpJTWQisFAAAEOAAABFgIhYasCACiAAAQg5BSSCnElGJOMYeUUo4px5BSzDnFmHKMMeggVMwxyByESCnFGHNOOeYgZAwq5hyEDDIBAAABDgAAARZCoSErAoA4AQCDJGmapWmiaGmaKHqmqKqiKKqq5Xmm6ZmmqnqiqaqmqrquqaqubHmeaXqmqKqeKaqqqaqua6qq64qqasumq9q26aq27MqybruyrNueqsq2qbqybqqubbuybOuuLNu65Hmq6pmm63qm6bqq69qy6rqy7Zmm64qqK9um68qy68q2rcqyrmum6bqiq9quqbqy7cqubbuyrPum6+q26sq6rsqy7tu2rvuyrQu76Lq2rsqurquyrOuyLeu2bNtCyfNU1TNN1/VM03VV17Vt1XVtWzNN1zVdV5ZF1XVl1ZV1XXVlW/dM03VNV5Vl01VlWZVl3XZlV5dF17VtVZZ9XXVlX5dt3fdlWdd903V1W5Vl21dlWfdlXfeFWbd93VNVWzddV9dN19V9W9d9YbZt3xddV9dV2daFVZZ139Z9ZZh1nTC6rq6rtuzrqizrvq7rxjDrujCsum38rq0Lw6vrxrHrvq7cvo9q277w6rYxvLpuHLuwG7/t+8axqaptm66r66Yr67ps675v67pxjK6r66os+7rqyr5v67rw674vDKPr6roqy7qw2rKvy7ouDLuuG8Nq28Lu2rpwzLIuDLfvK8evC0PVtoXh1XWjq9vGbwvD0jd2vgAAgAEHAIAAE8pAoSErAoA4AQAGIQgVYxAqxiCEEFIKIaRUMQYhYw5KxhyUEEpJIZTSKsYgZI5JyByTEEpoqZTQSiilpVBKS6GU1lJqLabUWgyhtBRKaa2U0lpqKbbUUmwVYxAy56RkjkkopbRWSmkpc0xKxqCkDkIqpaTSSkmtZc5JyaCj0jlIqaTSUkmptVBKa6GU1kpKsaXSSm2txRpKaS2k0lpJqbXUUm2ttVojxiBkjEHJnJNSSkmplNJa5pyUDjoqmYOSSimplZJSrJiT0kEoJYOMSkmltZJKK6GU1kpKsYVSWmut1ZhSSzWUklpJqcVQSmuttRpTKzWFUFILpbQWSmmttVZrai22UEJroaQWSyoxtRZjba3FGEppraQSWympxRZbja21WFNLNZaSYmyt1dhKLTnWWmtKLdbSUoyttZhbTLnFWGsNJbQWSmmtlNJaSq3F1lqtoZTWSiqxlZJabK3V2FqMNZTSYikptZBKbK21WFtsNaaWYmyx1VhSizHGWHNLtdWUWouttVhLKzXGGGtuNeVSAADAgAMAQIAJZaDQkJUAQBQAAGAMY4xBaBRyzDkpjVLOOSclcw5CCCllzkEIIaXOOQiltNQ5B6GUlEIpKaUUWyglpdZaLAAAoMABACDABk2JxQEKDVkJAEQBACDGKMUYhMYgpRiD0BijFGMQKqUYcw5CpRRjzkHIGHPOQSkZY85BJyWEEEIppYQQQiillAIAAAocAAACbNCUWByg0JAVAUAUAABgDGIMMYYgdFI6KRGETEonpZESWgspZZZKiiXGzFqJrcTYSAmthdYyayXG0mJGrcRYYioAAOzAAQDswEIoNGQlAJAHAEAYoxRjzjlnEGLMOQghNAgx5hyEECrGnHMOQggVY845ByGEzjnnIIQQQueccxBCCKGDEEIIpZTSQQghhFJK6SCEEEIppXQQQgihlFIKAAAqcAAACLBRZHOCkaBCQ1YCAHkAAIAxSjknJaVGKcYgpBRboxRjEFJqrWIMQkqtxVgxBiGl1mLsIKTUWoy1dhBSai3GWkNKrcVYa84hpdZirDXX1FqMtebce2otxlpzzrkAANwFBwCwAxtFNicYCSo0ZCUAkAcAQCCkFGOMOYeUYowx55xDSjHGmHPOKcYYc8455xRjjDnnnHOMMeecc845xphzzjnnnHPOOeegg5A555xz0EHonHPOOQghdM455xyEEAoAACpwAAAIsFFkc4KRoEJDVgIA4QAAgDGUUkoppZRSSqijlFJKKaWUUgIhpZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimlACDfCgcA/wcbZ1hJOiscDS40ZCUAEA4AABjDGISMOSclpYYxCKV0TkpJJTWMQSilcxJSSimD0FpqpaTSUkoZhJRiCyGVlFoKpbRWaymptZRSKCnFGktKqaXWMuckpJJaS622mDkHpaTWWmqtxRBCSrG11lJrsXVSUkmttdZabS2klFprLcbWYmwlpZZaa6nF1lpMqbUWW0stxtZiS63F2GKLMcYaCwDgbnAAgEiwcYaVpLPC0eBCQ1YCACEBAAQySjnnnIMQQgghUoox56CDEEIIIURKMeacgxBCCCGEjDHnIIQQQgihlJAx5hyEEEIIIYRSOucghFBKCaWUUkrnHIQQQgillFJKCSGEEEIopZRSSikhhBBKKaWUUkopJYQQQiillFJKKaWEEEIopZRSSimllBBCKKWUUkoppZQSQgihlFJKKaWUUkIIpZRSSimllFJKKCGEUkoppZRSSgkllFJKKaWUUkopIZRSSimllFJKKaUAAIADBwCAACPoJKPKImw04cIDEAAAAAIAAkwAgQGCglEIAoQRCAAAAAAACAD4AABICoCIiGjmDA4QEhQWGBocHiAiJAAAAAAAAAAAAAAAAARPZ2dTAATABgAAAAAAAKmGROcCAAAA0A533QgBAQEBBhNAOAAAAACGCfc1AACGCo8G0GhUzAT8zMb5NYwwAusHggp3G+SBnAUqZlSHaLCUAJBGiXGUz2iP2nGylXV8FznqOOZD1Oj9lyL3qPto3j+7Om3Lb3YfWcjEWhvjtGuJO4YJ12vGihzD30f3RxotUn89Uj9D9delzX/1Ud+DOo4m6clN795ESTZSKKgxIwSTmwYUgAa8GtcE";_servicesBrowserJs2["default"].addTest("autoplay",function(){return new Promise(function(A){var q=new Audio;q.addEventListener("play",function(){return A(!0)},!1),q.src=q.canPlayType("audio/ogg")?OGG:MP3,process.nextTick(function(){return q.play()}),setTimeout(function(){return A(!1)},500)})}),_servicesBrowserJs2["default"].addTest("mouse",function(){return new Promise(function(A){var q=function l(){A(!0),document.body.removeEventListener("mousemove",l,!1)},S=function o(){A(!1),document.body.removeEventListener("touchstart",o,!1)};document.body.addEventListener("mousemove",q,!1),document.body.addEventListener("touchstart",S,!1)})});
}).call(this,require('_process'))

},{"./services/browser.js":97,"_process":183}],115:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_srcMixinsTouchableJs=require("../../src/mixins/Touchable.js"),_srcMixinsTouchableJs2=babelHelpers.interopRequireDefault(_srcMixinsTouchableJs),_privateParts=require("private-parts"),_=_privateParts.createKey(),ActionableItemView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).item=null,global.__karma__&&(this.__private__=_(this))}return babelHelpers.inherits(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),_(this).item=t},t.prototype.click=function(){this.sendAction(this,_(this).item)},t}(_libCoreTemplateViewJs2["default"]);ActionableItemView.mixin(_srcMixinsTouchableJs2["default"]),exports["default"]=ActionableItemView,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/core/TemplateView.js":7,"../../src/mixins/Touchable.js":66,"private-parts":187}],116:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),ApplicationView=function(e){function i(){babelHelpers.classCallCheck(this,i),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(i,e),i}(_libCoreViewJs2["default"]);exports["default"]=ApplicationView,module.exports=exports["default"];
},{"../../lib/core/View.js":8}],117:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),BallotResultsView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div"}return babelHelpers.inherits(l,e),l}(_libCoreTemplateViewJs2["default"]);exports["default"]=BallotResultsView,BallotResultsView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../mixins/Hideable.js":60}],118:[function(require,module,exports){
module.exports='<section class="ballot__box"><span class="ballot__intro">Please answer the following:</span><h2 class="ballot__title tk--hdr">{{prompt}}</h2><ul class="ballot__list"><li class="ballot__item ballot__item0"><button data-view="choice1Button:ButtonView" data-target="controller" data-action="vote" data-vote="0" class="ballot__btn btnPrimary ballot__btn0" type="button" title="{{choices.0}}"><span class="ballot__btnLabel btn__label tk--action">{{choices.0}}</span></button></li><li class="ballot__item ballot__item1"><button data-view="choice2Button:ButtonView" data-target="controller" data-action="vote" data-vote="1" class="ballot__btn btnPrimary ballot__btn1" type="button" title="{{choices.1}}"><span class="ballot__btnLabel btn__label tk--action">{{choices.1}}</span></button></li></ul><div class="ballot__textLinks"><a data-view="watchAgainButton:ButtonView" data-target="controller" data-action="deactivate" title="Watch Video Again" class="ballot__textLink ballot__textLink--replay spriteBe uiIconsBe uiIconsBe--replay"><span class="textLink__label textLink">Watch Video Again</span></a> <a data-view="showResultsButton:ButtonView" data-target="controller" data-action="vote" data-vote="-1" title="Show Voting Results" class="ballot__textLink ballot__textLink--results"><span class="textLink__label textLink">Show Voting Results</span></a></div><button data-view="closeButton:ButtonView" data-target="controller" data-action="deactivate" class="sprite sprite--close overlay__closeBtn MiniReel__closeBtn ui__btn"><span class="sprite sprite--close"><span class="ir">Close</span></span></button></section><div class="overlay"></div>';
},{}],119:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),BallotView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.classes.push("ballot__group","player__height","playerHeight"),this.template=require("./BallotView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"]}}return babelHelpers.inherits(i,e),i}(_libCoreTemplateViewJs2["default"]);exports["default"]=BallotView,BallotView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../mixins/Hideable.js":60,"./BallotView.html":118,"./ButtonView.js":120}],120:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_srcMixinsTouchableJs=require("../../src/mixins/Touchable.js"),_srcMixinsTouchableJs2=babelHelpers.interopRequireDefault(_srcMixinsTouchableJs),ButtonView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="button"}return babelHelpers.inherits(t,e),t.prototype.enable=function(){this.setAttribute("disabled",!1)},t.prototype.disable=function(){this.setAttribute("disabled",!0)},t.prototype.click=function(){null===this.element.getAttribute("disabled")&&(this.emit("press"),this.sendAction(this))},t}(_libCoreViewJs2["default"]);ButtonView.mixin(_srcMixinsTouchableJs2["default"]),exports["default"]=ButtonView,module.exports=exports["default"];
},{"../../lib/core/View.js":8,"../../src/mixins/Touchable.js":66}],121:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),HIDE_CLASS="ui--offscreen",CardView=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="li",this.classes.push("cards__item")}return babelHelpers.inherits(s,e),s.prototype.show=function(){this.removeClass(HIDE_CLASS)},s.prototype.hide=function(){this.addClass(HIDE_CLASS)},s}(_libCoreTemplateViewJs2["default"]);exports["default"]=CardView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7}],122:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),HIDE_CLASS="ui--offscreen",DeckView=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.hide()}return babelHelpers.inherits(s,e),s.prototype.show=function(){return this.removeClass(HIDE_CLASS)},s.prototype.hide=function(){return this.addClass(HIDE_CLASS)},s}(_libCoreViewJs2["default"]);exports["default"]=DeckView,module.exports=exports["default"];
},{"../../lib/core/View.js":8}],123:[function(require,module,exports){
module.exports='<div class="displayAdCard__group"><p data-if="sponsor" class="displayAdBrand__tagline">Presented by <a href="{{website}}" target="_blank" class="displayAdBrand__taglineLink textLink" title="{{sponsor}}">{{sponsor}}</a></p><div data-view="displayAdOutlet:View" class="displayAdCard__adModule"></div><div data-if="hasLinks" class="displayAdBrand__linksBox"><a data-if="website" href="{{website}}" title="{{sponsor}} - Official Website" target="_blank" class="displayAdBrand__link"><span class="displayAdBrand__linkLabel">Official Website</span></a> <span data-if="links.length" data-view="links:LinksListView"><a href="{{href}}" title="{{label}}" target="_blank" class="displayAdBrand__link tk--{{type}} spriteBe socialIconsBe socialIconsBe--{{type}}"><span class="displayAdBrand__linkLabel">{{label}}</span></a></span></div></div>';
},{}],124:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("./CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),_libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_LinksListViewJs=require("./LinksListView.js"),_LinksListViewJs2=babelHelpers.interopRequireDefault(_LinksListViewJs),DisplayAdCardView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./DisplayAdCardView.html"),this.instantiates={View:_libCoreViewJs2["default"],LinksListView:_LinksListViewJs2["default"]}}return babelHelpers.inherits(i,e),i.prototype.update=function(i){e.prototype.update.call(this,i),i.links&&this.links.update(i.links)},i}(_CardViewJs2["default"]);exports["default"]=DisplayAdCardView,module.exports=exports["default"];
},{"../../lib/core/View.js":8,"./CardView.js":121,"./DisplayAdCardView.html":123,"./LinksListView.js":130}],125:[function(require,module,exports){
module.exports='<span class="displayAd__label">Advertisement</span><div data-view="adContainer:View" class="displayAd__box"></div>';
},{}],126:[function(require,module,exports){
"use strict";function populateAdContainer(e){this.adContainer.element.innerHTML=e}exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),DisplayAdView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.classes.push("companionAd__group"),this.template=require("./DisplayAdView.html"),this.instantiates={View:_libCoreViewJs2["default"]}}return babelHelpers.inherits(i,e),i.prototype.populateWith=function(e){this.adContainer||this.create(),_libRunnerJs2["default"].scheduleOnce("render",this,populateAdContainer,[e])},i}(_libCoreTemplateViewJs2["default"]);exports["default"]=DisplayAdView,DisplayAdView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/core/TemplateView.js":7,"../../lib/core/View.js":8,"../mixins/Hideable.js":60,"./DisplayAdView.html":125}],127:[function(require,module,exports){
"use strict";function setInnerHTML(e){this.element.innerHTML=e}exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),InstagramCaptionView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="span"}return babelHelpers.inherits(t,e),t.prototype.update=function(e){if(this.element||this.create(),e.caption){var t='<a href="https://instagram.com/$1/" target="_blank"class="instag____postInfo__tag">@$1</a>',a='<a href="https://instagram.com/explore/tags/$1/" target="_blank"class="instag____postInfo__tag">#$1</a>',s=e.caption.replace(/@([\w.]+)/g,t).replace(/#([\w]+)/g,a);_libRunnerJs2["default"].scheduleOnce("render",this,setInnerHTML,[s])}},t}(_libCoreViewJs2["default"]);exports["default"]=InstagramCaptionView,module.exports=exports["default"];
},{"../../lib/Runner.js":2,"../../lib/core/View.js":8}],128:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("./CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),_InstagramCaptionViewJs=require("./InstagramCaptionView.js"),_InstagramCaptionViewJs2=babelHelpers.interopRequireDefault(_InstagramCaptionViewJs),_LinksListViewJs=require("./LinksListView.js"),_LinksListViewJs2=babelHelpers.interopRequireDefault(_LinksListViewJs),InstagramCardView=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.instantiates={InstagramCaptionView:_InstagramCaptionViewJs2["default"],LinksListView:_LinksListViewJs2["default"]}}return babelHelpers.inherits(s,e),s.prototype.update=function(s){e.prototype.update.call(this,s),s.sponsored&&s.links&&s.links.length>0&&(this.links.update(s.links),this.linksSmall&&this.linksSmall.update(s.links))},s}(_CardViewJs2["default"]);exports["default"]=InstagramCardView,module.exports=exports["default"];
},{"./CardView.js":121,"./InstagramCaptionView.js":127,"./LinksListView.js":130}],129:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),LightboxNavButtonView=function(e){function i(){babelHelpers.classCallCheck(this,i),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(i,e),i}(_ButtonViewJs2["default"]);exports["default"]=LightboxNavButtonView,LightboxNavButtonView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../mixins/Hideable.js":60,"./ButtonView.js":120}],130:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ListViewJs=require("./ListView.js"),_ListViewJs2=babelHelpers.interopRequireDefault(_ListViewJs),LinksListView=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.itemIdentifier="type"}return babelHelpers.inherits(s,e),s}(_ListViewJs2["default"]);exports["default"]=LinksListView,module.exports=exports["default"];
},{"./ListView.js":131}],131:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),ListView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="ul",this.itemViewClass=_libCoreTemplateViewJs2["default"],this.itemIdentifier="id",this.children=[],_(this).childrenById={}}return babelHelpers.inherits(t,e),t.prototype.update=function(e){var t=this;this.element||this.create();var i=_(this),l=i.childrenById,r=i.childElement,s=this.children,n=new Array(e.length),a=function(e){return e[t.itemIdentifier]};_libUtilsJs.forEach(e,function(e,i){var o=a(e),d=l[o];if(!d){var c=r&&r.cloneNode(!0);d=l[o]=new t.itemViewClass(c),d.id=""+t.id+"--"+o,d.__listId__=o,d.target=d.attributes["data-target"]||null,d.action=d.attributes["data-action"]||null,d.on("action",function(e,i,l){if("view"!==e)return t.emit("action",e,i,l);if("function"!=typeof t[i])throw new TypeError("ListView ["+t.id+"] tried to handle action ["+i+"] of its "+("child ["+d.id+"] but it does not implement "+i+"()."));t[i].apply(t,babelHelpers.toConsumableArray(l))}),t.emit("addChild",d,i)}d.update(e),s[i]!==d&&t.append(d),n[i]=d}),_libUtilsJs.forEach(s,function(e,i){n.indexOf(e)<0&&(e.destroy(),l[e.__listId__]=void 0,t.emit("removeChild",e,i))}),this.children=n},t.prototype.didCreateElement=function(){var t=_libUtilsJs.filter(this.element.childNodes,function(e){return e instanceof Element});if(t.length>1)throw new RangeError("ListView ["+this.id+"] cannot have more than one child element in its template.");return _(this).childElement=t[0],this.element.innerHTML="",e.prototype.didCreateElement.call(this)},t}(_libCoreViewJs2["default"]);exports["default"]=ListView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../../lib/core/View.js":8,"../../lib/utils.js":13,"private-parts":187}],132:[function(require,module,exports){
module.exports='<section class="ballot__box"><h2 class="ballot__title ballot__title--results tk--hdr">Voting Results:</h2><ul class="ballot__list"><li class="ballot__resultsItem ballot__item0"><div class="ballot__result ballot__result0"><span class="ballot__btnLabel btn__label tk--action">{{results.0.choice}} : {{results.0.result}}</span></div></li><li class="ballot__resultsItem ballot__item1"><div class="ballot__result ballot__result1"><span class="ballot__btnLabel btn__label tk--action">{{results.1.choice}} : {{results.1.result}}</span></div></li></ul><div class="ballot__textLinks"><a data-view="watchAgainButton:ButtonView" data-target="controller" data-action="deactivate" title="Watch Video Again" class="ballot__textLink ballot__textLink--replay textLink spriteBe spriteBe--small uiIconsBe uiIconsBe--replay"><span class="textLink__label">Watch Video Again</span></a></div></section><div class="overlay"><button data-view="closeButton:ButtonView" data-target="controller" data-action="deactivate" class="sprite sprite--close overlay__closeBtn"><span class="ir">Close</span></button></div>';
},{}],133:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _BallotResultsViewJs=require("./BallotResultsView.js"),_BallotResultsViewJs2=babelHelpers.interopRequireDefault(_BallotResultsViewJs),_ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),ModalBallotResultsView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.classes.push("ballot__group","results-module","playerHeight","player__height"),this.template=require("./ModalBallotResultsView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"]}}return babelHelpers.inherits(l,e),l}(_BallotResultsViewJs2["default"]);exports["default"]=ModalBallotResultsView,module.exports=exports["default"];
},{"./BallotResultsView.js":117,"./ButtonView.js":120,"./ModalBallotResultsView.html":132}],134:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ActionableItemView2=require("./ActionableItemView"),_ActionableItemView3=babelHelpers.interopRequireDefault(_ActionableItemView2),_privateParts=require("private-parts"),_=_privateParts.createKey(),ModalShareItemView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).classes=[]}return babelHelpers.inherits(t,e),t.prototype.update=function(t){var a=this;for(e.prototype.update.call(this,t);_(this).classes.length>0;){var s=_(this).classes.pop();this.removeClass(s)}var l=["socialBtn__bg--"+t.type,"socialIconsBe__light--"+t.type];l.forEach(function(e){a.addClass(e),_(a).classes.push(e)})},t}(_ActionableItemView3["default"]);exports["default"]=ModalShareItemView,module.exports=exports["default"];
},{"./ActionableItemView":115,"private-parts":187}],135:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ListViewJs=require("./ListView.js"),_ListViewJs2=babelHelpers.interopRequireDefault(_ListViewJs),_ModalShareItemViewJs=require("./ModalShareItemView.js"),_ModalShareItemViewJs2=babelHelpers.interopRequireDefault(_ModalShareItemViewJs),ModalShareListView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.itemIdentifier="type",this.itemViewClass=_ModalShareItemViewJs2["default"]}return babelHelpers.inherits(i,e),i}(_ListViewJs2["default"]);exports["default"]=ModalShareListView,module.exports=exports["default"];
},{"./ListView.js":131,"./ModalShareItemView.js":134}],136:[function(require,module,exports){
module.exports='<section class="shareto__box"><span class="shareto__intro">Share this with your friends</span><ul data-view="shareLinks:ModalShareListView" class="shareto__list"><li class="socialBtn spriteBe socialIconsBe" data-target="controller" data-action="shareItemClicked"><a class="share__item share__item--{{type}}"><span>{{label}}</span></a></li></ul><button data-view="closeButton:ButtonView" data-target="controller" data-action="hideShare" class="sprite sprite--close overlay__closeBtn MiniReel__closeBtn--modal ui__btn"><span class="sprite sprite--close"><span class="ir">Close</span></span></button></section><div class="overlay"></div>';
},{}],137:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),_ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_ModalShareListViewJs=require("./ModalShareListView.js"),_ModalShareListViewJs2=babelHelpers.interopRequireDefault(_ModalShareListViewJs),ModalShareView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.template=require("./ModalShareView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"],ModalShareListView:_ModalShareListViewJs2["default"]}}return babelHelpers.inherits(i,e),i.prototype.update=function(i){e.prototype.update.call(this,i),i.shareLinks&&i.shareLinks.length>0&&this.shareLinks.update(i.shareLinks)},i}(_libCoreTemplateViewJs2["default"]);ModalShareView.mixin(_mixinsHideableJs2["default"]),exports["default"]=ModalShareView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../mixins/Hideable.js":60,"./ButtonView.js":120,"./ModalShareListView.js":135,"./ModalShareView.html":136}],138:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),PlayerOutletView=function(e){function l(){babelHelpers.classCallCheck(this,l),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(l,e),l.prototype.show=function(){this.removeClass("player--fly-away")},l.prototype.hide=function(){this.addClass("player--fly-away")},l}(_libCoreViewJs2["default"]);exports["default"]=PlayerOutletView,module.exports=exports["default"];
},{"../../lib/core/View.js":8}],139:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),_=_privateParts.createKey(),PlayerView=function(t){function i(){babelHelpers.classCallCheck(this,i),t.call.apply(t,[this].concat(babelHelpers.slice.call(arguments))),this.tag="main",this.nextButtons=[],this.previousButtons=[],this.closeButtons=[],this.skipTimers=[],this.navItems=[],this.navEnabled=!1,_(this).navigationShown=!0}return babelHelpers.inherits(i,t),i.prototype.update=function(i){var e;(e=t.prototype.update).call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),i.links&&this.links.update(i.links),"canGoForward"in i&&_libUtilsJs.forEach(this.nextButtons,function(t){i.canGoForward?t.enable():t.disable()}),"canGoBack"in i&&_libUtilsJs.forEach(this.previousButtons,function(t){i.canGoBack?t.enable():t.disable()})},i.prototype.disableNavigation=function(){_libUtilsJs.forEach(this.skipTimers,function(t){return t.show()}),this.hideNavigation(),this.navEnabled=!1},i.prototype.enableNavigation=function(){_libUtilsJs.forEach(this.skipTimers,function(t){return t.hide()}),this.showNavigation(),this.navEnabled=!0},i.prototype.updateSkipTimer=function(t){_libUtilsJs.forEach(this.skipTimers,function(i){return i.update(t)})},i.prototype.hideNavigation=function(){this.hidePaginators(),_(this).navigationShown=!1},i.prototype.showNavigation=function(){this.showPaginators(),_(this).navigationShown=!0},i.prototype.hidePaginators=function(){_libUtilsJs.forEach(this.navItems,function(t){return t.hide()})},i.prototype.showPaginators=function(){_libUtilsJs.forEach(this.navItems,function(t){return t.show()})},i.prototype.toggleNavigation=function(){this[_(this).navigationShown?"hideNavigation":"showNavigation"]()},i}(_libCoreTemplateViewJs2["default"]);exports["default"]=PlayerView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../../lib/utils.js":13,"private-parts":187}],140:[function(require,module,exports){
module.exports='<section class="ballot__box"><span class="ballot__intro">Please answer the following:</span><h2 class="ballot__title tk--hdr">{{ballot.prompt}}</h2><ul class="ballot__list"><li class="ballot__item ballot__item0"><button id="post-module-vote1" data-view="choice1Button:ButtonView" data-target="controller" data-action="vote" class="ballot__btn btnPrimary ballot__btn0" type="button" title="{{ballot.choice1}}"><span class="ballot__btnLabel btn__label tk--action">{{ballot.choice1}}</span></button></li><li class="ballot__item ballot__item1"><button id="post-module-vote2" data-view="choice2Button:ButtonView" data-target="controller" data-action="vote" class="ballot__btn btnPrimary ballot__btn1" type="button" title="{{ballot.choice2}}"><span class="ballot__btnLabel btn__label tk--action">{{ballot.choice2}}</span></button></li></ul><div class="ballot__textLinks"><a data-view="replayButton:ButtonView" data-target="controller" data-action="replay" title="Watch Video Again" class="ballot__textLink ballot__textLink--replay spriteBe uiIconsBe uiIconsBe--replay"><span class="textLink__label textLink">Watch Video Again</span></a> <a data-if="website" href="{{website}}" title="Visit Sponsor Site" target="_blank" class="ballot__textLink ballot__textLink--link spriteBe uiIconsBe uiIconsBe--link"><span class="textLink__label textLink">Visit Sponsor Site</span></a></div></section><div class="overlay"><button data-view="closeButton:ButtonView" data-target="controller" data-action="deactivate" class="sprite sprite--close overlay__closeBtn"><span class="ir">Close</span></button></div>';
},{}],141:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _PostViewJs=require("./PostView.js"),_PostViewJs2=babelHelpers.interopRequireDefault(_PostViewJs),PostBallotView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./PostBallotView.html")}return babelHelpers.inherits(t,e),t}(_PostViewJs2["default"]);exports["default"]=PostBallotView,module.exports=exports["default"];
},{"./PostBallotView.html":140,"./PostView.js":143}],142:[function(require,module,exports){
module.exports='<ul class="actionsModal__list"><li class="actionsModal__item"><button data-view="replayButton:ButtonView" data-target="controller" data-action="replay" class="btnPrimary actionsModal__btn spriteBe uiIconsBe uiIconsBe--replay" type="button" title="Watch Video Again"><span class="actionsModal__btnLabel btn__label tk--action">Watch Video Again</span></button></li><li class="actionsModal__item"><a data-if="website" class="btnPrimary actionsModal__btn spriteBe uiIconsBe uiIconsBe--link" title="Visit Sponsor Site" href="{{website}}" type="button" target="_blank"><span class="actionsModal__btnLabel btn__label tk--action">Visit Sponsor Site</span></a></li></ul><div class="overlay"><button data-view="closeButton:ButtonView" data-target="controller" data-action="deactivate" class="sprite sprite--close overlay__closeBtn"><span class="ir">Close</span></button></div>';
},{}],143:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),PostView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="div",this.classes.push("actionsModal__group","player__height"),this.template=require("./PostView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"]}}return babelHelpers.inherits(i,e),i}(_libCoreTemplateViewJs2["default"]);exports["default"]=PostView,PostView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../mixins/Hideable.js":60,"./ButtonView.js":120,"./PostView.html":142}],144:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),RecapCardItemView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="li"}return babelHelpers.inherits(l,e),l.prototype.click=function(){this.emit("select")},l}(_libCoreTemplateViewJs2["default"]);exports["default"]=RecapCardItemView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7}],145:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("./CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),RecapCardView=function(e){function r(){babelHelpers.classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(r,e),r.prototype.update=function(e){var r=this;this.cards||this.create(),e.cards&&(this.cards.on("addChild",function(t,s){t.on("select",function(){return r.emit("selectCard",e.cards[s].id)})}),this.cards.update(e.cards))},r}(_CardViewJs2["default"]);exports["default"]=RecapCardView,module.exports=exports["default"];
},{"./CardView.js":121}],146:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_mixinsHideableJs=require("../mixins/Hideable.js"),_mixinsHideableJs2=babelHelpers.interopRequireDefault(_mixinsHideableJs),SkipTimerView=function(e){function i(){babelHelpers.classCallCheck(this,i),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(i,e),i.prototype.update=function(i){return e.prototype.update.call(this,{remaining:i.toString()})},i.prototype.didCreateElement=function(){e.prototype.didCreateElement.call(this),this.update("...")},i}(_libCoreTemplateViewJs2["default"]);exports["default"]=SkipTimerView,SkipTimerView.mixin(_mixinsHideableJs2["default"]),module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"../mixins/Hideable.js":60}],147:[function(require,module,exports){
module.exports='<span class="page__previewImg">&nbsp;</span>';
},{}],148:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),ACTIVE_CLASS="page__btn--active",AD_CLASS="page__btn--ad",ThumbnailNavigatorButtonView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.classes.push("page__btn"),this.template=require("./ThumbnailNavigatorButtonView.html"),this.itemId=null}return babelHelpers.inherits(t,e),t.prototype.update=function(e){var t=e.id,i=e.title,s=e.thumb,l=e.active,a=e.ad;this.thumb||this.create(),this.itemId=t,this.setAttribute("title",i),this.thumb.setAttribute("style",'background-image: url("'+s+'");'),l?this.addClass(ACTIVE_CLASS):this.removeClass(ACTIVE_CLASS),a?this.addClass(AD_CLASS):this.removeClass(AD_CLASS)},t.prototype.didCreateElement=function(){e.prototype.didCreateElement.call(this),this.thumb=new _libCoreViewJs2["default"](this.element.firstChild)},t}(_ButtonViewJs2["default"]);exports["default"]=ThumbnailNavigatorButtonView,module.exports=exports["default"];
},{"../../lib/core/View.js":8,"./ButtonView.js":120,"./ThumbnailNavigatorButtonView.html":147}],149:[function(require,module,exports){
module.exports='<div class="pages__navBtn"><button data-view="button:ThumbnailNavigatorButtonView" data-target="controller" data-action="jump"></button></div>';
},{}],150:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_ThumbnailNavigatorButtonViewJs=require("./ThumbnailNavigatorButtonView.js"),_ThumbnailNavigatorButtonViewJs2=babelHelpers.interopRequireDefault(_ThumbnailNavigatorButtonViewJs),ThumbnailNavigatorItemView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.tag="li",this.classes.push("pages__item"),this.template=require("./ThumbnailNavigatorItemView.html"),this.instantiates={ThumbnailNavigatorButtonView:_ThumbnailNavigatorButtonViewJs2["default"]}}return babelHelpers.inherits(t,e),t.prototype.update=function(e){return this.button||this.create(),this.button.update(e)},t}(_libCoreTemplateViewJs2["default"]);exports["default"]=ThumbnailNavigatorItemView,module.exports=exports["default"];
},{"../../lib/core/TemplateView.js":7,"./ThumbnailNavigatorButtonView.js":148,"./ThumbnailNavigatorItemView.html":149}],151:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _ListViewJs=require("./ListView.js"),_ListViewJs2=babelHelpers.interopRequireDefault(_ListViewJs),_ThumbnailNavigatorItemViewJs=require("./ThumbnailNavigatorItemView.js"),_ThumbnailNavigatorItemViewJs2=babelHelpers.interopRequireDefault(_ThumbnailNavigatorItemViewJs),ThumbnailNavigatorListView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.itemViewClass=_ThumbnailNavigatorItemViewJs2["default"]}return babelHelpers.inherits(i,e),i}(_ListViewJs2["default"]);exports["default"]=ThumbnailNavigatorListView,module.exports=exports["default"];
},{"./ListView.js":131,"./ThumbnailNavigatorItemView.js":150}],152:[function(require,module,exports){
module.exports='<div data-view="skipTimer:SkipTimerView" class="adSkip__group" data-unless="enabled"><p class="adSkip__message"><strong>Skip in {{remaining}}</strong></p></div><button data-view="previousButton:ButtonView" data-target="controller" data-action="previous" class="btnPrimary pager__btn pager__btn--prev" type="button" title="Previous Page"><svg class="pager__btnIcon pager__btnIcon--prev" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 27.213 45.941" enable-background="new 0 0 27.213 45.941" xml:space="preserve"><path class="pager__btnIconPath pager__btnIconPath--prev" fill-rule="evenodd" clip-rule="evenodd" d="M22.971,0L0,22.971l22.971,22.97l4.243-4.243L8.485,22.971\n            L27.213,4.243L22.971,0z"></svg> <span class="pager__label btn__label tk--action">Prev</span></button> <button data-view="nextButton:ButtonView" data-target="controller" data-action="next" class="btnPrimary pager__btn pager__btn--next" type="button" title="Next Page"><svg class="pager__btnIcon pager__btnIcon--next" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 27.213 45.941" enable-background="new 0 0 27.213 45.941" xml:space="preserve"><path class="pager__btnIconPath pager__btnIconPath--next" fill-rule="evenodd" clip-rule="evenodd" d="M4.243,0l22.971,22.971L4.243,45.941L0,41.699l18.728-18.728L0,4.243\n        L4.243,0z"></svg> <span class="pager__label btn__label tk--action">Next</span></button><div data-if="thumbsShown" data-view="thumbsContainer:View" class="pages__group"><div data-view="thumbsScroller:View" class="pages__scroller"><div data-view="thumbs:ThumbnailNavigatorListView" class="pages__list"></div></div></div>';
},{}],153:[function(require,module,exports){
(function (global){
"use strict";function add(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return _libUtilsJs.reduce(t,function(e,t){return e+t},0)}function getWidth(e){var t=global.getComputedStyle(e);return add.apply(void 0,babelHelpers.toConsumableArray(_libUtilsJs.map([t.width,t.marginLeft,t.marginRight],parseFloat)))}function getMinWidth(e){return parseFloat(global.getComputedStyle(e).minWidth)}function setPrefixedStyle(e,t,i){var s=e.style;_libUtilsJs.forEach(["-webkit-","-moz-","-ms-","-o-",""],function(e){s[e+t]=i})}exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),_ButtonViewJs=require("./ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_SkipTimerViewJs=require("./SkipTimerView.js"),_SkipTimerViewJs2=babelHelpers.interopRequireDefault(_SkipTimerViewJs),_ThumbnailNavigatorListViewJs=require("./ThumbnailNavigatorListView.js"),_ThumbnailNavigatorListViewJs2=babelHelpers.interopRequireDefault(_ThumbnailNavigatorListViewJs),_libCoreViewJs=require("../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_libRunnerJs=require("../../lib/Runner.js"),_libRunnerJs2=babelHelpers.interopRequireDefault(_libRunnerJs),_privateParts=require("private-parts"),_libUtilsJs=require("../../lib/utils.js"),EXPANDED_CLASS="pager__group--fullWidth",_=_privateParts.createKey(),ThumbnailNavigatorView=function(e){function t(){var i=this;babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),_(this).width=0,_(this).buttonsWidth=0,_(this).thumbWidths=[],_(this).buttons=[],_(this).itemsPerPage=0,_(this).data=null,_(this).resizeHandler=function(){return i.resize()},this.tag="div",this.classes.push("pager__group"),this.template=require("./ThumbnailNavigatorView.html"),this.instantiates={View:_libCoreViewJs2["default"],ButtonView:_ButtonViewJs2["default"],SkipTimerView:_SkipTimerViewJs2["default"],ThumbnailNavigatorListView:_ThumbnailNavigatorListViewJs2["default"]}}return babelHelpers.inherits(t,e),t.prototype.resize=function(){function e(e,t){_libUtilsJs.forEach(e,function(e){return e.element.style.width=t})}_(this).width=this.element.offsetWidth,_(this).thumbWidths=_libUtilsJs.map(this.thumbs.children,function(e){return getWidth(e.element)}),_(this).buttonsWidth=add.apply(void 0,babelHelpers.toConsumableArray(_libUtilsJs.map(_(this).buttons,function(e){return getMinWidth(e.element)})));var t=_(this),i=t.width,s=t.thumbWidths,r=t.buttonsWidth,l=i-r,n=_(this).itemsPerPage=Math.floor(l/s[0]),a=_libUtilsJs.reduce(s,function(e,t){var i=e+t;return l>i?i:e},0),o=i-a,u=o/2-1,h=o/2,b=Math.ceil(s.length/n);this.thumbsContainer.element.style.left=""+h+"px",this.thumbsContainer.element.style.right=""+h+"px",b>1?e(_(this).buttons,""+u+"px"):e(_(this).buttons,""),this.scrollToActiveItem()},t.prototype.scrollToActiveItem=function(){var e=_(this),t=e.itemsPerPage,i=e.data.items,s=i.indexOf(_libUtilsJs.find(i,function(e){return e.active}));if(!(0>s)){var r=Math.floor(s/t),l=-(100*r),n=this.thumbsScroller.element;setPrefixedStyle(n,"transform","translateX("+l+"%)")}},t.prototype.update=function(t){return this.element||this.create(),this.thumbs.update(t.items),t.expanded?this.addClass(EXPANDED_CLASS):this.removeClass(EXPANDED_CLASS),t.enablePrevious?this.previousButton.enable():this.previousButton.disable(),t.enableNext?this.nextButton.enable():this.nextButton.disable(),_(this).data=t,_libRunnerJs2["default"].scheduleOnce("afterRender",this,"scrollToActiveItem"),e.prototype.update.call(this,t)},t.prototype.didCreateElement=function(){var t=this;e.prototype.didCreateElement.call(this),_(this).buttons=[this.previousButton,this.nextButton],this.thumbs.on("addChild",function(){return _libRunnerJs2["default"].scheduleOnce("afterRender",t,"resize")})},t.prototype.didInsertElement=function(){e.prototype.didInsertElement.call(this),global.addEventListener("resize",_(this).resizeHandler,!1)},t.prototype.willRemoveElement=function(){e.prototype.willRemoveElement.call(this),global.removeEventListener("resize",_(this).resizeHandler,!1)},t}(_libCoreTemplateViewJs2["default"]);exports["default"]=ThumbnailNavigatorView,module.exports=exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../lib/Runner.js":2,"../../lib/core/TemplateView.js":7,"../../lib/core/View.js":8,"../../lib/utils.js":13,"./ButtonView.js":120,"./SkipTimerView.js":146,"./ThumbnailNavigatorListView.js":151,"./ThumbnailNavigatorView.html":152,"private-parts":187}],154:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("./CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),_libUtilsJs=require("../../lib/utils.js"),VideoCardView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.moduleOutlets={}}return babelHelpers.inherits(t,e),t.prototype.update=function(t){return t.links?(e.prototype.update.call(this,_libUtilsJs.extend(t,{isSponsored:!!(t.logo||t.links.length>0||t.sponsor),hasSponsoredCopy:!!(t.links.length>0||t.sponsor),hasLinks:!!(t.links.length>0||t.website)})),void this.links.update(t.links)):e.prototype.update.call(this,t)},t.prototype.didCreateElement=function(){var t;(t=e.prototype.didCreateElement).call.apply(t,[this].concat(babelHelpers.slice.call(arguments))),this.moduleOutlets={displayAd:this.displayAdOutlet,post:this.postOutlet}},t}(_CardViewJs2["default"]);exports["default"]=VideoCardView,module.exports=exports["default"];
},{"../../lib/utils.js":13,"./CardView.js":121}],155:[function(require,module,exports){
module.exports='<article class="card__group" data-class="sponsored:instag____card__group--sponsored"><div class="instag____player__group player__height playerHeight"><section class="instag____profile__group"><div class="clearfix"><a href="{{userHref}}" target="_blank" class="instag____profile__picBox"><img class="instag____profile__pic" src="{{userPicture}}"></a> <span data-if="sponsored" class="instag____profile__sponsor">Sponsored by</span> <a href="{{userHref}}" target="_blank" class="instag____profile__name">{{userUsername}}</a></div><ul data-if="links.length" data-view="links:LinksListView" class="instag____socialMedia__group"><li class="instag____socialMedia__icon"><a href="{{href}}" target="_blank" class="instag____socialMedia__icon--{{type}}"><span class="ir">{{label}}</span></a></li></ul><div class="instag____profileDesc__group"><p class="instag____profileDesc"><span class="instag____profileDesc__name">{{userFullname}}</span> {{userBio}} <a href="{{userWebsite}}" target="_blank" class="instag____profileDesc__link">{{userWebsite}}</a></p><ul class="instag____profileData__group"><li class="instag____profileData"><span class="instag____profileData__stat">{{userPosts}}</span> posts</li><li class="instag____profileData"><span class="instag____profileData__stat">{{userFollowers}}</span> followers</li><li class="instag____profileData"><span class="instag____profileData__stat">{{userFollowing}}</span> following</li></ul><a href="{{userFollow}}" target="_blank" class="instag____profileDesc__follow">Follow</a> <a href="{{href}}" target="_blank" class="instag____profileDesc__logo"><span class="ir">Instagram</span></a></div></section><section class="instag____mediaImg__group"><div class="instag____mediaImg" style="background-image:url(\'{{mediaSrc}}\')"><div class="ir"><img src="{{mediaSrc}}"></div></div></section><section class="instag____post__group"><div data-unless="hideTitle" class="instag____post__title">{{title}}</div><div class="instag____postAccount__group--small clearfix"><div class="clearfix"><a href="{{userHref}}" target="_blank"><img src="{{userPicture}}" class="instag____postAccount__pic"></a> <span data-if="sponsored" class="instag____profile__sponsor">Sponsored by</span> <a href="{{userHref}}" target="_blank" class="instag____postAccount__name">{{userUsername}}</a> <a href="{{href}}" target="_blank" class="instag____postAccount__logo"><span class="ir">Instagram</span></a></div><ul data-if="links.length" data-view="linksSmall:LinksListView" class="instag____socialMedia__group"><li class="instag____socialMedia__icon"><a href="{{href}}" target="_blank" class="instag____socialMedia__icon--{{type}}"><span class="ir">{{label}}</span></a></li></ul></div><div class="instag____postInfo__group clearfix"><span class="instag____postInfo__likes">{{likes}} likes</span><a href="{{href}}" target="_blank" class="instag____postInfo__date">{{date}}</a><div class="instag____postInfo__copy"><a href="{{userHref}}" target="_blank" class="instag____postInfo__name">{{userUsername}}</a> <span data-view="captionView:InstagramCaptionView"></span><div data-if="action.label"><a data-if="action.isText" href="{{action.href}}" target="_blank" class="instag____postInfo__cta--link">{{action.label}}</a> <a data-if="action.isButton" href="{{action.href}}" target="_blank" class="instag____postInfo__cta--btn">{{action.label}}</a></div><a href="{{href}}" target="_blank" class="instag____postInfo__comments">view {{comments}} comments</a></div></div><a href="{{href}}" target="_blank" class="instag____postInfo__feedback"><span class="instag____postInfo__comment">Add a comment...</span></a></section></div></article>';
},{}],156:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _InstagramCardViewJs=require("../InstagramCardView.js"),_InstagramCardViewJs2=babelHelpers.interopRequireDefault(_InstagramCardViewJs),FullInstagramImageCardView=function(e){function a(){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./FullInstagramImageCardView.html")}return babelHelpers.inherits(a,e),a}(_InstagramCardViewJs2["default"]);exports["default"]=FullInstagramImageCardView,module.exports=exports["default"];
},{"../InstagramCardView.js":128,"./FullInstagramImageCardView.html":155}],157:[function(require,module,exports){
module.exports='<article class="card__group" data-class="sponsored:instag____card__group--sponsored"><div class="instag____player__group player__height playerHeight"><section class="instag____profile__group"><div class="clearfix"><a href="{{userHref}}" target="_blank" class="instag____profile__picBox"><img class="instag____profile__pic" src="{{userPicture}}"></a> <span data-if="sponsored" class="instag____profile__sponsor">Sponsored by</span> <a href="{{userHref}}" target="_blank" class="instag____profile__name">{{userUsername}}</a></div><ul data-if="links.length" data-view="links:LinksListView" class="instag____socialMedia__group"><li class="instag____socialMedia__icon"><a href="{{href}}" target="_blank" class="instag____socialMedia__icon--{{type}}"><span class="ir">{{label}}</span></a></li></ul><div class="instag____profileDesc__group"><p class="instag____profileDesc"><span class="instag____profileDesc__name">{{userFullname}}</span> {{userBio}} <a href="{{userWebsite}}" target="_blank" class="instag____profileDesc__link">{{userWebsite}}</a></p><ul class="instag____profileData__group"><li class="instag____profileData"><span class="instag____profileData__stat">{{userPosts}}</span> posts</li><li class="instag____profileData"><span class="instag____profileData__stat">{{userFollowers}}</span> followers</li><li class="instag____profileData"><span class="instag____profileData__stat">{{userFollowing}}</span> following</li></ul><a href="{{userFollow}}" target="_blank" class="instag____profileDesc__follow">Follow</a> <a href="{{href}}" target="_blank" class="instag____profileDesc__logo"><span class="ir">Instagram</span></a></div></section><section class="instag____mediaVid__group"><div class="instag____mediaVid__box"><div data-view="playerOutlet:PlayerOutletView" class="instag____mediaVid"></div></div></section><section class="instag____post__group"><div data-unless="hideTitle" class="instag____post__title">{{title}}</div><div class="instag____postAccount__group--small clearfix"><div class="clearfix"><a href="{{userHref}}" target="_blank"><img src="{{userPicture}}" class="instag____postAccount__pic"></a> <span data-if="sponsored" class="instag____profile__sponsor">Sponsored by</span> <a href="{{userHref}}" target="_blank" class="instag____postAccount__name">{{userUsername}}</a> <a href="{{href}}" target="_blank" class="instag____postAccount__logo"><span class="ir">Instagram</span></a></div><ul data-if="links.length" data-view="linksSmall:LinksListView" class="instag____socialMedia__group"><li class="instag____socialMedia__icon"><a href="{{href}}" target="_blank" class="instag____socialMedia__icon--{{type}}"><span class="ir">{{label}}</span></a></li></ul></div><div class="instag____postInfo__group clearfix"><span class="instag____postInfo__likes">{{likes}} likes</span><a href="{{href}}" target="_blank" class="instag____postInfo__date">{{date}}</a><div class="instag____postInfo__copy"><a href="{{userHref}}" target="_blank" class="instag____postInfo__name">{{userUsername}}</a> <span data-view="captionView:InstagramCaptionView"></span><div data-if="action.label"><a data-if="action.isText" href="{{action.href}}" target="_blank" class="instag____postInfo__cta--link">{{action.label}}</a> <a data-if="action.isButton" href="{{action.href}}" target="_blank" class="instag____postInfo__cta--btn">{{action.label}}</a></div><a href="{{href}}" target="_blank" class="instag____postInfo__comments">view {{comments}} comments</a></div></div><a href="{{href}}" target="_blank" class="instag____postInfo__feedback"><span class="instag____postInfo__comment">Add a comment...</span></a></section></div></article>';
},{}],158:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _InstagramCardViewJs=require("../InstagramCardView.js"),_InstagramCardViewJs2=babelHelpers.interopRequireDefault(_InstagramCardViewJs),_PlayerOutletViewJs=require("../PlayerOutletView.js"),_PlayerOutletViewJs2=babelHelpers.interopRequireDefault(_PlayerOutletViewJs),FullInstagramVideoCardView=function(e){function a(){babelHelpers.classCallCheck(this,a),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.instantiates.PlayerOutletView=_PlayerOutletViewJs2["default"],this.template=require("./FullInstagramVideoCardView.html")}return babelHelpers.inherits(a,e),a}(_InstagramCardViewJs2["default"]);exports["default"]=FullInstagramVideoCardView,module.exports=exports["default"];
},{"../InstagramCardView.js":128,"../PlayerOutletView.js":138,"./FullInstagramVideoCardView.html":157}],159:[function(require,module,exports){
module.exports='<div class="recap__imgBox"><div class="recap__img" style="background-image:url({{thumb}})">&nbsp;</div></div><div class="recap__copyBox"><h1 data-unless="isSponsored" class="card__title tk--hdr">{{title}} <span data-if="showSource" class="card__attributes tk--copy">via <a href="{{href}}" target="_blank" class="textLink" title="{{source}}" onclick="arguments[0].stopPropagation()">{{source}}</a></span></h1><div data-if="isSponsored" class="sponsorProfile__group clearfix"><a data-if="logo" href="{{website}}" target="_blank" title="{{sponsor}}" class="sponsorProfile__imgBox" onclick="arguments[0].stopPropagation()"><img src="{{logo}}" alt="{{sponsor}}" class="sponsorProfile__img"></a><div class="sponsorProfile__copy"><h1 class="card__title tk--hdr">{{title}}</h1><div data-if="sponsor" class="card__attributes sponsorProfile__tag">Sponsored by <a href="{{website}}" target="_blank" title="{{sponsor}}" class="textLink" onclick="arguments[0].stopPropagation()">{{sponsor}}</a></div><div data-view="links:LinksListView" data-if="links.length" class="sponsorProfile__links"><span><a title="{{label}}" href="{{href}}" target="_blank" onclick="arguments[0].stopPropagation()" class="sponsorProfile__link spriteBe socialIconsBe socialIconsBe--{{type}}"><span class="ir">{{label}}</span></a></span></div></div></div><div class="card__desc card__desc--recapCard">{{note}}</div></div>';
},{}],160:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _RecapCardItemViewJs=require("../RecapCardItemView.js"),_RecapCardItemViewJs2=babelHelpers.interopRequireDefault(_RecapCardItemViewJs),_LinksListViewJs=require("../LinksListView.js"),_LinksListViewJs2=babelHelpers.interopRequireDefault(_LinksListViewJs),FullRecapCardItemView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.classes.push("recap__item","clearfix"),this.template=require("./FullRecapCardItemView.html"),this.instantiates={LinksListView:_LinksListViewJs2["default"]}}return babelHelpers.inherits(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),this.addClass("recap__item--"+t.type),this.links.update(t.links)},t}(_RecapCardItemViewJs2["default"]);exports["default"]=FullRecapCardItemView,module.exports=exports["default"];
},{"../LinksListView.js":130,"../RecapCardItemView.js":144,"./FullRecapCardItemView.html":159}],161:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _viewsListViewJs=require("../../views/ListView.js"),_viewsListViewJs2=babelHelpers.interopRequireDefault(_viewsListViewJs),_FullRecapCardItemViewJs=require("./FullRecapCardItemView.js"),_FullRecapCardItemViewJs2=babelHelpers.interopRequireDefault(_FullRecapCardItemViewJs),FullRecapCardListView=function(e){function s(){babelHelpers.classCallCheck(this,s),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.itemViewClass=_FullRecapCardItemViewJs2["default"]}return babelHelpers.inherits(s,e),s}(_viewsListViewJs2["default"]);exports["default"]=FullRecapCardListView,module.exports=exports["default"];
},{"../../views/ListView.js":131,"./FullRecapCardItemView.js":160}],162:[function(require,module,exports){
module.exports='<div class="imgCard__imgBox" style="background-image:url({{src}})"><img class="imgCard__img" src="{{src}}"></div>';
},{}],163:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),FlickrEmbedView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./FlickrEmbedView.html"),this.classes.push("imgCard"),this.tag="div"}return babelHelpers.inherits(l,e),l}(_libCoreTemplateViewJs2["default"]);exports["default"]=FlickrEmbedView,module.exports=exports["default"];
},{"../../../lib/core/TemplateView.js":7,"./FlickrEmbedView.html":162}],164:[function(require,module,exports){
module.exports='<div class="imgCard__gettyEmbed"><div class="imgCard__iframeHolder"><iframe class="imgCard__iframe imgCard__iframe--getty" src="{{src}}" scrolling="no" frameborder="0"></iframe></div><p class="gettyFooter"><a href="http://www.gettyimages.com/detail/{{imageid}}" target="_blank">View image</a> | <a href="http://www.gettyimages.com" target="_blank">gettyimages.com</a></p></div>';
},{}],165:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),GettyEmbedView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./GettyEmbedView.html"),this.classes.push("imgCard","imgCard--getty"),this.tag="div"}return babelHelpers.inherits(t,e),t}(_libCoreTemplateViewJs2["default"]);exports["default"]=GettyEmbedView,module.exports=exports["default"];
},{"../../../lib/core/TemplateView.js":7,"./GettyEmbedView.html":164}],166:[function(require,module,exports){
arguments[4][162][0].apply(exports,arguments)
},{"dup":162}],167:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _libCoreTemplateViewJs=require("../../../lib/core/TemplateView.js"),_libCoreTemplateViewJs2=babelHelpers.interopRequireDefault(_libCoreTemplateViewJs),WebEmbedView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./WebEmbedView.html"),this.classes.push("imgCard"),this.tag="div"}return babelHelpers.inherits(l,e),l}(_libCoreTemplateViewJs2["default"]);exports["default"]=WebEmbedView,module.exports=exports["default"];
},{"../../../lib/core/TemplateView.js":7,"./WebEmbedView.html":166}],168:[function(require,module,exports){
module.exports='<article class="card__group"><ul data-view="cards:FullRecapCardListView" class="recap__list"></ul></article>';
},{}],169:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _RecapCardViewJs=require("../RecapCardView.js"),_RecapCardViewJs2=babelHelpers.interopRequireDefault(_RecapCardViewJs),_fullFullRecapCardListViewJs=require("../full/FullRecapCardListView.js"),_fullFullRecapCardListViewJs2=babelHelpers.interopRequireDefault(_fullFullRecapCardListViewJs),LightboxPlaylistRecapCardView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxPlaylistRecapCardView.html"),this.instantiates={FullRecapCardListView:_fullFullRecapCardListViewJs2["default"]}}return babelHelpers.inherits(l,e),l}(_RecapCardViewJs2["default"]);exports["default"]=LightboxPlaylistRecapCardView,module.exports=exports["default"];
},{"../RecapCardView.js":145,"../full/FullRecapCardListView.js":161,"./LightboxPlaylistRecapCardView.html":168}],170:[function(require,module,exports){
module.exports='<article class="card__group"><div class="article__group playerHeight"><iframe src="{{src}}" sandbox="allow-same-origin allow-forms allow-popups allow-scripts"></iframe></div></article>';
},{}],171:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("../CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),LightboxArticleCardView=function(e){function r(){babelHelpers.classCallCheck(this,r),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxArticleCardView.html")}return babelHelpers.inherits(r,e),r}(_CardViewJs2["default"]);exports["default"]=LightboxArticleCardView,module.exports=exports["default"];
},{"../CardView.js":121,"./LightboxArticleCardView.html":170}],172:[function(require,module,exports){
module.exports='<div class="experience__group" data-class="sponsor:experience__group--brandedMR isSolo:experience__group--soloMR"><div class="experience"><div class="MiniReel__group"><button data-view="closeButton:ButtonView" data-target="controller" data-action="close" data-if="closeable" class="MiniReel__closeBtn ui__btn" type="button"><span class="sprite sprite--close"><span class="ir">Close</span></span></button><div class="titleBar__group clearfix"><a data-if="logo" href="{{website}}" title="{{sponsor}}" target="_blank" class="brandProfile__logoBox"><img class="brandProfile__logo" alt="{{sponsor}}" src="{{logo}}"></a><h1 class="titleBar__title"><span data-if="sponsor" class="brandedMR__tagline"><a href="{{website}}" target="_blank" title="{{sponsor}}" class="brandedMR__taglineBrand textLink">{{sponsor}}</a> Presents</span> <span class="titleBar__titleText tk--hdr">{{title}}</span></h1><div class="publisherProfile__logoBox">&nbsp;</div></div><article class="cards__group"><ul data-view="cards:DeckView" class="cards__list"></ul><ul data-view="prerollOutlet:DeckView" class="cards__list"></ul><button data-view="previousButton:LightboxNavButtonView" data-target="controller" data-action="previous" data-unless="isSolo" class="btnSecondary nav__btn nav__btn--prev nav__btn--{{cardType}} c6-fade" type="button" title="Previous Page"><svg class="nav__btnIcon nav__btnIcon--prev" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 27.213 45.941" enable-background="new 0 0 27.213 45.941" xml:space="preserve"><path class="nav__btnPath" fill-rule="evenodd" clip-rule="evenodd" d="M22.971,0L0,22.971l22.971,22.97l4.243-4.243L8.485,22.971\n                            L27.213,4.243L22.971,0z"></svg> <span class="ir">Prev</span></button> <button data-view="nextButton:LightboxNavButtonView" data-target="controller" data-action="next" data-unless="isSolo" class="btnSecondary nav__btn nav__btn--next nav__btn--{{cardType}} c6-fade" type="button" title="Next Page"><svg class="nav__btnIcon nav__btnIcon--next" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 27.213 45.941" enable-background="new 0 0 27.213 45.941" xml:space="preserve"><path class="nav__btnPath" fill-rule="evenodd" clip-rule="evenodd" d="M4.243,0l22.971,22.971L4.243,45.941L0,41.699l18.728-18.728L0,4.243\n                        L4.243,0z"></svg> <span class="ir">Next</span></button></article><div data-view="pagerOutlet:View"></div></div><div data-if="hasLinks" class="brandProfile__linksBox"><a data-if="website" href="{{website}}" title="{{sponsor}} &mdash; Official Website" target="_blank" class="brandProfile__link"><span class="brandProfile__linkLabel">{{sponsor}} Website</span></a> <span data-view="links:LinksListView" data-if="links.length"><span><a href="{{href}}" title="{{label}}" target="_blank" class="brandProfile__link tk--{{type}} spriteBe socialIconsBe socialIconsBe__light--{{type}}"><span class="brandProfile__linkLabel">{{label}}</span></a></span></span></div></div></div><div class="overlay">&nbsp;</div>';
},{}],173:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _PlayerViewJs=require("../PlayerView.js"),_PlayerViewJs2=babelHelpers.interopRequireDefault(_PlayerViewJs),_ButtonViewJs=require("../ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),_libCoreViewJs=require("../../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_LightboxNavButtonViewJs=require("../LightboxNavButtonView.js"),_LightboxNavButtonViewJs2=babelHelpers.interopRequireDefault(_LightboxNavButtonViewJs),_LinksListViewJs=require("../LinksListView.js"),_LinksListViewJs2=babelHelpers.interopRequireDefault(_LinksListViewJs),_DeckViewJs=require("../DeckView.js"),_DeckViewJs2=babelHelpers.interopRequireDefault(_DeckViewJs),LightboxPlayerView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxPlayerView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"],LightboxNavButtonView:_LightboxNavButtonViewJs2["default"],View:_libCoreViewJs2["default"],LinksListView:_LinksListViewJs2["default"],DeckView:_DeckViewJs2["default"]}}return babelHelpers.inherits(t,e),t.prototype.didCreateElement=function(){e.prototype.didCreateElement.call(this),this.closeButtons.push(this.closeButton),this.previousButtons.push(this.previousButton),this.nextButtons.push(this.nextButton),this.navItems.push(this.previousButton,this.nextButton),this.enableNavigation()},t}(_PlayerViewJs2["default"]);exports["default"]=LightboxPlayerView,module.exports=exports["default"];
},{"../../../lib/core/View.js":8,"../ButtonView.js":120,"../DeckView.js":122,"../LightboxNavButtonView.js":129,"../LinksListView.js":130,"../PlayerView.js":139,"./LightboxPlayerView.html":172}],174:[function(require,module,exports){
module.exports='<div class="card__group"><div class="player__group playerHeight"><h1 class="videoAd__label">Advertisement</h1><div data-view="playerOutlet:PlayerOutletView" class="js-playerBox player"></div></div><section data-view="companionOutlet:View" class="companionAd__group"></section></div>';
},{}],175:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("../CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),_PlayerOutletViewJs=require("../PlayerOutletView.js"),_PlayerOutletViewJs2=babelHelpers.interopRequireDefault(_PlayerOutletViewJs),_libCoreViewJs=require("../../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),LightboxPrerollCardView=function(e){function l(){babelHelpers.classCallCheck(this,l),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxPrerollCardView.html"),this.instantiates={PlayerOutletView:_PlayerOutletViewJs2["default"],View:_libCoreViewJs2["default"]}}return babelHelpers.inherits(l,e),l}(_CardViewJs2["default"]);exports["default"]=LightboxPrerollCardView,module.exports=exports["default"];
},{"../../../lib/core/View.js":8,"../CardView.js":121,"../PlayerOutletView.js":138,"./LightboxPrerollCardView.html":174}],176:[function(require,module,exports){
module.exports='<div class="textOnly__group"><div class="textOnly__copy"><h1 class="card__title textOnly__title tk--hdr">{{title}}</h1><div class="card__desc">{{note}}</div><button data-view="beginButton:ButtonView" data-target="controller" data-action="advance" class="textOnly__goBtn btnPrimary" type="button" title="Begin"><span class="btn__label tk--action">Begin</span></button></div><button data-view="posterButton:ButtonView" data-target="controller" data-action="advance" class="textOnly__imgBox" style="background-image:url(\'{{thumbs.large}}\')" type="button" title="Begin">&nbsp;</button></div>';
},{}],177:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _CardViewJs=require("../CardView.js"),_CardViewJs2=babelHelpers.interopRequireDefault(_CardViewJs),_ButtonViewJs=require("../ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),LightboxTextCardView=function(e){function t(){babelHelpers.classCallCheck(this,t),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxTextCardView.html"),this.instantiates={ButtonView:_ButtonViewJs2["default"]}}return babelHelpers.inherits(t,e),t}(_CardViewJs2["default"]);exports["default"]=LightboxTextCardView,module.exports=exports["default"];
},{"../ButtonView.js":120,"../CardView.js":121,"./LightboxTextCardView.html":176}],178:[function(require,module,exports){
module.exports='<article class="card__group"><div data-view="ballotOutlet:View"></div><div data-view="ballotResultsOutlet:View"></div><div data-view="postOutlet:View"></div><div data-view="shareOutlet:View"></div><div class="player__group playerHeight"><div data-view="playerOutlet:PlayerOutletView" class="js-playerBox player"></div></div><div class="card__copy" data-class="hasDisplayAd:card__copy--companionAd"><h1 class="card__title tk--hdr">{{title}} <span data-if="showSource" class="card__attributes tk--copy">via&nbsp;<a href="{{href}}" target="_blank" class="textLink" title="{{source}}">{{source}}</a></span></h1><div class="sponsorProfile__group clearfix" data-if="isSponsored"><a data-if="logo" href="{{website}}" target="_blank" title="{{sponsor}}" class="sponsorProfile__imgBox"><img src="{{logo}}" alt="{{sponsor}}" class="sponsorProfile__img"></a><div class="sponsorProfile__copy" data-if="hasSponsoredCopy"><div class="card__attributes sponsorProfile__tag" data-if="sponsor">Sponsored by <a href="{{website}}" target="_blank" title="{{sponsor}}" class="textLink">{{sponsor}}</a></div><div data-view="links:LinksListView" class="sponsorProfile__links" data-if="links.length"><span><a title="{{label}}" href="{{href}}" target="_blank" class="sponsorProfile__link spriteBe socialIconsBe socialIconsBe--{{type}}"><span class="ir">{{label}}</span></a></span></div><div data-if="canShare" class="sponsorProfile__linkBtn"><span><button data-view="shareButton:ButtonView" data-target="controller" data-action="showShare"><span class="spriteBe socialIconsBe socialIconsBe__solid--share shareBtn"><span class="shareBtn__label">Share</span></span></button></span></div></div></div><div class="card__desc">{{note}}</div><div class="card__desc sponsor__actions" data-if="action.label"><a data-if="action.isText" title="{{action.label}}" href="{{action.href}}" target="_blank" class="textLink">{{action.label}}</a> <a data-if="action.isButton" href="{{action.href}}" target="_blank" class="sponsor__goBtn btnPrimary" title="{{action.label}}"><span class="btn__label tk--action">{{action.label}}</span></a></div></div><div data-view="displayAdOutlet:View"></div></article>';
},{}],179:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _VideoCardViewJs=require("../VideoCardView.js"),_VideoCardViewJs2=babelHelpers.interopRequireDefault(_VideoCardViewJs),_libCoreViewJs=require("../../../lib/core/View.js"),_libCoreViewJs2=babelHelpers.interopRequireDefault(_libCoreViewJs),_PlayerOutletViewJs=require("../PlayerOutletView.js"),_PlayerOutletViewJs2=babelHelpers.interopRequireDefault(_PlayerOutletViewJs),_LinksListViewJs=require("../LinksListView.js"),_LinksListViewJs2=babelHelpers.interopRequireDefault(_LinksListViewJs),_ButtonViewJs=require("../ButtonView.js"),_ButtonViewJs2=babelHelpers.interopRequireDefault(_ButtonViewJs),LightboxVideoCardView=function(e){function i(){babelHelpers.classCallCheck(this,i),e.call.apply(e,[this].concat(babelHelpers.slice.call(arguments))),this.template=require("./LightboxVideoCardView.html"),this.instantiates={View:_libCoreViewJs2["default"],PlayerOutletView:_PlayerOutletViewJs2["default"],LinksListView:_LinksListViewJs2["default"],ButtonView:_ButtonViewJs2["default"]}}return babelHelpers.inherits(i,e),i}(_VideoCardViewJs2["default"]);exports["default"]=LightboxVideoCardView,module.exports=exports["default"];
},{"../../../lib/core/View.js":8,"../ButtonView.js":120,"../LinksListView.js":130,"../PlayerOutletView.js":138,"../VideoCardView.js":154,"./LightboxVideoCardView.html":178}],180:[function(require,module,exports){
(function (process,global){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function r(){}function o(){return function(){process.nextTick(c)}}function i(){var t=0,e=new F(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function s(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}function u(){return function(){setTimeout(c,1)}}function c(){for(var t=0;D>t;t+=2){var e=N[t],n=N[t+1];e(n),N[t]=void 0,N[t+1]=void 0}D=0}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(e){return z.error=e,z}}function p(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function _(t,e,n){Y(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?m(t,n):w(t,n))},function(e){r||(r=!0,g(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,g(t,o))},t)}function d(t,e){e._state===W?w(t,e._result):t._state===q?g(t,e._result):b(e,void 0,function(e){m(t,e)},function(e){g(t,e)})}function v(t,n){if(n.constructor===t.constructor)d(t,n);else{var r=h(n);r===z?g(t,z.error):void 0===r?w(t,n):e(r)?_(t,n,r):w(t,n)}}function m(e,n){e===n?g(e,f()):t(n)?v(e,n):w(e,n)}function y(t){t._onerror&&t._onerror(t._result),A(t)}function w(t,e){t._state===U&&(t._result=e,t._state=W,0===t._subscribers.length||Y(A,t))}function g(t,e){t._state===U&&(t._state=q,t._result=e,Y(y,t))}function b(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+W]=n,o[i+q]=r,0===i&&t._state&&Y(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function j(){this.error=null}function E(t,e){try{return t(e)}catch(n){return B.error=n,B}}function P(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=E(r,o),i===B?(c=!0,s=i.error,i=null):u=!0,n===i)return void g(n,l())}else i=o,u=!0;n._state!==U||(a&&u?m(n,i):c?g(n,s):t===W?w(n,i):t===q&&g(n,i))}function T(t,e){try{e(function(e){m(t,e)},function(e){g(t,e)})}catch(n){g(t,n)}}function S(t,e,n,r){this._instanceConstructor=t,this.promise=new t(a,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):g(this.promise,this._validationError())}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(t){this._id=V++,this._state=void 0,this._result=void 0,this._subscribers=[],a!==t&&(e(t)||k(),this instanceof O||M(),T(this,t))}var C;C=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var R,x=C,D=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return r.prototype=t,new r},0),Y=function(t,e){N[D]=t,N[D+1]=e,D+=2,2===D&&R()},I="undefined"!=typeof window?window:{},F=I.MutationObserver||I.WebKitMutationObserver,K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3);R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?o():F?i():K?s():u();var U=void 0,W=1,q=2,z=new j,B=new j;S.prototype._validateInput=function(t){return x(t)},S.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},S.prototype._init=function(){this._result=new Array(this.length)};var G=S;S.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===U&&t>r;r++)this._eachEntry(n[r],r)},S.prototype._eachEntry=function(t,e){var r=this._instanceConstructor;n(t)?t.constructor===r&&t._state!==U?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(r.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(W,e,t))},S.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===U&&(this._remaining--,this._abortOnReject&&t===q?g(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&w(r,this._result)},S.prototype._makeResult=function(t,e,n){return n},S.prototype._willSettleAt=function(t,e){var n=this;b(t,void 0,function(t){n._settledAt(W,e,t)},function(t){n._settledAt(q,e,t)})};var H=function(t,e){return new G(this,t,!0,e).promise},J=function(t,e){function n(t){m(i,t)}function r(t){g(i,t)}var o=this,i=new o(a,e);if(!x(t))return g(i,new TypeError("You must pass an array to race.")),i;for(var s=t.length,u=0;i._state===U&&s>u;u++)b(o.resolve(t[u]),void 0,n,r);return i},L=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(a,e);return m(r,t),r},Q=function(t,e){var n=this,r=new n(a,e);return g(r,t),r},V=0,X=O;O.all=H,O.race=J,O.resolve=L,O.reject=Q,O.prototype={constructor:O,then:function(t,e){var n=this,r=n._state;if(r===W&&!t||r===q&&!e)return this;var o=new this.constructor(a),i=n._result;if(r){var s=arguments[r-1];Y(function(){P(r,o,s,i)})}else b(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var Z=function(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var n="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var n;return new t.Promise(function(t){n=t}),e(n)}();n||(t.Promise=X)},$={Promise:X,polyfill:Z};"function"==typeof define&&define.amd?define(function(){return $}):"undefined"!=typeof module&&module.exports?module.exports=$:"undefined"!=typeof this&&(this.ES6Promise=$)}).call(this);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":183}],181:[function(require,module,exports){
module.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")};
},{}],182:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
},{}],183:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],184:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],185:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],186:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":184,"./encode":185}],187:[function(require,module,exports){
function createKey(e){e="function"==typeof e?e:createBound(e);var t=new WeakMap,n=new WeakMap;return function(r){if("object"==typeof r){var c=t.get(r);return c||(n.has(r)?c=r:(c=e(r),t.set(r,c),n.set(c,!0))),c}}}function createBound(e){return function(){return Object.create(e||Object.prototype)}}module.exports={createKey:createKey};
},{}],188:[function(require,module,exports){
!function(n){for(var e=0,a=["webkit","moz"],t=n.requestAnimationFrame,i=n.cancelAnimationFrame,m=a.length;--m>=0&&!t;)t=n[a[m]+"RequestAnimationFrame"],i=n[a[m]+"CancelAnimationFrame"];t&&i||(t=function(n){var a=+new Date,t=Math.max(e+16,a);return setTimeout(function(){n(e=t)},t-a)},i=clearTimeout),n.requestAnimationFrame=t,n.cancelAnimationFrame=i}(window);
},{}],189:[function(require,module,exports){
module.exports=function(){"use strict";function t(t){for(var e=t.length,n=[];e--;)n[e]=t[e];return n}function e(t,e){for(var n=(t||[]).length,r=0;n>r;r++)e(t[r],r)}function n(t,n){var r=[];return e(t,function(t,e){r[e]=n(t,e)}),r}function r(n,u){u(n),e(t(n.childNodes),function(t){r(t,u)})}function u(t,e){var n=(e||"").split(".")||void 0;return n&&n.reduce(function(t,e){return t&&t[e]},t)}function i(t,n){var r="";return e(t,function(t,e){r+=t+(n[e]||"")}),r}function o(t){return n(t.match(c),function(t){return t.substring(2,t.length-2)})}function a(t,e){for(var n=t.values,r=n.length;r--;)if(n[r]!==e[r])return t.values=e,!0;return!1}var c=/{{.+?}}/g,s=/^tb-/,l=[],f=function(){var t=Element.prototype,e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return function(t,n){return t instanceof Element&&e.call(t,n)}}();return{clear:function(){l.length=0},directive:function(t,e){return l.push({matcher:t,parse:e}),this},parse:function(t,h){var v=[],p=[];return r(t,function(t){var n,r;e(l,function(e){f(t,e.matcher)&&p.push(e.parse(t,h))}),t instanceof Text&&(r=o(t.textContent)).length&&(n={attributes:null,text:{template:t.textContent.split(c),keys:r,values:new Array(r.length),node:t}}),e(t.attributes,function(e){var u=e.value,i=e.name;(r=o(u)).length&&(s.test(i)&&(i=i.replace(s,""),t.setAttribute(i,""),e=t.attributes[i]),(n||(n={attributes:[],text:null})).attributes.push({template:u.split(c),keys:r,values:new Array(r.length),domAttr:e}))}),n&&v.push(n)}),function(t){function r(e){return e?u(t,e):t}e(v,function(t){var u,o;(u=t.text)&&(o=n(u.keys,r),a(u,o)&&(u.node.textContent=i(u.template,o))),t.attributes&&e(t.attributes,function(t){o=n(t.keys,r),a(t,o)&&(t.domAttr.value=i(t.template,o))})}),e(p,function(t){t(r)})}}}}();
},{}],190:[function(require,module,exports){
!function(){"use strict";function e(t){t.permitHostObjects___&&t.permitHostObjects___(e)}function t(e){return!(e.substr(0,_.length)==_&&"___"===e.substr(e.length-3))}function n(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(!l(e))return void 0;t={key:e};try{return s(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(n){return void 0}}function r(e){return e.prototype=null,Object.freeze(e)}function o(){d||"undefined"==typeof console||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var a=!1;if("function"==typeof WeakMap){var i=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var u=new i,f=Object.freeze({});if(u.set(f,1),1===u.get(f))return void(module.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),s=Object.defineProperty,l=Object.isExtensible,_="weakmap:",p=_+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var v=new ArrayBuffer(25),b=new Uint8Array(v);crypto.getRandomValues(b),p=_+"rand:"+Array.prototype.map.call(b,function(e){return(e%36).toString(36)}).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(e){return c(e).filter(t)}}),"getPropertyNames"in Object){var y=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(e){return y(e).filter(t)}})}!function(){var e=Object.freeze;s(Object,"freeze",{value:function(t){return n(t),e(t)}});var t=Object.seal;s(Object,"seal",{value:function(e){return n(e),t(e)}});var r=Object.preventExtensions;s(Object,"preventExtensions",{value:function(e){return n(e),r(e)}})}();var d=!1,O=0,g=function(){function e(e,t){var r,o=n(e);return o?c in o?o[c]:t:(r=u.indexOf(e),r>=0?f[r]:t)}function t(e){var t=n(e);return t?c in t:u.indexOf(e)>=0}function a(e,t){var r,o=n(e);return o?o[c]=t:(r=u.indexOf(e),r>=0?f[r]=t:(r=u.length,f[r]=t,u[r]=e)),this}function i(e){var t,r,o=n(e);return o?c in o&&delete o[c]:(t=u.indexOf(e),0>t?!1:(r=u.length-1,u[t]=void 0,f[t]=f[r],u[t]=u[r],u.length=r,f.length=r,!0))}this instanceof g||o();var u=[],f=[],c=O++;return Object.create(g.prototype,{get___:{value:r(e)},has___:{value:r(t)},set___:{value:r(a)},delete___:{value:r(i)}})};g.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},"delete":{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof i?!function(){function t(){function t(e,t){return s?c.has(e)?c.get(e):s.get___(e,t):c.get(e,t)}function n(e){return c.has(e)||(s?s.has___(e):!1)}function u(e){var t=!!c["delete"](e);return s?s.delete___(e)||t:t}this instanceof g||o();var f,c=new i,s=void 0,l=!1;return f=a?function(e,t){return c.set(e,t),c.has(e)||(s||(s=new g),s.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(n){s||(s=new g),s.set___(e,t)}else c.set(e,t);return this},Object.create(g.prototype,{get___:{value:r(t)},has___:{value:r(n)},set___:{value:r(f)},delete___:{value:r(u)},permitHostObjects___:{value:r(function(t){if(t!==e)throw new Error("bogus call to permitHostObjects___");l=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),t.prototype=g.prototype,module.exports=t,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),module.exports=g)}}();
},{}],191:[function(require,module,exports){
!function(){"use strict";function t(e){this.map={};var o=this;e instanceof t?e.forEach(function(t,e){e.forEach(function(e){o.append(t,e)})}):e&&Object.getOwnPropertyNames(e).forEach(function(t){o.append(t,e[t])})}function e(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function o(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function r(t){var e=new FileReader;return e.readAsArrayBuffer(t),o(e)}function n(t){var e=new FileReader;return e.readAsText(t),o(e)}function s(){return this.bodyUsed=!1,d.blob?(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(d.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.blob=function(){var t=e(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(r)},this.text=function(){var t=e(this);if(t)return t;if(this._bodyBlob)return n(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.text=function(){var t=e(this);return t?t:Promise.resolve(this._bodyText)}),d.formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}function i(t){var e=t.toUpperCase();return p.indexOf(e)>-1?e:t}function a(e,o){if(o=o||{},this.url=e,this.credentials=o.credentials||"omit",this.headers=new t(o.headers),this.method=i(o.method||"GET"),this.mode=o.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o.body)}function u(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var o=t.split("="),r=o.shift().replace(/\+/g," "),n=o.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(n))}}),e}function f(e){var o=new t,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var e=t.trim().split(":"),r=e.shift().trim(),n=e.join(":").trim();o.append(r,n)}),o}function h(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers,this.url=e.url||""}if(!self.fetch){t.prototype.append=function(t,e){t=t.toLowerCase();var o=this.map[t];o||(o=[],this.map[t]=o),o.push(e)},t.prototype["delete"]=function(t){delete this.map[t.toLowerCase()]},t.prototype.get=function(t){var e=this.map[t.toLowerCase()];return e?e[0]:null},t.prototype.getAll=function(t){return this.map[t.toLowerCase()]||[]},t.prototype.has=function(t){return this.map.hasOwnProperty(t.toLowerCase())},t.prototype.set=function(t,e){this.map[t.toLowerCase()]=[e]},t.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(o){t(o,e.map[o])})};var d={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];a.prototype.fetch=function(){var t=this;return new Promise(function(e,o){function r(){return"responseURL"in n?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):void 0}var n=new XMLHttpRequest;"cors"===t.credentials&&(n.withCredentials=!0),n.onload=function(){var t=1223===n.status?204:n.status;if(100>t||t>599)return void o(new TypeError("Network request failed"));var s={status:t,statusText:n.statusText,headers:f(n),url:r()},i="response"in n?n.response:n.responseText;e(new h(i,s))},n.onerror=function(){o(new TypeError("Network request failed"))},n.open(t.method,t.url,!0),"responseType"in n&&d.blob&&(n.responseType="blob"),t.headers.forEach(function(t,e){e.forEach(function(e){n.setRequestHeader(t,e)})}),n.send("undefined"==typeof t._bodyInit?null:t._bodyInit)})},s.call(a.prototype),s.call(h.prototype),self.Headers=t,self.Request=a,self.Response=h,self.fetch=function(t,e){return new a(t,e).fetch()},self.fetch.polyfill=!0}}();
},{}]},{},[54])


//# sourceMappingURL=lightbox.js.map
//
//
/*# sourceMappingURL = /foo/lightbox.foo.js.map */


